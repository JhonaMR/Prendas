(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))o(h);new MutationObserver(h=>{for(const y of h)if(y.type==="childList")for(const B of y.addedNodes)B.tagName==="LINK"&&B.rel==="modulepreload"&&o(B)}).observe(document,{childList:!0,subtree:!0});function u(h){const y={};return h.integrity&&(y.integrity=h.integrity),h.referrerPolicy&&(y.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?y.credentials="include":h.crossOrigin==="anonymous"?y.credentials="omit":y.credentials="same-origin",y}function o(h){if(h.ep)return;h.ep=!0;const y=u(h);fetch(h.href,y)}})();function ux(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}var Pi={exports:{}},Nn={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F0;function Ch(){if(F0)return Nn;F0=1;var d=Symbol.for("react.transitional.element"),c=Symbol.for("react.fragment");function u(o,h,y){var B=null;if(y!==void 0&&(B=""+y),h.key!==void 0&&(B=""+h.key),"key"in h){y={};for(var _ in h)_!=="key"&&(y[_]=h[_])}else y=h;return h=y.ref,{$$typeof:d,type:o,key:B,ref:h!==void 0?h:null,props:y}}return Nn.Fragment=c,Nn.jsx=u,Nn.jsxs=u,Nn}var W0;function Eh(){return W0||(W0=1,Pi.exports=Ch()),Pi.exports}var a=Eh(),eo={exports:{}},Ae={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P0;function Dh(){if(P0)return Ae;P0=1;var d=Symbol.for("react.transitional.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),y=Symbol.for("react.consumer"),B=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),J=Symbol.iterator;function H(g){return g===null||typeof g!="object"?null:(g=J&&g[J]||g["@@iterator"],typeof g=="function"?g:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,F={};function ae(g,L,T){this.props=g,this.context=L,this.refs=F,this.updater=T||m}ae.prototype.isReactComponent={},ae.prototype.setState=function(g,L){if(typeof g!="object"&&typeof g!="function"&&g!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,g,L,"setState")},ae.prototype.forceUpdate=function(g){this.updater.enqueueForceUpdate(this,g,"forceUpdate")};function ne(){}ne.prototype=ae.prototype;function le(g,L,T){this.props=g,this.context=L,this.refs=F,this.updater=T||m}var ee=le.prototype=new ne;ee.constructor=le,z(ee,ae.prototype),ee.isPureReactComponent=!0;var te=Array.isArray;function D(){}var f={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function re(g,L,T){var K=T.ref;return{$$typeof:d,type:g,key:L,ref:K!==void 0?K:null,props:T}}function fe(g,L){return re(g.type,L,g.props)}function P(g){return typeof g=="object"&&g!==null&&g.$$typeof===d}function j(g){var L={"=":"=0",":":"=2"};return"$"+g.replace(/[=:]/g,function(T){return L[T]})}var Z=/\/+/g;function he(g,L){return typeof g=="object"&&g!==null&&g.key!=null?j(""+g.key):L.toString(36)}function Q(g){switch(g.status){case"fulfilled":return g.value;case"rejected":throw g.reason;default:switch(typeof g.status=="string"?g.then(D,D):(g.status="pending",g.then(function(L){g.status==="pending"&&(g.status="fulfilled",g.value=L)},function(L){g.status==="pending"&&(g.status="rejected",g.reason=L)})),g.status){case"fulfilled":return g.value;case"rejected":throw g.reason}}throw g}function E(g,L,T,K,ie){var be=typeof g;(be==="undefined"||be==="boolean")&&(g=null);var oe=!1;if(g===null)oe=!0;else switch(be){case"bigint":case"string":case"number":oe=!0;break;case"object":switch(g.$$typeof){case d:case c:oe=!0;break;case C:return oe=g._init,E(oe(g._payload),L,T,K,ie)}}if(oe)return ie=ie(g),oe=K===""?"."+he(g,0):K,te(ie)?(T="",oe!=null&&(T=oe.replace(Z,"$&/")+"/"),E(ie,L,T,"",function(A){return A})):ie!=null&&(P(ie)&&(ie=fe(ie,T+(ie.key==null||g&&g.key===ie.key?"":(""+ie.key).replace(Z,"$&/")+"/")+oe)),L.push(ie)),1;oe=0;var xe=K===""?".":K+":";if(te(g))for(var w=0;w<g.length;w++)K=g[w],be=xe+he(K,w),oe+=E(K,L,T,be,ie);else if(w=H(g),typeof w=="function")for(g=w.call(g),w=0;!(K=g.next()).done;)K=K.value,be=xe+he(K,w++),oe+=E(K,L,T,be,ie);else if(be==="object"){if(typeof g.then=="function")return E(Q(g),L,T,K,ie);throw L=String(g),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return oe}function q(g,L,T){if(g==null)return g;var K=[],ie=0;return E(g,K,"","",function(be){return L.call(T,be,ie++)}),K}function N(g){if(g._status===-1){var L=g._result;L=L(),L.then(function(T){(g._status===0||g._status===-1)&&(g._status=1,g._result=T)},function(T){(g._status===0||g._status===-1)&&(g._status=2,g._result=T)}),g._status===-1&&(g._status=0,g._result=L)}if(g._status===1)return g._result.default;throw g._result}var G=typeof reportError=="function"?reportError:function(g){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof g=="object"&&g!==null&&typeof g.message=="string"?String(g.message):String(g),error:g});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",g);return}console.error(g)},I={map:q,forEach:function(g,L,T){q(g,function(){L.apply(this,arguments)},T)},count:function(g){var L=0;return q(g,function(){L++}),L},toArray:function(g){return q(g,function(L){return L})||[]},only:function(g){if(!P(g))throw Error("React.Children.only expected to receive a single React element child.");return g}};return Ae.Activity=S,Ae.Children=I,Ae.Component=ae,Ae.Fragment=u,Ae.Profiler=h,Ae.PureComponent=le,Ae.StrictMode=o,Ae.Suspense=p,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=f,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(g){return f.H.useMemoCache(g)}},Ae.cache=function(g){return function(){return g.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(g,L,T){if(g==null)throw Error("The argument must be a React element, but you passed "+g+".");var K=z({},g.props),ie=g.key;if(L!=null)for(be in L.key!==void 0&&(ie=""+L.key),L)!O.call(L,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&L.ref===void 0||(K[be]=L[be]);var be=arguments.length-2;if(be===1)K.children=T;else if(1<be){for(var oe=Array(be),xe=0;xe<be;xe++)oe[xe]=arguments[xe+2];K.children=oe}return re(g.type,ie,K)},Ae.createContext=function(g){return g={$$typeof:B,_currentValue:g,_currentValue2:g,_threadCount:0,Provider:null,Consumer:null},g.Provider=g,g.Consumer={$$typeof:y,_context:g},g},Ae.createElement=function(g,L,T){var K,ie={},be=null;if(L!=null)for(K in L.key!==void 0&&(be=""+L.key),L)O.call(L,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(ie[K]=L[K]);var oe=arguments.length-2;if(oe===1)ie.children=T;else if(1<oe){for(var xe=Array(oe),w=0;w<oe;w++)xe[w]=arguments[w+2];ie.children=xe}if(g&&g.defaultProps)for(K in oe=g.defaultProps,oe)ie[K]===void 0&&(ie[K]=oe[K]);return re(g,be,ie)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(g){return{$$typeof:_,render:g}},Ae.isValidElement=P,Ae.lazy=function(g){return{$$typeof:C,_payload:{_status:-1,_result:g},_init:N}},Ae.memo=function(g,L){return{$$typeof:v,type:g,compare:L===void 0?null:L}},Ae.startTransition=function(g){var L=f.T,T={};f.T=T;try{var K=g(),ie=f.S;ie!==null&&ie(T,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(D,G)}catch(be){G(be)}finally{L!==null&&T.types!==null&&(L.types=T.types),f.T=L}},Ae.unstable_useCacheRefresh=function(){return f.H.useCacheRefresh()},Ae.use=function(g){return f.H.use(g)},Ae.useActionState=function(g,L,T){return f.H.useActionState(g,L,T)},Ae.useCallback=function(g,L){return f.H.useCallback(g,L)},Ae.useContext=function(g){return f.H.useContext(g)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(g,L){return f.H.useDeferredValue(g,L)},Ae.useEffect=function(g,L){return f.H.useEffect(g,L)},Ae.useEffectEvent=function(g){return f.H.useEffectEvent(g)},Ae.useId=function(){return f.H.useId()},Ae.useImperativeHandle=function(g,L,T){return f.H.useImperativeHandle(g,L,T)},Ae.useInsertionEffect=function(g,L){return f.H.useInsertionEffect(g,L)},Ae.useLayoutEffect=function(g,L){return f.H.useLayoutEffect(g,L)},Ae.useMemo=function(g,L){return f.H.useMemo(g,L)},Ae.useOptimistic=function(g,L){return f.H.useOptimistic(g,L)},Ae.useReducer=function(g,L,T){return f.H.useReducer(g,L,T)},Ae.useRef=function(g){return f.H.useRef(g)},Ae.useState=function(g){return f.H.useState(g)},Ae.useSyncExternalStore=function(g,L,T){return f.H.useSyncExternalStore(g,L,T)},Ae.useTransition=function(){return f.H.useTransition()},Ae.version="19.2.4",Ae}var ex;function co(){return ex||(ex=1,eo.exports=Dh()),eo.exports}var b=co();const Et=ux(b);var to={exports:{}},wn={},ao={exports:{}},lo={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tx;function Ah(){return tx||(tx=1,(function(d){function c(E,q){var N=E.length;E.push(q);e:for(;0<N;){var G=N-1>>>1,I=E[G];if(0<h(I,q))E[G]=q,E[N]=I,N=G;else break e}}function u(E){return E.length===0?null:E[0]}function o(E){if(E.length===0)return null;var q=E[0],N=E.pop();if(N!==q){E[0]=N;e:for(var G=0,I=E.length,g=I>>>1;G<g;){var L=2*(G+1)-1,T=E[L],K=L+1,ie=E[K];if(0>h(T,N))K<I&&0>h(ie,T)?(E[G]=ie,E[K]=N,G=K):(E[G]=T,E[L]=N,G=L);else if(K<I&&0>h(ie,N))E[G]=ie,E[K]=N,G=K;else break e}}return q}function h(E,q){var N=E.sortIndex-q.sortIndex;return N!==0?N:E.id-q.id}if(d.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var y=performance;d.unstable_now=function(){return y.now()}}else{var B=Date,_=B.now();d.unstable_now=function(){return B.now()-_}}var p=[],v=[],C=1,S=null,J=3,H=!1,m=!1,z=!1,F=!1,ae=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,le=typeof setImmediate<"u"?setImmediate:null;function ee(E){for(var q=u(v);q!==null;){if(q.callback===null)o(v);else if(q.startTime<=E)o(v),q.sortIndex=q.expirationTime,c(p,q);else break;q=u(v)}}function te(E){if(z=!1,ee(E),!m)if(u(p)!==null)m=!0,D||(D=!0,j());else{var q=u(v);q!==null&&Q(te,q.startTime-E)}}var D=!1,f=-1,O=5,re=-1;function fe(){return F?!0:!(d.unstable_now()-re<O)}function P(){if(F=!1,D){var E=d.unstable_now();re=E;var q=!0;try{e:{m=!1,z&&(z=!1,ne(f),f=-1),H=!0;var N=J;try{t:{for(ee(E),S=u(p);S!==null&&!(S.expirationTime>E&&fe());){var G=S.callback;if(typeof G=="function"){S.callback=null,J=S.priorityLevel;var I=G(S.expirationTime<=E);if(E=d.unstable_now(),typeof I=="function"){S.callback=I,ee(E),q=!0;break t}S===u(p)&&o(p),ee(E)}else o(p);S=u(p)}if(S!==null)q=!0;else{var g=u(v);g!==null&&Q(te,g.startTime-E),q=!1}}break e}finally{S=null,J=N,H=!1}q=void 0}}finally{q?j():D=!1}}}var j;if(typeof le=="function")j=function(){le(P)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,he=Z.port2;Z.port1.onmessage=P,j=function(){he.postMessage(null)}}else j=function(){ae(P,0)};function Q(E,q){f=ae(function(){E(d.unstable_now())},q)}d.unstable_IdlePriority=5,d.unstable_ImmediatePriority=1,d.unstable_LowPriority=4,d.unstable_NormalPriority=3,d.unstable_Profiling=null,d.unstable_UserBlockingPriority=2,d.unstable_cancelCallback=function(E){E.callback=null},d.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<E?Math.floor(1e3/E):5},d.unstable_getCurrentPriorityLevel=function(){return J},d.unstable_next=function(E){switch(J){case 1:case 2:case 3:var q=3;break;default:q=J}var N=J;J=q;try{return E()}finally{J=N}},d.unstable_requestPaint=function(){F=!0},d.unstable_runWithPriority=function(E,q){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var N=J;J=E;try{return q()}finally{J=N}},d.unstable_scheduleCallback=function(E,q,N){var G=d.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?G+N:G):N=G,E){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=N+I,E={id:C++,callback:q,priorityLevel:E,startTime:N,expirationTime:I,sortIndex:-1},N>G?(E.sortIndex=N,c(v,E),u(p)===null&&E===u(v)&&(z?(ne(f),f=-1):z=!0,Q(te,N-G))):(E.sortIndex=I,c(p,E),m||H||(m=!0,D||(D=!0,j()))),E},d.unstable_shouldYield=fe,d.unstable_wrapCallback=function(E){var q=J;return function(){var N=J;J=q;try{return E.apply(this,arguments)}finally{J=N}}}})(lo)),lo}var ax;function Rh(){return ax||(ax=1,ao.exports=Ah()),ao.exports}var so={exports:{}},Ht={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lx;function Mh(){if(lx)return Ht;lx=1;var d=co();function c(p){var v="https://react.dev/errors/"+p;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var C=2;C<arguments.length;C++)v+="&args[]="+encodeURIComponent(arguments[C])}return"Minified React error #"+p+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(){}var o={d:{f:u,r:function(){throw Error(c(522))},D:u,C:u,L:u,m:u,X:u,S:u,M:u},p:0,findDOMNode:null},h=Symbol.for("react.portal");function y(p,v,C){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:h,key:S==null?null:""+S,children:p,containerInfo:v,implementation:C}}var B=d.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function _(p,v){if(p==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Ht.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,Ht.createPortal=function(p,v){var C=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(c(299));return y(p,v,null,C)},Ht.flushSync=function(p){var v=B.T,C=o.p;try{if(B.T=null,o.p=2,p)return p()}finally{B.T=v,o.p=C,o.d.f()}},Ht.preconnect=function(p,v){typeof p=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,o.d.C(p,v))},Ht.prefetchDNS=function(p){typeof p=="string"&&o.d.D(p)},Ht.preinit=function(p,v){if(typeof p=="string"&&v&&typeof v.as=="string"){var C=v.as,S=_(C,v.crossOrigin),J=typeof v.integrity=="string"?v.integrity:void 0,H=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;C==="style"?o.d.S(p,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:S,integrity:J,fetchPriority:H}):C==="script"&&o.d.X(p,{crossOrigin:S,integrity:J,fetchPriority:H,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Ht.preinitModule=function(p,v){if(typeof p=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var C=_(v.as,v.crossOrigin);o.d.M(p,{crossOrigin:C,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&o.d.M(p)},Ht.preload=function(p,v){if(typeof p=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var C=v.as,S=_(C,v.crossOrigin);o.d.L(p,C,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Ht.preloadModule=function(p,v){if(typeof p=="string")if(v){var C=_(v.as,v.crossOrigin);o.d.m(p,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:C,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else o.d.m(p)},Ht.requestFormReset=function(p){o.d.r(p)},Ht.unstable_batchedUpdates=function(p,v){return p(v)},Ht.useFormState=function(p,v,C){return B.H.useFormState(p,v,C)},Ht.useFormStatus=function(){return B.H.useHostTransitionStatus()},Ht.version="19.2.4",Ht}var sx;function Th(){if(sx)return so.exports;sx=1;function d(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d)}catch(c){console.error(c)}}return d(),so.exports=Mh(),so.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nx;function Oh(){if(nx)return wn;nx=1;var d=Rh(),c=co(),u=Th();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)t+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function h(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function y(e){var t=e,l=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(l=t.return),e=t.return;while(e)}return t.tag===3?l:null}function B(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(y(e)!==e)throw Error(o(188))}function v(e){var t=e.alternate;if(!t){if(t=y(e),t===null)throw Error(o(188));return t!==e?null:e}for(var l=e,s=t;;){var n=l.return;if(n===null)break;var r=n.alternate;if(r===null){if(s=n.return,s!==null){l=s;continue}break}if(n.child===r.child){for(r=n.child;r;){if(r===l)return p(n),e;if(r===s)return p(n),t;r=r.sibling}throw Error(o(188))}if(l.return!==s.return)l=n,s=r;else{for(var i=!1,x=n.child;x;){if(x===l){i=!0,l=n,s=r;break}if(x===s){i=!0,s=n,l=r;break}x=x.sibling}if(!i){for(x=r.child;x;){if(x===l){i=!0,l=r,s=n;break}if(x===s){i=!0,s=r,l=n;break}x=x.sibling}if(!i)throw Error(o(189))}}if(l.alternate!==s)throw Error(o(190))}if(l.tag!==3)throw Error(o(188));return l.stateNode.current===l?e:t}function C(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=C(e),t!==null)return t;e=e.sibling}return null}var S=Object.assign,J=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),ae=Symbol.for("react.profiler"),ne=Symbol.for("react.consumer"),le=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),re=Symbol.for("react.activity"),fe=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function j(e){return e===null||typeof e!="object"?null:(e=P&&e[P]||e["@@iterator"],typeof e=="function"?e:null)}var Z=Symbol.for("react.client.reference");function he(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Z?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case z:return"Fragment";case ae:return"Profiler";case F:return"StrictMode";case te:return"Suspense";case D:return"SuspenseList";case re:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case m:return"Portal";case le:return e.displayName||"Context";case ne:return(e._context.displayName||"Context")+".Consumer";case ee:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case f:return t=e.displayName||null,t!==null?t:he(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return he(e(t))}catch{}}return null}var Q=Array.isArray,E=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=u.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N={pending:!1,data:null,method:null,action:null},G=[],I=-1;function g(e){return{current:e}}function L(e){0>I||(e.current=G[I],G[I]=null,I--)}function T(e,t){I++,G[I]=e.current,e.current=t}var K=g(null),ie=g(null),be=g(null),oe=g(null);function xe(e,t){switch(T(be,t),T(ie,e),T(K,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?j0(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=j0(t),e=y0(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}L(K),T(K,e)}function w(){L(K),L(ie),L(be)}function A(e){e.memoizedState!==null&&T(oe,e);var t=K.current,l=y0(t,e.type);t!==l&&(T(ie,e),T(K,l))}function V(e){ie.current===e&&(L(K),L(ie)),oe.current===e&&(L(oe),bn._currentValue=N)}var ue,ge;function Ne(e){if(ue===void 0)try{throw Error()}catch(l){var t=l.stack.trim().match(/\n( *(at )?)/);ue=t&&t[1]||"",ge=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ue+e+ge}var rt=!1;function Ye(e,t){if(!e||rt)return"";rt=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(W){var X=W}Reflect.construct(e,[],de)}else{try{de.call()}catch(W){X=W}e.call(de.prototype)}}else{try{throw Error()}catch(W){X=W}(de=e())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(W){if(W&&X&&typeof W.stack=="string")return[W.stack,X.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=s.DetermineComponentFrameRoot(),i=r[0],x=r[1];if(i&&x){var k=i.split(`
`),Y=x.split(`
`);for(n=s=0;s<k.length&&!k[s].includes("DetermineComponentFrameRoot");)s++;for(;n<Y.length&&!Y[n].includes("DetermineComponentFrameRoot");)n++;if(s===k.length||n===Y.length)for(s=k.length-1,n=Y.length-1;1<=s&&0<=n&&k[s]!==Y[n];)n--;for(;1<=s&&0<=n;s--,n--)if(k[s]!==Y[n]){if(s!==1||n!==1)do if(s--,n--,0>n||k[s]!==Y[n]){var se=`
`+k[s].replace(" at new "," at ");return e.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",e.displayName)),se}while(1<=s&&0<=n);break}}}finally{rt=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?Ne(l):""}function Pe(e,t){switch(e.tag){case 26:case 27:case 5:return Ne(e.type);case 16:return Ne("Lazy");case 13:return e.child!==t&&t!==null?Ne("Suspense Fallback"):Ne("Suspense");case 19:return Ne("SuspenseList");case 0:case 15:return Ye(e.type,!1);case 11:return Ye(e.type.render,!1);case 1:return Ye(e.type,!0);case 31:return Ne("Activity");default:return""}}function Tt(e){try{var t="",l=null;do t+=Pe(e,l),l=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var ye=Object.prototype.hasOwnProperty,Oe=d.unstable_scheduleCallback,dt=d.unstable_cancelCallback,At=d.unstable_shouldYield,kt=d.unstable_requestPaint,Ie=d.unstable_now,$t=d.unstable_getCurrentPriorityLevel,pe=d.unstable_ImmediatePriority,Me=d.unstable_UserBlockingPriority,Ot=d.unstable_NormalPriority,$l=d.unstable_LowPriority,Ka=d.unstable_IdlePriority,Yl=d.log,kl=d.unstable_setDisableYieldValue,sa=null,St=null;function Yt(e){if(typeof Yl=="function"&&kl(e),St&&typeof St.setStrictMode=="function")try{St.setStrictMode(sa,e)}catch{}}var bt=Math.clz32?Math.clz32:at,Ee=Math.log,zt=Math.LN2;function at(e){return e>>>=0,e===0?32:31-(Ee(e)/zt|0)|0}var Je=256,Fa=262144,Wa=4194304;function Ea(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ja(e,t,l){var s=e.pendingLanes;if(s===0)return 0;var n=0,r=e.suspendedLanes,i=e.pingedLanes;e=e.warmLanes;var x=s&134217727;return x!==0?(s=x&~r,s!==0?n=Ea(s):(i&=x,i!==0?n=Ea(i):l||(l=x&~e,l!==0&&(n=Ea(l))))):(x=s&~r,x!==0?n=Ea(x):i!==0?n=Ea(i):l||(l=s&~e,l!==0&&(n=Ea(l)))),n===0?0:t!==0&&t!==n&&(t&r)===0&&(r=n&-n,l=t&-t,r>=l||r===32&&(l&4194048)!==0)?t:n}function ya(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Sl(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function En(){var e=Wa;return Wa<<=1,(Wa&62914560)===0&&(Wa=4194304),e}function Da(e){for(var t=[],l=0;31>l;l++)t.push(e);return t}function ct(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ms(e,t,l,s,n,r){var i=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var x=e.entanglements,k=e.expirationTimes,Y=e.hiddenUpdates;for(l=i&~l;0<l;){var se=31-bt(l),de=1<<se;x[se]=0,k[se]=-1;var X=Y[se];if(X!==null)for(Y[se]=null,se=0;se<X.length;se++){var W=X[se];W!==null&&(W.lane&=-536870913)}l&=~de}s!==0&&Dn(e,s,0),r!==0&&n===0&&e.tag!==0&&(e.suspendedLanes|=r&~(i&~t))}function Dn(e,t,l){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-bt(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|l&261930}function An(e,t){var l=e.entangledLanes|=t;for(e=e.entanglements;l;){var s=31-bt(l),n=1<<s;n&t|e[s]&t&&(e[s]|=t),l&=~n}}function Rn(e,t){var l=t&-t;return l=(l&42)!==0?1:Ts(l),(l&(e.suspendedLanes|t))!==0?0:l}function Ts(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Os(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Mn(){var e=q.p;return e!==0?e:(e=window.event,e===void 0?32:Y0(e.type))}function Aa(e,t){var l=q.p;try{return q.p=e,t()}finally{q.p=l}}var pa=Math.random().toString(36).slice(2),M="__reactFiber$"+pa,me="__reactProps$"+pa,ke="__reactContainer$"+pa,Qe="__reactEvents$"+pa,Rt="__reactListeners$"+pa,Qr="__reactHandles$"+pa,Ql="__reactResources$"+pa,Pa="__reactMarker$"+pa;function Xl(e){delete e[M],delete e[me],delete e[Qe],delete e[Rt],delete e[Qr]}function Ra(e){var t=e[M];if(t)return t;for(var l=e.parentNode;l;){if(t=l[ke]||l[M]){if(l=t.alternate,t.child!==null||l!==null&&l.child!==null)for(e=D0(e);e!==null;){if(l=e[M])return l;e=D0(e)}return t}e=l,l=e.parentNode}return null}function Ma(e){if(e=e[M]||e[ke]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Vt(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function $e(e){var t=e[Ql];return t||(t=e[Ql]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Pa]=!0}var ma=new Set,el={};function Cl(e,t){Zl(e,t),Zl(e+"Capture",t)}function Zl(e,t){for(el[e]=t,e=0;e<t.length;e++)ma.add(t[e])}var mx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),oo={},uo={};function gx(e){return ye.call(uo,e)?!0:ye.call(oo,e)?!1:mx.test(e)?uo[e]=!0:(oo[e]=!0,!1)}function Tn(e,t,l){if(gx(t))if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+l)}}function On(e,t,l){if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+l)}}function Ta(e,t,l,s){if(s===null)e.removeAttribute(l);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(t,l,""+s)}}function na(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function xo(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function bx(e,t,l){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var n=s.get,r=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(i){l=""+i,r.call(this,i)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(i){l=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Xr(e){if(!e._valueTracker){var t=xo(e)?"checked":"value";e._valueTracker=bx(e,t,""+e[t])}}function fo(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var l=t.getValue(),s="";return e&&(s=xo(e)?e.checked?"true":"false":e.value),e=s,e!==l?(t.setValue(e),!0):!1}function zn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var vx=/[\n"\\]/g;function ra(e){return e.replace(vx,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Zr(e,t,l,s,n,r,i,x){e.name="",i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"?e.type=i:e.removeAttribute("type"),t!=null?i==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+na(t)):e.value!==""+na(t)&&(e.value=""+na(t)):i!=="submit"&&i!=="reset"||e.removeAttribute("value"),t!=null?Ir(e,i,na(t)):l!=null?Ir(e,i,na(l)):s!=null&&e.removeAttribute("value"),n==null&&r!=null&&(e.defaultChecked=!!r),n!=null&&(e.checked=n&&typeof n!="function"&&typeof n!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.name=""+na(x):e.removeAttribute("name")}function ho(e,t,l,s,n,r,i,x){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.type=r),t!=null||l!=null){if(!(r!=="submit"&&r!=="reset"||t!=null)){Xr(e);return}l=l!=null?""+na(l):"",t=t!=null?""+na(t):l,x||t===e.value||(e.value=t),e.defaultValue=t}s=s??n,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=x?e.checked:!!s,e.defaultChecked=!!s,i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.name=i),Xr(e)}function Ir(e,t,l){t==="number"&&zn(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function Il(e,t,l,s){if(e=e.options,t){t={};for(var n=0;n<l.length;n++)t["$"+l[n]]=!0;for(l=0;l<e.length;l++)n=t.hasOwnProperty("$"+e[l].value),e[l].selected!==n&&(e[l].selected=n),n&&s&&(e[l].defaultSelected=!0)}else{for(l=""+na(l),t=null,n=0;n<e.length;n++){if(e[n].value===l){e[n].selected=!0,s&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function po(e,t,l){if(t!=null&&(t=""+na(t),t!==e.value&&(e.value=t),l==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=l!=null?""+na(l):""}function mo(e,t,l,s){if(t==null){if(s!=null){if(l!=null)throw Error(o(92));if(Q(s)){if(1<s.length)throw Error(o(93));s=s[0]}l=s}l==null&&(l=""),t=l}l=na(t),e.defaultValue=l,s=e.textContent,s===l&&s!==""&&s!==null&&(e.value=s),Xr(e)}function Jl(e,t){if(t){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=t;return}}e.textContent=t}var jx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function go(e,t,l){var s=t.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,l):typeof l!="number"||l===0||jx.has(t)?t==="float"?e.cssFloat=l:e[t]=(""+l).trim():e[t]=l+"px"}function bo(e,t,l){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,l!=null){for(var s in l)!l.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var n in t)s=t[n],t.hasOwnProperty(n)&&l[n]!==s&&go(e,n,s)}else for(var r in t)t.hasOwnProperty(r)&&go(e,r,t[r])}function Jr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Nx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ln(e){return Nx.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Oa(){}var Kr=null;function Fr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Kl=null,Fl=null;function vo(e){var t=Ma(e);if(t&&(e=t.stateNode)){var l=e[me]||null;e:switch(e=t.stateNode,t.type){case"input":if(Zr(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),t=l.name,l.type==="radio"&&t!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+ra(""+t)+'"][type="radio"]'),t=0;t<l.length;t++){var s=l[t];if(s!==e&&s.form===e.form){var n=s[me]||null;if(!n)throw Error(o(90));Zr(s,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<l.length;t++)s=l[t],s.form===e.form&&fo(s)}break e;case"textarea":po(e,l.value,l.defaultValue);break e;case"select":t=l.value,t!=null&&Il(e,!!l.multiple,t,!1)}}}var Wr=!1;function jo(e,t,l){if(Wr)return e(t,l);Wr=!0;try{var s=e(t);return s}finally{if(Wr=!1,(Kl!==null||Fl!==null)&&(Nr(),Kl&&(t=Kl,e=Fl,Fl=Kl=null,vo(t),e)))for(t=0;t<e.length;t++)vo(e[t])}}function zs(e,t){var l=e.stateNode;if(l===null)return null;var s=l[me]||null;if(s===null)return null;l=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(o(231,t,typeof l));return l}var za=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pr=!1;if(za)try{var Ls={};Object.defineProperty(Ls,"passive",{get:function(){Pr=!0}}),window.addEventListener("test",Ls,Ls),window.removeEventListener("test",Ls,Ls)}catch{Pr=!1}var tl=null,ec=null,Un=null;function yo(){if(Un)return Un;var e,t=ec,l=t.length,s,n="value"in tl?tl.value:tl.textContent,r=n.length;for(e=0;e<l&&t[e]===n[e];e++);var i=l-e;for(s=1;s<=i&&t[l-s]===n[r-s];s++);return Un=n.slice(e,1<s?1-s:void 0)}function Bn(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function _n(){return!0}function No(){return!1}function Qt(e){function t(l,s,n,r,i){this._reactName=l,this._targetInst=n,this.type=s,this.nativeEvent=r,this.target=i,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(l=e[x],this[x]=l?l(r):r[x]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?_n:No,this.isPropagationStopped=No,this}return S(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=_n)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=_n)},persist:function(){},isPersistent:_n}),t}var El={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vn=Qt(El),Us=S({},El,{view:0,detail:0}),wx=Qt(Us),tc,ac,Bs,Hn=S({},Us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Bs&&(Bs&&e.type==="mousemove"?(tc=e.screenX-Bs.screenX,ac=e.screenY-Bs.screenY):ac=tc=0,Bs=e),tc)},movementY:function(e){return"movementY"in e?e.movementY:ac}}),wo=Qt(Hn),kx=S({},Hn,{dataTransfer:0}),Sx=Qt(kx),Cx=S({},Us,{relatedTarget:0}),lc=Qt(Cx),Ex=S({},El,{animationName:0,elapsedTime:0,pseudoElement:0}),Dx=Qt(Ex),Ax=S({},El,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Rx=Qt(Ax),Mx=S({},El,{data:0}),ko=Qt(Mx),Tx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ox={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=zx[e])?!!t[e]:!1}function sc(){return Lx}var Ux=S({},Us,{key:function(e){if(e.key){var t=Tx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Bn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ox[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sc,charCode:function(e){return e.type==="keypress"?Bn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Bn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Bx=Qt(Ux),_x=S({},Hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),So=Qt(_x),Vx=S({},Us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sc}),Hx=Qt(Vx),qx=S({},El,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gx=Qt(qx),$x=S({},Hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Yx=Qt($x),Qx=S({},El,{newState:0,oldState:0}),Xx=Qt(Qx),Zx=[9,13,27,32],nc=za&&"CompositionEvent"in window,_s=null;za&&"documentMode"in document&&(_s=document.documentMode);var Ix=za&&"TextEvent"in window&&!_s,Co=za&&(!nc||_s&&8<_s&&11>=_s),Eo=" ",Do=!1;function Ao(e,t){switch(e){case"keyup":return Zx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ro(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Wl=!1;function Jx(e,t){switch(e){case"compositionend":return Ro(t);case"keypress":return t.which!==32?null:(Do=!0,Eo);case"textInput":return e=t.data,e===Eo&&Do?null:e;default:return null}}function Kx(e,t){if(Wl)return e==="compositionend"||!nc&&Ao(e,t)?(e=yo(),Un=ec=tl=null,Wl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Co&&t.locale!=="ko"?null:t.data;default:return null}}var Fx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Fx[e.type]:t==="textarea"}function To(e,t,l,s){Kl?Fl?Fl.push(s):Fl=[s]:Kl=s,t=Ar(t,"onChange"),0<t.length&&(l=new Vn("onChange","change",null,l,s),e.push({event:l,listeners:t}))}var Vs=null,Hs=null;function Wx(e){h0(e,0)}function qn(e){var t=Vt(e);if(fo(t))return e}function Oo(e,t){if(e==="change")return t}var zo=!1;if(za){var rc;if(za){var cc="oninput"in document;if(!cc){var Lo=document.createElement("div");Lo.setAttribute("oninput","return;"),cc=typeof Lo.oninput=="function"}rc=cc}else rc=!1;zo=rc&&(!document.documentMode||9<document.documentMode)}function Uo(){Vs&&(Vs.detachEvent("onpropertychange",Bo),Hs=Vs=null)}function Bo(e){if(e.propertyName==="value"&&qn(Hs)){var t=[];To(t,Hs,e,Fr(e)),jo(Wx,t)}}function Px(e,t,l){e==="focusin"?(Uo(),Vs=t,Hs=l,Vs.attachEvent("onpropertychange",Bo)):e==="focusout"&&Uo()}function ef(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return qn(Hs)}function tf(e,t){if(e==="click")return qn(t)}function af(e,t){if(e==="input"||e==="change")return qn(t)}function lf(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ft=typeof Object.is=="function"?Object.is:lf;function qs(e,t){if(Ft(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var l=Object.keys(e),s=Object.keys(t);if(l.length!==s.length)return!1;for(s=0;s<l.length;s++){var n=l[s];if(!ye.call(t,n)||!Ft(e[n],t[n]))return!1}return!0}function _o(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Vo(e,t){var l=_o(e);e=0;for(var s;l;){if(l.nodeType===3){if(s=e+l.textContent.length,e<=t&&s>=t)return{node:l,offset:t-e};e=s}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=_o(l)}}function Ho(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ho(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function qo(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=zn(e.document);t instanceof e.HTMLIFrameElement;){try{var l=typeof t.contentWindow.location.href=="string"}catch{l=!1}if(l)e=t.contentWindow;else break;t=zn(e.document)}return t}function ic(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var sf=za&&"documentMode"in document&&11>=document.documentMode,Pl=null,oc=null,Gs=null,dc=!1;function Go(e,t,l){var s=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;dc||Pl==null||Pl!==zn(s)||(s=Pl,"selectionStart"in s&&ic(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Gs&&qs(Gs,s)||(Gs=s,s=Ar(oc,"onSelect"),0<s.length&&(t=new Vn("onSelect","select",null,t,l),e.push({event:t,listeners:s}),t.target=Pl)))}function Dl(e,t){var l={};return l[e.toLowerCase()]=t.toLowerCase(),l["Webkit"+e]="webkit"+t,l["Moz"+e]="moz"+t,l}var es={animationend:Dl("Animation","AnimationEnd"),animationiteration:Dl("Animation","AnimationIteration"),animationstart:Dl("Animation","AnimationStart"),transitionrun:Dl("Transition","TransitionRun"),transitionstart:Dl("Transition","TransitionStart"),transitioncancel:Dl("Transition","TransitionCancel"),transitionend:Dl("Transition","TransitionEnd")},uc={},$o={};za&&($o=document.createElement("div").style,"AnimationEvent"in window||(delete es.animationend.animation,delete es.animationiteration.animation,delete es.animationstart.animation),"TransitionEvent"in window||delete es.transitionend.transition);function Al(e){if(uc[e])return uc[e];if(!es[e])return e;var t=es[e],l;for(l in t)if(t.hasOwnProperty(l)&&l in $o)return uc[e]=t[l];return e}var Yo=Al("animationend"),Qo=Al("animationiteration"),Xo=Al("animationstart"),nf=Al("transitionrun"),rf=Al("transitionstart"),cf=Al("transitioncancel"),Zo=Al("transitionend"),Io=new Map,xc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xc.push("scrollEnd");function ga(e,t){Io.set(e,t),Cl(t,[e])}var Gn=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ca=[],ts=0,fc=0;function $n(){for(var e=ts,t=fc=ts=0;t<e;){var l=ca[t];ca[t++]=null;var s=ca[t];ca[t++]=null;var n=ca[t];ca[t++]=null;var r=ca[t];if(ca[t++]=null,s!==null&&n!==null){var i=s.pending;i===null?n.next=n:(n.next=i.next,i.next=n),s.pending=n}r!==0&&Jo(l,n,r)}}function Yn(e,t,l,s){ca[ts++]=e,ca[ts++]=t,ca[ts++]=l,ca[ts++]=s,fc|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function hc(e,t,l,s){return Yn(e,t,l,s),Qn(e)}function Rl(e,t){return Yn(e,null,null,t),Qn(e)}function Jo(e,t,l){e.lanes|=l;var s=e.alternate;s!==null&&(s.lanes|=l);for(var n=!1,r=e.return;r!==null;)r.childLanes|=l,s=r.alternate,s!==null&&(s.childLanes|=l),r.tag===22&&(e=r.stateNode,e===null||e._visibility&1||(n=!0)),e=r,r=r.return;return e.tag===3?(r=e.stateNode,n&&t!==null&&(n=31-bt(l),e=r.hiddenUpdates,s=e[n],s===null?e[n]=[t]:s.push(t),t.lane=l|536870912),r):null}function Qn(e){if(50<un)throw un=0,wi=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var as={};function of(e,t,l,s){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wt(e,t,l,s){return new of(e,t,l,s)}function pc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function La(e,t){var l=e.alternate;return l===null?(l=Wt(e.tag,t,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=t,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,t=e.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function Ko(e,t){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,t=l.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Xn(e,t,l,s,n,r){var i=0;if(s=e,typeof e=="function")pc(e)&&(i=1);else if(typeof e=="string")i=hh(e,l,K.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case re:return e=Wt(31,l,t,n),e.elementType=re,e.lanes=r,e;case z:return Ml(l.children,n,r,t);case F:i=8,n|=24;break;case ae:return e=Wt(12,l,t,n|2),e.elementType=ae,e.lanes=r,e;case te:return e=Wt(13,l,t,n),e.elementType=te,e.lanes=r,e;case D:return e=Wt(19,l,t,n),e.elementType=D,e.lanes=r,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case le:i=10;break e;case ne:i=9;break e;case ee:i=11;break e;case f:i=14;break e;case O:i=16,s=null;break e}i=29,l=Error(o(130,e===null?"null":typeof e,"")),s=null}return t=Wt(i,l,t,n),t.elementType=e,t.type=s,t.lanes=r,t}function Ml(e,t,l,s){return e=Wt(7,e,s,t),e.lanes=l,e}function mc(e,t,l){return e=Wt(6,e,null,t),e.lanes=l,e}function Fo(e){var t=Wt(18,null,null,0);return t.stateNode=e,t}function gc(e,t,l){return t=Wt(4,e.children!==null?e.children:[],e.key,t),t.lanes=l,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Wo=new WeakMap;function ia(e,t){if(typeof e=="object"&&e!==null){var l=Wo.get(e);return l!==void 0?l:(t={value:e,source:t,stack:Tt(t)},Wo.set(e,t),t)}return{value:e,source:t,stack:Tt(t)}}var ls=[],ss=0,Zn=null,$s=0,oa=[],da=0,al=null,Na=1,wa="";function Ua(e,t){ls[ss++]=$s,ls[ss++]=Zn,Zn=e,$s=t}function Po(e,t,l){oa[da++]=Na,oa[da++]=wa,oa[da++]=al,al=e;var s=Na;e=wa;var n=32-bt(s)-1;s&=~(1<<n),l+=1;var r=32-bt(t)+n;if(30<r){var i=n-n%5;r=(s&(1<<i)-1).toString(32),s>>=i,n-=i,Na=1<<32-bt(t)+n|l<<n|s,wa=r+e}else Na=1<<r|l<<n|s,wa=e}function bc(e){e.return!==null&&(Ua(e,1),Po(e,1,0))}function vc(e){for(;e===Zn;)Zn=ls[--ss],ls[ss]=null,$s=ls[--ss],ls[ss]=null;for(;e===al;)al=oa[--da],oa[da]=null,wa=oa[--da],oa[da]=null,Na=oa[--da],oa[da]=null}function ed(e,t){oa[da++]=Na,oa[da++]=wa,oa[da++]=al,Na=t.id,wa=t.overflow,al=e}var Lt=null,st=null,Ve=!1,ll=null,ua=!1,jc=Error(o(519));function sl(e){var t=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ys(ia(t,e)),jc}function td(e){var t=e.stateNode,l=e.type,s=e.memoizedProps;switch(t[M]=e,t[me]=s,l){case"dialog":Le("cancel",t),Le("close",t);break;case"iframe":case"object":case"embed":Le("load",t);break;case"video":case"audio":for(l=0;l<fn.length;l++)Le(fn[l],t);break;case"source":Le("error",t);break;case"img":case"image":case"link":Le("error",t),Le("load",t);break;case"details":Le("toggle",t);break;case"input":Le("invalid",t),ho(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Le("invalid",t);break;case"textarea":Le("invalid",t),mo(t,s.value,s.defaultValue,s.children)}l=s.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||t.textContent===""+l||s.suppressHydrationWarning===!0||b0(t.textContent,l)?(s.popover!=null&&(Le("beforetoggle",t),Le("toggle",t)),s.onScroll!=null&&Le("scroll",t),s.onScrollEnd!=null&&Le("scrollend",t),s.onClick!=null&&(t.onclick=Oa),t=!0):t=!1,t||sl(e,!0)}function ad(e){for(Lt=e.return;Lt;)switch(Lt.tag){case 5:case 31:case 13:ua=!1;return;case 27:case 3:ua=!0;return;default:Lt=Lt.return}}function ns(e){if(e!==Lt)return!1;if(!Ve)return ad(e),Ve=!0,!1;var t=e.tag,l;if((l=t!==3&&t!==27)&&((l=t===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||_i(e.type,e.memoizedProps)),l=!l),l&&st&&sl(e),ad(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));st=E0(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));st=E0(e)}else t===27?(t=st,bl(e.type)?(e=$i,$i=null,st=e):st=t):st=Lt?fa(e.stateNode.nextSibling):null;return!0}function Tl(){st=Lt=null,Ve=!1}function yc(){var e=ll;return e!==null&&(Jt===null?Jt=e:Jt.push.apply(Jt,e),ll=null),e}function Ys(e){ll===null?ll=[e]:ll.push(e)}var Nc=g(null),Ol=null,Ba=null;function nl(e,t,l){T(Nc,t._currentValue),t._currentValue=l}function _a(e){e._currentValue=Nc.current,L(Nc)}function wc(e,t,l){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===l)break;e=e.return}}function kc(e,t,l,s){var n=e.child;for(n!==null&&(n.return=e);n!==null;){var r=n.dependencies;if(r!==null){var i=n.child;r=r.firstContext;e:for(;r!==null;){var x=r;r=n;for(var k=0;k<t.length;k++)if(x.context===t[k]){r.lanes|=l,x=r.alternate,x!==null&&(x.lanes|=l),wc(r.return,l,e),s||(i=null);break e}r=x.next}}else if(n.tag===18){if(i=n.return,i===null)throw Error(o(341));i.lanes|=l,r=i.alternate,r!==null&&(r.lanes|=l),wc(i,l,e),i=null}else i=n.child;if(i!==null)i.return=n;else for(i=n;i!==null;){if(i===e){i=null;break}if(n=i.sibling,n!==null){n.return=i.return,i=n;break}i=i.return}n=i}}function rs(e,t,l,s){e=null;for(var n=t,r=!1;n!==null;){if(!r){if((n.flags&524288)!==0)r=!0;else if((n.flags&262144)!==0)break}if(n.tag===10){var i=n.alternate;if(i===null)throw Error(o(387));if(i=i.memoizedProps,i!==null){var x=n.type;Ft(n.pendingProps.value,i.value)||(e!==null?e.push(x):e=[x])}}else if(n===oe.current){if(i=n.alternate,i===null)throw Error(o(387));i.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(e!==null?e.push(bn):e=[bn])}n=n.return}e!==null&&kc(t,e,l,s),t.flags|=262144}function In(e){for(e=e.firstContext;e!==null;){if(!Ft(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function zl(e){Ol=e,Ba=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ut(e){return ld(Ol,e)}function Jn(e,t){return Ol===null&&zl(e),ld(e,t)}function ld(e,t){var l=t._currentValue;if(t={context:t,memoizedValue:l,next:null},Ba===null){if(e===null)throw Error(o(308));Ba=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ba=Ba.next=t;return l}var df=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(l,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(l){return l()})}},uf=d.unstable_scheduleCallback,xf=d.unstable_NormalPriority,vt={$$typeof:le,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sc(){return{controller:new df,data:new Map,refCount:0}}function Qs(e){e.refCount--,e.refCount===0&&uf(xf,function(){e.controller.abort()})}var Xs=null,Cc=0,cs=0,is=null;function ff(e,t){if(Xs===null){var l=Xs=[];Cc=0,cs=Ai(),is={status:"pending",value:void 0,then:function(s){l.push(s)}}}return Cc++,t.then(sd,sd),t}function sd(){if(--Cc===0&&Xs!==null){is!==null&&(is.status="fulfilled");var e=Xs;Xs=null,cs=0,is=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function hf(e,t){var l=[],s={status:"pending",value:null,reason:null,then:function(n){l.push(n)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var n=0;n<l.length;n++)(0,l[n])(t)},function(n){for(s.status="rejected",s.reason=n,n=0;n<l.length;n++)(0,l[n])(void 0)}),s}var nd=E.S;E.S=function(e,t){Gu=Ie(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&ff(e,t),nd!==null&&nd(e,t)};var Ll=g(null);function Ec(){var e=Ll.current;return e!==null?e:tt.pooledCache}function Kn(e,t){t===null?T(Ll,Ll.current):T(Ll,t.pool)}function rd(){var e=Ec();return e===null?null:{parent:vt._currentValue,pool:e}}var os=Error(o(460)),Dc=Error(o(474)),Fn=Error(o(542)),Wn={then:function(){}};function cd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function id(e,t,l){switch(l=e[l],l===void 0?e.push(t):l!==t&&(t.then(Oa,Oa),t=l),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,dd(e),e;default:if(typeof t.status=="string")t.then(Oa,Oa);else{if(e=tt,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var n=t;n.status="fulfilled",n.value=s}},function(s){if(t.status==="pending"){var n=t;n.status="rejected",n.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,dd(e),e}throw Bl=t,os}}function Ul(e){try{var t=e._init;return t(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Bl=l,os):l}}var Bl=null;function od(){if(Bl===null)throw Error(o(459));var e=Bl;return Bl=null,e}function dd(e){if(e===os||e===Fn)throw Error(o(483))}var ds=null,Zs=0;function Pn(e){var t=Zs;return Zs+=1,ds===null&&(ds=[]),id(ds,e,t)}function Is(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function er(e,t){throw t.$$typeof===J?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function ud(e){function t(U,R){if(e){var $=U.deletions;$===null?(U.deletions=[R],U.flags|=16):$.push(R)}}function l(U,R){if(!e)return null;for(;R!==null;)t(U,R),R=R.sibling;return null}function s(U){for(var R=new Map;U!==null;)U.key!==null?R.set(U.key,U):R.set(U.index,U),U=U.sibling;return R}function n(U,R){return U=La(U,R),U.index=0,U.sibling=null,U}function r(U,R,$){return U.index=$,e?($=U.alternate,$!==null?($=$.index,$<R?(U.flags|=67108866,R):$):(U.flags|=67108866,R)):(U.flags|=1048576,R)}function i(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function x(U,R,$,ce){return R===null||R.tag!==6?(R=mc($,U.mode,ce),R.return=U,R):(R=n(R,$),R.return=U,R)}function k(U,R,$,ce){var Se=$.type;return Se===z?se(U,R,$.props.children,ce,$.key):R!==null&&(R.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===O&&Ul(Se)===R.type)?(R=n(R,$.props),Is(R,$),R.return=U,R):(R=Xn($.type,$.key,$.props,null,U.mode,ce),Is(R,$),R.return=U,R)}function Y(U,R,$,ce){return R===null||R.tag!==4||R.stateNode.containerInfo!==$.containerInfo||R.stateNode.implementation!==$.implementation?(R=gc($,U.mode,ce),R.return=U,R):(R=n(R,$.children||[]),R.return=U,R)}function se(U,R,$,ce,Se){return R===null||R.tag!==7?(R=Ml($,U.mode,ce,Se),R.return=U,R):(R=n(R,$),R.return=U,R)}function de(U,R,$){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=mc(""+R,U.mode,$),R.return=U,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case H:return $=Xn(R.type,R.key,R.props,null,U.mode,$),Is($,R),$.return=U,$;case m:return R=gc(R,U.mode,$),R.return=U,R;case O:return R=Ul(R),de(U,R,$)}if(Q(R)||j(R))return R=Ml(R,U.mode,$,null),R.return=U,R;if(typeof R.then=="function")return de(U,Pn(R),$);if(R.$$typeof===le)return de(U,Jn(U,R),$);er(U,R)}return null}function X(U,R,$,ce){var Se=R!==null?R.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return Se!==null?null:x(U,R,""+$,ce);if(typeof $=="object"&&$!==null){switch($.$$typeof){case H:return $.key===Se?k(U,R,$,ce):null;case m:return $.key===Se?Y(U,R,$,ce):null;case O:return $=Ul($),X(U,R,$,ce)}if(Q($)||j($))return Se!==null?null:se(U,R,$,ce,null);if(typeof $.then=="function")return X(U,R,Pn($),ce);if($.$$typeof===le)return X(U,R,Jn(U,$),ce);er(U,$)}return null}function W(U,R,$,ce,Se){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return U=U.get($)||null,x(R,U,""+ce,Se);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case H:return U=U.get(ce.key===null?$:ce.key)||null,k(R,U,ce,Se);case m:return U=U.get(ce.key===null?$:ce.key)||null,Y(R,U,ce,Se);case O:return ce=Ul(ce),W(U,R,$,ce,Se)}if(Q(ce)||j(ce))return U=U.get($)||null,se(R,U,ce,Se,null);if(typeof ce.then=="function")return W(U,R,$,Pn(ce),Se);if(ce.$$typeof===le)return W(U,R,$,Jn(R,ce),Se);er(R,ce)}return null}function je(U,R,$,ce){for(var Se=null,He=null,we=R,Te=R=0,Be=null;we!==null&&Te<$.length;Te++){we.index>Te?(Be=we,we=null):Be=we.sibling;var qe=X(U,we,$[Te],ce);if(qe===null){we===null&&(we=Be);break}e&&we&&qe.alternate===null&&t(U,we),R=r(qe,R,Te),He===null?Se=qe:He.sibling=qe,He=qe,we=Be}if(Te===$.length)return l(U,we),Ve&&Ua(U,Te),Se;if(we===null){for(;Te<$.length;Te++)we=de(U,$[Te],ce),we!==null&&(R=r(we,R,Te),He===null?Se=we:He.sibling=we,He=we);return Ve&&Ua(U,Te),Se}for(we=s(we);Te<$.length;Te++)Be=W(we,U,Te,$[Te],ce),Be!==null&&(e&&Be.alternate!==null&&we.delete(Be.key===null?Te:Be.key),R=r(Be,R,Te),He===null?Se=Be:He.sibling=Be,He=Be);return e&&we.forEach(function(wl){return t(U,wl)}),Ve&&Ua(U,Te),Se}function Ce(U,R,$,ce){if($==null)throw Error(o(151));for(var Se=null,He=null,we=R,Te=R=0,Be=null,qe=$.next();we!==null&&!qe.done;Te++,qe=$.next()){we.index>Te?(Be=we,we=null):Be=we.sibling;var wl=X(U,we,qe.value,ce);if(wl===null){we===null&&(we=Be);break}e&&we&&wl.alternate===null&&t(U,we),R=r(wl,R,Te),He===null?Se=wl:He.sibling=wl,He=wl,we=Be}if(qe.done)return l(U,we),Ve&&Ua(U,Te),Se;if(we===null){for(;!qe.done;Te++,qe=$.next())qe=de(U,qe.value,ce),qe!==null&&(R=r(qe,R,Te),He===null?Se=qe:He.sibling=qe,He=qe);return Ve&&Ua(U,Te),Se}for(we=s(we);!qe.done;Te++,qe=$.next())qe=W(we,U,Te,qe.value,ce),qe!==null&&(e&&qe.alternate!==null&&we.delete(qe.key===null?Te:qe.key),R=r(qe,R,Te),He===null?Se=qe:He.sibling=qe,He=qe);return e&&we.forEach(function(Sh){return t(U,Sh)}),Ve&&Ua(U,Te),Se}function We(U,R,$,ce){if(typeof $=="object"&&$!==null&&$.type===z&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case H:e:{for(var Se=$.key;R!==null;){if(R.key===Se){if(Se=$.type,Se===z){if(R.tag===7){l(U,R.sibling),ce=n(R,$.props.children),ce.return=U,U=ce;break e}}else if(R.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===O&&Ul(Se)===R.type){l(U,R.sibling),ce=n(R,$.props),Is(ce,$),ce.return=U,U=ce;break e}l(U,R);break}else t(U,R);R=R.sibling}$.type===z?(ce=Ml($.props.children,U.mode,ce,$.key),ce.return=U,U=ce):(ce=Xn($.type,$.key,$.props,null,U.mode,ce),Is(ce,$),ce.return=U,U=ce)}return i(U);case m:e:{for(Se=$.key;R!==null;){if(R.key===Se)if(R.tag===4&&R.stateNode.containerInfo===$.containerInfo&&R.stateNode.implementation===$.implementation){l(U,R.sibling),ce=n(R,$.children||[]),ce.return=U,U=ce;break e}else{l(U,R);break}else t(U,R);R=R.sibling}ce=gc($,U.mode,ce),ce.return=U,U=ce}return i(U);case O:return $=Ul($),We(U,R,$,ce)}if(Q($))return je(U,R,$,ce);if(j($)){if(Se=j($),typeof Se!="function")throw Error(o(150));return $=Se.call($),Ce(U,R,$,ce)}if(typeof $.then=="function")return We(U,R,Pn($),ce);if($.$$typeof===le)return We(U,R,Jn(U,$),ce);er(U,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,R!==null&&R.tag===6?(l(U,R.sibling),ce=n(R,$),ce.return=U,U=ce):(l(U,R),ce=mc($,U.mode,ce),ce.return=U,U=ce),i(U)):l(U,R)}return function(U,R,$,ce){try{Zs=0;var Se=We(U,R,$,ce);return ds=null,Se}catch(we){if(we===os||we===Fn)throw we;var He=Wt(29,we,null,U.mode);return He.lanes=ce,He.return=U,He}finally{}}}var _l=ud(!0),xd=ud(!1),rl=!1;function Ac(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function cl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function il(e,t,l){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Ge&2)!==0){var n=s.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),s.pending=t,t=Qn(e),Jo(e,null,l),t}return Yn(e,s,t,l),Qn(e)}function Js(e,t,l){if(t=t.updateQueue,t!==null&&(t=t.shared,(l&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,l|=s,t.lanes=l,An(e,l)}}function Mc(e,t){var l=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,l===s)){var n=null,r=null;if(l=l.firstBaseUpdate,l!==null){do{var i={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};r===null?n=r=i:r=r.next=i,l=l.next}while(l!==null);r===null?n=r=t:r=r.next=t}else n=r=t;l={baseState:s.baseState,firstBaseUpdate:n,lastBaseUpdate:r,shared:s.shared,callbacks:s.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=t:e.next=t,l.lastBaseUpdate=t}var Tc=!1;function Ks(){if(Tc){var e=is;if(e!==null)throw e}}function Fs(e,t,l,s){Tc=!1;var n=e.updateQueue;rl=!1;var r=n.firstBaseUpdate,i=n.lastBaseUpdate,x=n.shared.pending;if(x!==null){n.shared.pending=null;var k=x,Y=k.next;k.next=null,i===null?r=Y:i.next=Y,i=k;var se=e.alternate;se!==null&&(se=se.updateQueue,x=se.lastBaseUpdate,x!==i&&(x===null?se.firstBaseUpdate=Y:x.next=Y,se.lastBaseUpdate=k))}if(r!==null){var de=n.baseState;i=0,se=Y=k=null,x=r;do{var X=x.lane&-536870913,W=X!==x.lane;if(W?(Ue&X)===X:(s&X)===X){X!==0&&X===cs&&(Tc=!0),se!==null&&(se=se.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var je=e,Ce=x;X=t;var We=l;switch(Ce.tag){case 1:if(je=Ce.payload,typeof je=="function"){de=je.call(We,de,X);break e}de=je;break e;case 3:je.flags=je.flags&-65537|128;case 0:if(je=Ce.payload,X=typeof je=="function"?je.call(We,de,X):je,X==null)break e;de=S({},de,X);break e;case 2:rl=!0}}X=x.callback,X!==null&&(e.flags|=64,W&&(e.flags|=8192),W=n.callbacks,W===null?n.callbacks=[X]:W.push(X))}else W={lane:X,tag:x.tag,payload:x.payload,callback:x.callback,next:null},se===null?(Y=se=W,k=de):se=se.next=W,i|=X;if(x=x.next,x===null){if(x=n.shared.pending,x===null)break;W=x,x=W.next,W.next=null,n.lastBaseUpdate=W,n.shared.pending=null}}while(!0);se===null&&(k=de),n.baseState=k,n.firstBaseUpdate=Y,n.lastBaseUpdate=se,r===null&&(n.shared.lanes=0),fl|=i,e.lanes=i,e.memoizedState=de}}function fd(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function hd(e,t){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)fd(l[e],t)}var us=g(null),tr=g(0);function pd(e,t){e=Za,T(tr,e),T(us,t),Za=e|t.baseLanes}function Oc(){T(tr,Za),T(us,us.current)}function zc(){Za=tr.current,L(us),L(tr)}var Pt=g(null),xa=null;function ol(e){var t=e.alternate;T(pt,pt.current&1),T(Pt,e),xa===null&&(t===null||us.current!==null||t.memoizedState!==null)&&(xa=e)}function Lc(e){T(pt,pt.current),T(Pt,e),xa===null&&(xa=e)}function md(e){e.tag===22?(T(pt,pt.current),T(Pt,e),xa===null&&(xa=e)):dl()}function dl(){T(pt,pt.current),T(Pt,Pt.current)}function ea(e){L(Pt),xa===e&&(xa=null),L(pt)}var pt=g(0);function ar(e){for(var t=e;t!==null;){if(t.tag===13){var l=t.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||qi(l)||Gi(l)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Va=0,Re=null,Ke=null,jt=null,lr=!1,xs=!1,Vl=!1,sr=0,Ws=0,fs=null,pf=0;function xt(){throw Error(o(321))}function Uc(e,t){if(t===null)return!1;for(var l=0;l<t.length&&l<e.length;l++)if(!Ft(e[l],t[l]))return!1;return!0}function Bc(e,t,l,s,n,r){return Va=r,Re=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,E.H=e===null||e.memoizedState===null?Pd:Wc,Vl=!1,r=l(s,n),Vl=!1,xs&&(r=bd(t,l,s,n)),gd(e),r}function gd(e){E.H=tn;var t=Ke!==null&&Ke.next!==null;if(Va=0,jt=Ke=Re=null,lr=!1,Ws=0,fs=null,t)throw Error(o(300));e===null||yt||(e=e.dependencies,e!==null&&In(e)&&(yt=!0))}function bd(e,t,l,s){Re=e;var n=0;do{if(xs&&(fs=null),Ws=0,xs=!1,25<=n)throw Error(o(301));if(n+=1,jt=Ke=null,e.updateQueue!=null){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}E.H=eu,r=t(l,s)}while(xs);return r}function mf(){var e=E.H,t=e.useState()[0];return t=typeof t.then=="function"?Ps(t):t,e=e.useState()[0],(Ke!==null?Ke.memoizedState:null)!==e&&(Re.flags|=1024),t}function _c(){var e=sr!==0;return sr=0,e}function Vc(e,t,l){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l}function Hc(e){if(lr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}lr=!1}Va=0,jt=Ke=Re=null,xs=!1,Ws=sr=0,fs=null}function qt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?Re.memoizedState=jt=e:jt=jt.next=e,jt}function mt(){if(Ke===null){var e=Re.alternate;e=e!==null?e.memoizedState:null}else e=Ke.next;var t=jt===null?Re.memoizedState:jt.next;if(t!==null)jt=t,Ke=e;else{if(e===null)throw Re.alternate===null?Error(o(467)):Error(o(310));Ke=e,e={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},jt===null?Re.memoizedState=jt=e:jt=jt.next=e}return jt}function nr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ps(e){var t=Ws;return Ws+=1,fs===null&&(fs=[]),e=id(fs,e,t),t=Re,(jt===null?t.memoizedState:jt.next)===null&&(t=t.alternate,E.H=t===null||t.memoizedState===null?Pd:Wc),e}function rr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ps(e);if(e.$$typeof===le)return Ut(e)}throw Error(o(438,String(e)))}function qc(e){var t=null,l=Re.updateQueue;if(l!==null&&(t=l.memoCache),t==null){var s=Re.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(n){return n.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),l===null&&(l=nr(),Re.updateQueue=l),l.memoCache=t,l=t.data[t.index],l===void 0)for(l=t.data[t.index]=Array(e),s=0;s<e;s++)l[s]=fe;return t.index++,l}function Ha(e,t){return typeof t=="function"?t(e):t}function cr(e){var t=mt();return Gc(t,Ke,e)}function Gc(e,t,l){var s=e.queue;if(s===null)throw Error(o(311));s.lastRenderedReducer=l;var n=e.baseQueue,r=s.pending;if(r!==null){if(n!==null){var i=n.next;n.next=r.next,r.next=i}t.baseQueue=n=r,s.pending=null}if(r=e.baseState,n===null)e.memoizedState=r;else{t=n.next;var x=i=null,k=null,Y=t,se=!1;do{var de=Y.lane&-536870913;if(de!==Y.lane?(Ue&de)===de:(Va&de)===de){var X=Y.revertLane;if(X===0)k!==null&&(k=k.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),de===cs&&(se=!0);else if((Va&X)===X){Y=Y.next,X===cs&&(se=!0);continue}else de={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},k===null?(x=k=de,i=r):k=k.next=de,Re.lanes|=X,fl|=X;de=Y.action,Vl&&l(r,de),r=Y.hasEagerState?Y.eagerState:l(r,de)}else X={lane:de,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},k===null?(x=k=X,i=r):k=k.next=X,Re.lanes|=de,fl|=de;Y=Y.next}while(Y!==null&&Y!==t);if(k===null?i=r:k.next=x,!Ft(r,e.memoizedState)&&(yt=!0,se&&(l=is,l!==null)))throw l;e.memoizedState=r,e.baseState=i,e.baseQueue=k,s.lastRenderedState=r}return n===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function $c(e){var t=mt(),l=t.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=e;var s=l.dispatch,n=l.pending,r=t.memoizedState;if(n!==null){l.pending=null;var i=n=n.next;do r=e(r,i.action),i=i.next;while(i!==n);Ft(r,t.memoizedState)||(yt=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),l.lastRenderedState=r}return[r,s]}function vd(e,t,l){var s=Re,n=mt(),r=Ve;if(r){if(l===void 0)throw Error(o(407));l=l()}else l=t();var i=!Ft((Ke||n).memoizedState,l);if(i&&(n.memoizedState=l,yt=!0),n=n.queue,Xc(Nd.bind(null,s,n,e),[e]),n.getSnapshot!==t||i||jt!==null&&jt.memoizedState.tag&1){if(s.flags|=2048,hs(9,{destroy:void 0},yd.bind(null,s,n,l,t),null),tt===null)throw Error(o(349));r||(Va&127)!==0||jd(s,t,l)}return l}function jd(e,t,l){e.flags|=16384,e={getSnapshot:t,value:l},t=Re.updateQueue,t===null?(t=nr(),Re.updateQueue=t,t.stores=[e]):(l=t.stores,l===null?t.stores=[e]:l.push(e))}function yd(e,t,l,s){t.value=l,t.getSnapshot=s,wd(t)&&kd(e)}function Nd(e,t,l){return l(function(){wd(t)&&kd(e)})}function wd(e){var t=e.getSnapshot;e=e.value;try{var l=t();return!Ft(e,l)}catch{return!0}}function kd(e){var t=Rl(e,2);t!==null&&Kt(t,e,2)}function Yc(e){var t=qt();if(typeof e=="function"){var l=e;if(e=l(),Vl){Yt(!0);try{l()}finally{Yt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:e},t}function Sd(e,t,l,s){return e.baseState=l,Gc(e,Ke,typeof s=="function"?s:Ha)}function gf(e,t,l,s,n){if(dr(e))throw Error(o(485));if(e=t.action,e!==null){var r={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(i){r.listeners.push(i)}};E.T!==null?l(!0):r.isTransition=!1,s(r),l=t.pending,l===null?(r.next=t.pending=r,Cd(t,r)):(r.next=l.next,t.pending=l.next=r)}}function Cd(e,t){var l=t.action,s=t.payload,n=e.state;if(t.isTransition){var r=E.T,i={};E.T=i;try{var x=l(n,s),k=E.S;k!==null&&k(i,x),Ed(e,t,x)}catch(Y){Qc(e,t,Y)}finally{r!==null&&i.types!==null&&(r.types=i.types),E.T=r}}else try{r=l(n,s),Ed(e,t,r)}catch(Y){Qc(e,t,Y)}}function Ed(e,t,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(s){Dd(e,t,s)},function(s){return Qc(e,t,s)}):Dd(e,t,l)}function Dd(e,t,l){t.status="fulfilled",t.value=l,Ad(t),e.state=l,t=e.pending,t!==null&&(l=t.next,l===t?e.pending=null:(l=l.next,t.next=l,Cd(e,l)))}function Qc(e,t,l){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=l,Ad(t),t=t.next;while(t!==s)}e.action=null}function Ad(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Rd(e,t){return t}function Md(e,t){if(Ve){var l=tt.formState;if(l!==null){e:{var s=Re;if(Ve){if(st){t:{for(var n=st,r=ua;n.nodeType!==8;){if(!r){n=null;break t}if(n=fa(n.nextSibling),n===null){n=null;break t}}r=n.data,n=r==="F!"||r==="F"?n:null}if(n){st=fa(n.nextSibling),s=n.data==="F!";break e}}sl(s)}s=!1}s&&(t=l[0])}}return l=qt(),l.memoizedState=l.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rd,lastRenderedState:t},l.queue=s,l=Kd.bind(null,Re,s),s.dispatch=l,s=Yc(!1),r=Fc.bind(null,Re,!1,s.queue),s=qt(),n={state:t,dispatch:null,action:e,pending:null},s.queue=n,l=gf.bind(null,Re,n,r,l),n.dispatch=l,s.memoizedState=e,[t,l,!1]}function Td(e){var t=mt();return Od(t,Ke,e)}function Od(e,t,l){if(t=Gc(e,t,Rd)[0],e=cr(Ha)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=Ps(t)}catch(i){throw i===os?Fn:i}else s=t;t=mt();var n=t.queue,r=n.dispatch;return l!==t.memoizedState&&(Re.flags|=2048,hs(9,{destroy:void 0},bf.bind(null,n,l),null)),[s,r,e]}function bf(e,t){e.action=t}function zd(e){var t=mt(),l=Ke;if(l!==null)return Od(t,l,e);mt(),t=t.memoizedState,l=mt();var s=l.queue.dispatch;return l.memoizedState=e,[t,s,!1]}function hs(e,t,l,s){return e={tag:e,create:l,deps:s,inst:t,next:null},t=Re.updateQueue,t===null&&(t=nr(),Re.updateQueue=t),l=t.lastEffect,l===null?t.lastEffect=e.next=e:(s=l.next,l.next=e,e.next=s,t.lastEffect=e),e}function Ld(){return mt().memoizedState}function ir(e,t,l,s){var n=qt();Re.flags|=e,n.memoizedState=hs(1|t,{destroy:void 0},l,s===void 0?null:s)}function or(e,t,l,s){var n=mt();s=s===void 0?null:s;var r=n.memoizedState.inst;Ke!==null&&s!==null&&Uc(s,Ke.memoizedState.deps)?n.memoizedState=hs(t,r,l,s):(Re.flags|=e,n.memoizedState=hs(1|t,r,l,s))}function Ud(e,t){ir(8390656,8,e,t)}function Xc(e,t){or(2048,8,e,t)}function vf(e){Re.flags|=4;var t=Re.updateQueue;if(t===null)t=nr(),Re.updateQueue=t,t.events=[e];else{var l=t.events;l===null?t.events=[e]:l.push(e)}}function Bd(e){var t=mt().memoizedState;return vf({ref:t,nextImpl:e}),function(){if((Ge&2)!==0)throw Error(o(440));return t.impl.apply(void 0,arguments)}}function _d(e,t){return or(4,2,e,t)}function Vd(e,t){return or(4,4,e,t)}function Hd(e,t){if(typeof t=="function"){e=e();var l=t(e);return function(){typeof l=="function"?l():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function qd(e,t,l){l=l!=null?l.concat([e]):null,or(4,4,Hd.bind(null,t,e),l)}function Zc(){}function Gd(e,t){var l=mt();t=t===void 0?null:t;var s=l.memoizedState;return t!==null&&Uc(t,s[1])?s[0]:(l.memoizedState=[e,t],e)}function $d(e,t){var l=mt();t=t===void 0?null:t;var s=l.memoizedState;if(t!==null&&Uc(t,s[1]))return s[0];if(s=e(),Vl){Yt(!0);try{e()}finally{Yt(!1)}}return l.memoizedState=[s,t],s}function Ic(e,t,l){return l===void 0||(Va&1073741824)!==0&&(Ue&261930)===0?e.memoizedState=t:(e.memoizedState=l,e=Yu(),Re.lanes|=e,fl|=e,l)}function Yd(e,t,l,s){return Ft(l,t)?l:us.current!==null?(e=Ic(e,l,s),Ft(e,t)||(yt=!0),e):(Va&42)===0||(Va&1073741824)!==0&&(Ue&261930)===0?(yt=!0,e.memoizedState=l):(e=Yu(),Re.lanes|=e,fl|=e,t)}function Qd(e,t,l,s,n){var r=q.p;q.p=r!==0&&8>r?r:8;var i=E.T,x={};E.T=x,Fc(e,!1,t,l);try{var k=n(),Y=E.S;if(Y!==null&&Y(x,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var se=hf(k,s);en(e,t,se,la(e))}else en(e,t,s,la(e))}catch(de){en(e,t,{then:function(){},status:"rejected",reason:de},la())}finally{q.p=r,i!==null&&x.types!==null&&(i.types=x.types),E.T=i}}function jf(){}function Jc(e,t,l,s){if(e.tag!==5)throw Error(o(476));var n=Xd(e).queue;Qd(e,n,t,N,l===null?jf:function(){return Zd(e),l(s)})}function Xd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:N,baseState:N,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:N},next:null};var l={};return t.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:l},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Zd(e){var t=Xd(e);t.next===null&&(t=e.alternate.memoizedState),en(e,t.next.queue,{},la())}function Kc(){return Ut(bn)}function Id(){return mt().memoizedState}function Jd(){return mt().memoizedState}function yf(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var l=la();e=cl(l);var s=il(t,e,l);s!==null&&(Kt(s,t,l),Js(s,t,l)),t={cache:Sc()},e.payload=t;return}t=t.return}}function Nf(e,t,l){var s=la();l={lane:s,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},dr(e)?Fd(t,l):(l=hc(e,t,l,s),l!==null&&(Kt(l,e,s),Wd(l,t,s)))}function Kd(e,t,l){var s=la();en(e,t,l,s)}function en(e,t,l,s){var n={lane:s,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(dr(e))Fd(t,n);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var i=t.lastRenderedState,x=r(i,l);if(n.hasEagerState=!0,n.eagerState=x,Ft(x,i))return Yn(e,t,n,0),tt===null&&$n(),!1}catch{}finally{}if(l=hc(e,t,n,s),l!==null)return Kt(l,e,s),Wd(l,t,s),!0}return!1}function Fc(e,t,l,s){if(s={lane:2,revertLane:Ai(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},dr(e)){if(t)throw Error(o(479))}else t=hc(e,l,s,2),t!==null&&Kt(t,e,2)}function dr(e){var t=e.alternate;return e===Re||t!==null&&t===Re}function Fd(e,t){xs=lr=!0;var l=e.pending;l===null?t.next=t:(t.next=l.next,l.next=t),e.pending=t}function Wd(e,t,l){if((l&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,l|=s,t.lanes=l,An(e,l)}}var tn={readContext:Ut,use:rr,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useLayoutEffect:xt,useInsertionEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useSyncExternalStore:xt,useId:xt,useHostTransitionStatus:xt,useFormState:xt,useActionState:xt,useOptimistic:xt,useMemoCache:xt,useCacheRefresh:xt};tn.useEffectEvent=xt;var Pd={readContext:Ut,use:rr,useCallback:function(e,t){return qt().memoizedState=[e,t===void 0?null:t],e},useContext:Ut,useEffect:Ud,useImperativeHandle:function(e,t,l){l=l!=null?l.concat([e]):null,ir(4194308,4,Hd.bind(null,t,e),l)},useLayoutEffect:function(e,t){return ir(4194308,4,e,t)},useInsertionEffect:function(e,t){ir(4,2,e,t)},useMemo:function(e,t){var l=qt();t=t===void 0?null:t;var s=e();if(Vl){Yt(!0);try{e()}finally{Yt(!1)}}return l.memoizedState=[s,t],s},useReducer:function(e,t,l){var s=qt();if(l!==void 0){var n=l(t);if(Vl){Yt(!0);try{l(t)}finally{Yt(!1)}}}else n=t;return s.memoizedState=s.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},s.queue=e,e=e.dispatch=Nf.bind(null,Re,e),[s.memoizedState,e]},useRef:function(e){var t=qt();return e={current:e},t.memoizedState=e},useState:function(e){e=Yc(e);var t=e.queue,l=Kd.bind(null,Re,t);return t.dispatch=l,[e.memoizedState,l]},useDebugValue:Zc,useDeferredValue:function(e,t){var l=qt();return Ic(l,e,t)},useTransition:function(){var e=Yc(!1);return e=Qd.bind(null,Re,e.queue,!0,!1),qt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,l){var s=Re,n=qt();if(Ve){if(l===void 0)throw Error(o(407));l=l()}else{if(l=t(),tt===null)throw Error(o(349));(Ue&127)!==0||jd(s,t,l)}n.memoizedState=l;var r={value:l,getSnapshot:t};return n.queue=r,Ud(Nd.bind(null,s,r,e),[e]),s.flags|=2048,hs(9,{destroy:void 0},yd.bind(null,s,r,l,t),null),l},useId:function(){var e=qt(),t=tt.identifierPrefix;if(Ve){var l=wa,s=Na;l=(s&~(1<<32-bt(s)-1)).toString(32)+l,t="_"+t+"R_"+l,l=sr++,0<l&&(t+="H"+l.toString(32)),t+="_"}else l=pf++,t="_"+t+"r_"+l.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Kc,useFormState:Md,useActionState:Md,useOptimistic:function(e){var t=qt();t.memoizedState=t.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=l,t=Fc.bind(null,Re,!0,l),l.dispatch=t,[e,t]},useMemoCache:qc,useCacheRefresh:function(){return qt().memoizedState=yf.bind(null,Re)},useEffectEvent:function(e){var t=qt(),l={impl:e};return t.memoizedState=l,function(){if((Ge&2)!==0)throw Error(o(440));return l.impl.apply(void 0,arguments)}}},Wc={readContext:Ut,use:rr,useCallback:Gd,useContext:Ut,useEffect:Xc,useImperativeHandle:qd,useInsertionEffect:_d,useLayoutEffect:Vd,useMemo:$d,useReducer:cr,useRef:Ld,useState:function(){return cr(Ha)},useDebugValue:Zc,useDeferredValue:function(e,t){var l=mt();return Yd(l,Ke.memoizedState,e,t)},useTransition:function(){var e=cr(Ha)[0],t=mt().memoizedState;return[typeof e=="boolean"?e:Ps(e),t]},useSyncExternalStore:vd,useId:Id,useHostTransitionStatus:Kc,useFormState:Td,useActionState:Td,useOptimistic:function(e,t){var l=mt();return Sd(l,Ke,e,t)},useMemoCache:qc,useCacheRefresh:Jd};Wc.useEffectEvent=Bd;var eu={readContext:Ut,use:rr,useCallback:Gd,useContext:Ut,useEffect:Xc,useImperativeHandle:qd,useInsertionEffect:_d,useLayoutEffect:Vd,useMemo:$d,useReducer:$c,useRef:Ld,useState:function(){return $c(Ha)},useDebugValue:Zc,useDeferredValue:function(e,t){var l=mt();return Ke===null?Ic(l,e,t):Yd(l,Ke.memoizedState,e,t)},useTransition:function(){var e=$c(Ha)[0],t=mt().memoizedState;return[typeof e=="boolean"?e:Ps(e),t]},useSyncExternalStore:vd,useId:Id,useHostTransitionStatus:Kc,useFormState:zd,useActionState:zd,useOptimistic:function(e,t){var l=mt();return Ke!==null?Sd(l,Ke,e,t):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:qc,useCacheRefresh:Jd};eu.useEffectEvent=Bd;function Pc(e,t,l,s){t=e.memoizedState,l=l(s,t),l=l==null?t:S({},t,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var ei={enqueueSetState:function(e,t,l){e=e._reactInternals;var s=la(),n=cl(s);n.payload=t,l!=null&&(n.callback=l),t=il(e,n,s),t!==null&&(Kt(t,e,s),Js(t,e,s))},enqueueReplaceState:function(e,t,l){e=e._reactInternals;var s=la(),n=cl(s);n.tag=1,n.payload=t,l!=null&&(n.callback=l),t=il(e,n,s),t!==null&&(Kt(t,e,s),Js(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var l=la(),s=cl(l);s.tag=2,t!=null&&(s.callback=t),t=il(e,s,l),t!==null&&(Kt(t,e,l),Js(t,e,l))}};function tu(e,t,l,s,n,r,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,r,i):t.prototype&&t.prototype.isPureReactComponent?!qs(l,s)||!qs(n,r):!0}function au(e,t,l,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(l,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(l,s),t.state!==e&&ei.enqueueReplaceState(t,t.state,null)}function Hl(e,t){var l=t;if("ref"in t){l={};for(var s in t)s!=="ref"&&(l[s]=t[s])}if(e=e.defaultProps){l===t&&(l=S({},l));for(var n in e)l[n]===void 0&&(l[n]=e[n])}return l}function lu(e){Gn(e)}function su(e){console.error(e)}function nu(e){Gn(e)}function ur(e,t){try{var l=e.onUncaughtError;l(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function ru(e,t,l){try{var s=e.onCaughtError;s(l.value,{componentStack:l.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function ti(e,t,l){return l=cl(l),l.tag=3,l.payload={element:null},l.callback=function(){ur(e,t)},l}function cu(e){return e=cl(e),e.tag=3,e}function iu(e,t,l,s){var n=l.type.getDerivedStateFromError;if(typeof n=="function"){var r=s.value;e.payload=function(){return n(r)},e.callback=function(){ru(t,l,s)}}var i=l.stateNode;i!==null&&typeof i.componentDidCatch=="function"&&(e.callback=function(){ru(t,l,s),typeof n!="function"&&(hl===null?hl=new Set([this]):hl.add(this));var x=s.stack;this.componentDidCatch(s.value,{componentStack:x!==null?x:""})})}function wf(e,t,l,s,n){if(l.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=l.alternate,t!==null&&rs(t,l,n,!0),l=Pt.current,l!==null){switch(l.tag){case 31:case 13:return xa===null?wr():l.alternate===null&&ft===0&&(ft=3),l.flags&=-257,l.flags|=65536,l.lanes=n,s===Wn?l.flags|=16384:(t=l.updateQueue,t===null?l.updateQueue=new Set([s]):t.add(s),Ci(e,s,n)),!1;case 22:return l.flags|=65536,s===Wn?l.flags|=16384:(t=l.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},l.updateQueue=t):(l=t.retryQueue,l===null?t.retryQueue=new Set([s]):l.add(s)),Ci(e,s,n)),!1}throw Error(o(435,l.tag))}return Ci(e,s,n),wr(),!1}if(Ve)return t=Pt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=n,s!==jc&&(e=Error(o(422),{cause:s}),Ys(ia(e,l)))):(s!==jc&&(t=Error(o(423),{cause:s}),Ys(ia(t,l))),e=e.current.alternate,e.flags|=65536,n&=-n,e.lanes|=n,s=ia(s,l),n=ti(e.stateNode,s,n),Mc(e,n),ft!==4&&(ft=2)),!1;var r=Error(o(520),{cause:s});if(r=ia(r,l),dn===null?dn=[r]:dn.push(r),ft!==4&&(ft=2),t===null)return!0;s=ia(s,l),l=t;do{switch(l.tag){case 3:return l.flags|=65536,e=n&-n,l.lanes|=e,e=ti(l.stateNode,s,e),Mc(l,e),!1;case 1:if(t=l.type,r=l.stateNode,(l.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(hl===null||!hl.has(r))))return l.flags|=65536,n&=-n,l.lanes|=n,n=cu(n),iu(n,e,l,s),Mc(l,n),!1}l=l.return}while(l!==null);return!1}var ai=Error(o(461)),yt=!1;function Bt(e,t,l,s){t.child=e===null?xd(t,null,l,s):_l(t,e.child,l,s)}function ou(e,t,l,s,n){l=l.render;var r=t.ref;if("ref"in s){var i={};for(var x in s)x!=="ref"&&(i[x]=s[x])}else i=s;return zl(t),s=Bc(e,t,l,i,r,n),x=_c(),e!==null&&!yt?(Vc(e,t,n),qa(e,t,n)):(Ve&&x&&bc(t),t.flags|=1,Bt(e,t,s,n),t.child)}function du(e,t,l,s,n){if(e===null){var r=l.type;return typeof r=="function"&&!pc(r)&&r.defaultProps===void 0&&l.compare===null?(t.tag=15,t.type=r,uu(e,t,r,s,n)):(e=Xn(l.type,null,s,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!di(e,n)){var i=r.memoizedProps;if(l=l.compare,l=l!==null?l:qs,l(i,s)&&e.ref===t.ref)return qa(e,t,n)}return t.flags|=1,e=La(r,s),e.ref=t.ref,e.return=t,t.child=e}function uu(e,t,l,s,n){if(e!==null){var r=e.memoizedProps;if(qs(r,s)&&e.ref===t.ref)if(yt=!1,t.pendingProps=s=r,di(e,n))(e.flags&131072)!==0&&(yt=!0);else return t.lanes=e.lanes,qa(e,t,n)}return li(e,t,l,s,n)}function xu(e,t,l,s){var n=s.children,r=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(r=r!==null?r.baseLanes|l:l,e!==null){for(s=t.child=e.child,n=0;s!==null;)n=n|s.lanes|s.childLanes,s=s.sibling;s=n&~r}else s=0,t.child=null;return fu(e,t,r,l,s)}if((l&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Kn(t,r!==null?r.cachePool:null),r!==null?pd(t,r):Oc(),md(t);else return s=t.lanes=536870912,fu(e,t,r!==null?r.baseLanes|l:l,l,s)}else r!==null?(Kn(t,r.cachePool),pd(t,r),dl(),t.memoizedState=null):(e!==null&&Kn(t,null),Oc(),dl());return Bt(e,t,n,l),t.child}function an(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function fu(e,t,l,s,n){var r=Ec();return r=r===null?null:{parent:vt._currentValue,pool:r},t.memoizedState={baseLanes:l,cachePool:r},e!==null&&Kn(t,null),Oc(),md(t),e!==null&&rs(e,t,s,!0),t.childLanes=n,null}function xr(e,t){return t=hr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function hu(e,t,l){return _l(t,e.child,null,l),e=xr(t,t.pendingProps),e.flags|=2,ea(t),t.memoizedState=null,e}function kf(e,t,l){var s=t.pendingProps,n=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ve){if(s.mode==="hidden")return e=xr(t,s),t.lanes=536870912,an(null,e);if(Lc(t),(e=st)?(e=C0(e,ua),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:al!==null?{id:Na,overflow:wa}:null,retryLane:536870912,hydrationErrors:null},l=Fo(e),l.return=t,t.child=l,Lt=t,st=null)):e=null,e===null)throw sl(t);return t.lanes=536870912,null}return xr(t,s)}var r=e.memoizedState;if(r!==null){var i=r.dehydrated;if(Lc(t),n)if(t.flags&256)t.flags&=-257,t=hu(e,t,l);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(o(558));else if(yt||rs(e,t,l,!1),n=(l&e.childLanes)!==0,yt||n){if(s=tt,s!==null&&(i=Rn(s,l),i!==0&&i!==r.retryLane))throw r.retryLane=i,Rl(e,i),Kt(s,e,i),ai;wr(),t=hu(e,t,l)}else e=r.treeContext,st=fa(i.nextSibling),Lt=t,Ve=!0,ll=null,ua=!1,e!==null&&ed(t,e),t=xr(t,s),t.flags|=4096;return t}return e=La(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function fr(e,t){var l=t.ref;if(l===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(o(284));(e===null||e.ref!==l)&&(t.flags|=4194816)}}function li(e,t,l,s,n){return zl(t),l=Bc(e,t,l,s,void 0,n),s=_c(),e!==null&&!yt?(Vc(e,t,n),qa(e,t,n)):(Ve&&s&&bc(t),t.flags|=1,Bt(e,t,l,n),t.child)}function pu(e,t,l,s,n,r){return zl(t),t.updateQueue=null,l=bd(t,s,l,n),gd(e),s=_c(),e!==null&&!yt?(Vc(e,t,r),qa(e,t,r)):(Ve&&s&&bc(t),t.flags|=1,Bt(e,t,l,r),t.child)}function mu(e,t,l,s,n){if(zl(t),t.stateNode===null){var r=as,i=l.contextType;typeof i=="object"&&i!==null&&(r=Ut(i)),r=new l(s,r),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=ei,t.stateNode=r,r._reactInternals=t,r=t.stateNode,r.props=s,r.state=t.memoizedState,r.refs={},Ac(t),i=l.contextType,r.context=typeof i=="object"&&i!==null?Ut(i):as,r.state=t.memoizedState,i=l.getDerivedStateFromProps,typeof i=="function"&&(Pc(t,l,i,s),r.state=t.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(i=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),i!==r.state&&ei.enqueueReplaceState(r,r.state,null),Fs(t,s,r,n),Ks(),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){r=t.stateNode;var x=t.memoizedProps,k=Hl(l,x);r.props=k;var Y=r.context,se=l.contextType;i=as,typeof se=="object"&&se!==null&&(i=Ut(se));var de=l.getDerivedStateFromProps;se=typeof de=="function"||typeof r.getSnapshotBeforeUpdate=="function",x=t.pendingProps!==x,se||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(x||Y!==i)&&au(t,r,s,i),rl=!1;var X=t.memoizedState;r.state=X,Fs(t,s,r,n),Ks(),Y=t.memoizedState,x||X!==Y||rl?(typeof de=="function"&&(Pc(t,l,de,s),Y=t.memoizedState),(k=rl||tu(t,l,k,s,X,Y,i))?(se||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(t.flags|=4194308)):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=Y),r.props=s,r.state=Y,r.context=i,s=k):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{r=t.stateNode,Rc(e,t),i=t.memoizedProps,se=Hl(l,i),r.props=se,de=t.pendingProps,X=r.context,Y=l.contextType,k=as,typeof Y=="object"&&Y!==null&&(k=Ut(Y)),x=l.getDerivedStateFromProps,(Y=typeof x=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(i!==de||X!==k)&&au(t,r,s,k),rl=!1,X=t.memoizedState,r.state=X,Fs(t,s,r,n),Ks();var W=t.memoizedState;i!==de||X!==W||rl||e!==null&&e.dependencies!==null&&In(e.dependencies)?(typeof x=="function"&&(Pc(t,l,x,s),W=t.memoizedState),(se=rl||tu(t,l,se,s,X,W,k)||e!==null&&e.dependencies!==null&&In(e.dependencies))?(Y||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(s,W,k),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(s,W,k)),typeof r.componentDidUpdate=="function"&&(t.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof r.componentDidUpdate!="function"||i===e.memoizedProps&&X===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&X===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=W),r.props=s,r.state=W,r.context=k,s=se):(typeof r.componentDidUpdate!="function"||i===e.memoizedProps&&X===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&X===e.memoizedState||(t.flags|=1024),s=!1)}return r=s,fr(e,t),s=(t.flags&128)!==0,r||s?(r=t.stateNode,l=s&&typeof l.getDerivedStateFromError!="function"?null:r.render(),t.flags|=1,e!==null&&s?(t.child=_l(t,e.child,null,n),t.child=_l(t,null,l,n)):Bt(e,t,l,n),t.memoizedState=r.state,e=t.child):e=qa(e,t,n),e}function gu(e,t,l,s){return Tl(),t.flags|=256,Bt(e,t,l,s),t.child}var si={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ni(e){return{baseLanes:e,cachePool:rd()}}function ri(e,t,l){return e=e!==null?e.childLanes&~l:0,t&&(e|=aa),e}function bu(e,t,l){var s=t.pendingProps,n=!1,r=(t.flags&128)!==0,i;if((i=r)||(i=e!==null&&e.memoizedState===null?!1:(pt.current&2)!==0),i&&(n=!0,t.flags&=-129),i=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ve){if(n?ol(t):dl(),(e=st)?(e=C0(e,ua),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:al!==null?{id:Na,overflow:wa}:null,retryLane:536870912,hydrationErrors:null},l=Fo(e),l.return=t,t.child=l,Lt=t,st=null)):e=null,e===null)throw sl(t);return Gi(e)?t.lanes=32:t.lanes=536870912,null}var x=s.children;return s=s.fallback,n?(dl(),n=t.mode,x=hr({mode:"hidden",children:x},n),s=Ml(s,n,l,null),x.return=t,s.return=t,x.sibling=s,t.child=x,s=t.child,s.memoizedState=ni(l),s.childLanes=ri(e,i,l),t.memoizedState=si,an(null,s)):(ol(t),ci(t,x))}var k=e.memoizedState;if(k!==null&&(x=k.dehydrated,x!==null)){if(r)t.flags&256?(ol(t),t.flags&=-257,t=ii(e,t,l)):t.memoizedState!==null?(dl(),t.child=e.child,t.flags|=128,t=null):(dl(),x=s.fallback,n=t.mode,s=hr({mode:"visible",children:s.children},n),x=Ml(x,n,l,null),x.flags|=2,s.return=t,x.return=t,s.sibling=x,t.child=s,_l(t,e.child,null,l),s=t.child,s.memoizedState=ni(l),s.childLanes=ri(e,i,l),t.memoizedState=si,t=an(null,s));else if(ol(t),Gi(x)){if(i=x.nextSibling&&x.nextSibling.dataset,i)var Y=i.dgst;i=Y,s=Error(o(419)),s.stack="",s.digest=i,Ys({value:s,source:null,stack:null}),t=ii(e,t,l)}else if(yt||rs(e,t,l,!1),i=(l&e.childLanes)!==0,yt||i){if(i=tt,i!==null&&(s=Rn(i,l),s!==0&&s!==k.retryLane))throw k.retryLane=s,Rl(e,s),Kt(i,e,s),ai;qi(x)||wr(),t=ii(e,t,l)}else qi(x)?(t.flags|=192,t.child=e.child,t=null):(e=k.treeContext,st=fa(x.nextSibling),Lt=t,Ve=!0,ll=null,ua=!1,e!==null&&ed(t,e),t=ci(t,s.children),t.flags|=4096);return t}return n?(dl(),x=s.fallback,n=t.mode,k=e.child,Y=k.sibling,s=La(k,{mode:"hidden",children:s.children}),s.subtreeFlags=k.subtreeFlags&65011712,Y!==null?x=La(Y,x):(x=Ml(x,n,l,null),x.flags|=2),x.return=t,s.return=t,s.sibling=x,t.child=s,an(null,s),s=t.child,x=e.child.memoizedState,x===null?x=ni(l):(n=x.cachePool,n!==null?(k=vt._currentValue,n=n.parent!==k?{parent:k,pool:k}:n):n=rd(),x={baseLanes:x.baseLanes|l,cachePool:n}),s.memoizedState=x,s.childLanes=ri(e,i,l),t.memoizedState=si,an(e.child,s)):(ol(t),l=e.child,e=l.sibling,l=La(l,{mode:"visible",children:s.children}),l.return=t,l.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=l,t.memoizedState=null,l)}function ci(e,t){return t=hr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function hr(e,t){return e=Wt(22,e,null,t),e.lanes=0,e}function ii(e,t,l){return _l(t,e.child,null,l),e=ci(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function vu(e,t,l){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),wc(e.return,t,l)}function oi(e,t,l,s,n,r){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:l,tailMode:n,treeForkCount:r}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=l,i.tailMode=n,i.treeForkCount=r)}function ju(e,t,l){var s=t.pendingProps,n=s.revealOrder,r=s.tail;s=s.children;var i=pt.current,x=(i&2)!==0;if(x?(i=i&1|2,t.flags|=128):i&=1,T(pt,i),Bt(e,t,s,l),s=Ve?$s:0,!x&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vu(e,l,t);else if(e.tag===19)vu(e,l,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(n){case"forwards":for(l=t.child,n=null;l!==null;)e=l.alternate,e!==null&&ar(e)===null&&(n=l),l=l.sibling;l=n,l===null?(n=t.child,t.child=null):(n=l.sibling,l.sibling=null),oi(t,!1,n,l,r,s);break;case"backwards":case"unstable_legacy-backwards":for(l=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&ar(e)===null){t.child=n;break}e=n.sibling,n.sibling=l,l=n,n=e}oi(t,!0,l,null,r,s);break;case"together":oi(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function qa(e,t,l){if(e!==null&&(t.dependencies=e.dependencies),fl|=t.lanes,(l&t.childLanes)===0)if(e!==null){if(rs(e,t,l,!1),(l&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,l=La(e,e.pendingProps),t.child=l,l.return=t;e.sibling!==null;)e=e.sibling,l=l.sibling=La(e,e.pendingProps),l.return=t;l.sibling=null}return t.child}function di(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&In(e)))}function Sf(e,t,l){switch(t.tag){case 3:xe(t,t.stateNode.containerInfo),nl(t,vt,e.memoizedState.cache),Tl();break;case 27:case 5:A(t);break;case 4:xe(t,t.stateNode.containerInfo);break;case 10:nl(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Lc(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(ol(t),t.flags|=128,null):(l&t.child.childLanes)!==0?bu(e,t,l):(ol(t),e=qa(e,t,l),e!==null?e.sibling:null);ol(t);break;case 19:var n=(e.flags&128)!==0;if(s=(l&t.childLanes)!==0,s||(rs(e,t,l,!1),s=(l&t.childLanes)!==0),n){if(s)return ju(e,t,l);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),T(pt,pt.current),s)break;return null;case 22:return t.lanes=0,xu(e,t,l,t.pendingProps);case 24:nl(t,vt,e.memoizedState.cache)}return qa(e,t,l)}function yu(e,t,l){if(e!==null)if(e.memoizedProps!==t.pendingProps)yt=!0;else{if(!di(e,l)&&(t.flags&128)===0)return yt=!1,Sf(e,t,l);yt=(e.flags&131072)!==0}else yt=!1,Ve&&(t.flags&1048576)!==0&&Po(t,$s,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=Ul(t.elementType),t.type=e,typeof e=="function")pc(e)?(s=Hl(e,s),t.tag=1,t=mu(null,t,e,s,l)):(t.tag=0,t=li(null,t,e,s,l));else{if(e!=null){var n=e.$$typeof;if(n===ee){t.tag=11,t=ou(null,t,e,s,l);break e}else if(n===f){t.tag=14,t=du(null,t,e,s,l);break e}}throw t=he(e)||e,Error(o(306,t,""))}}return t;case 0:return li(e,t,t.type,t.pendingProps,l);case 1:return s=t.type,n=Hl(s,t.pendingProps),mu(e,t,s,n,l);case 3:e:{if(xe(t,t.stateNode.containerInfo),e===null)throw Error(o(387));s=t.pendingProps;var r=t.memoizedState;n=r.element,Rc(e,t),Fs(t,s,null,l);var i=t.memoizedState;if(s=i.cache,nl(t,vt,s),s!==r.cache&&kc(t,[vt],l,!0),Ks(),s=i.element,r.isDehydrated)if(r={element:s,isDehydrated:!1,cache:i.cache},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){t=gu(e,t,s,l);break e}else if(s!==n){n=ia(Error(o(424)),t),Ys(n),t=gu(e,t,s,l);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(st=fa(e.firstChild),Lt=t,Ve=!0,ll=null,ua=!0,l=xd(t,null,s,l),t.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Tl(),s===n){t=qa(e,t,l);break e}Bt(e,t,s,l)}t=t.child}return t;case 26:return fr(e,t),e===null?(l=T0(t.type,null,t.pendingProps,null))?t.memoizedState=l:Ve||(l=t.type,e=t.pendingProps,s=Rr(be.current).createElement(l),s[M]=t,s[me]=e,_t(s,l,e),et(s),t.stateNode=s):t.memoizedState=T0(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return A(t),e===null&&Ve&&(s=t.stateNode=A0(t.type,t.pendingProps,be.current),Lt=t,ua=!0,n=st,bl(t.type)?($i=n,st=fa(s.firstChild)):st=n),Bt(e,t,t.pendingProps.children,l),fr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ve&&((n=s=st)&&(s=th(s,t.type,t.pendingProps,ua),s!==null?(t.stateNode=s,Lt=t,st=fa(s.firstChild),ua=!1,n=!0):n=!1),n||sl(t)),A(t),n=t.type,r=t.pendingProps,i=e!==null?e.memoizedProps:null,s=r.children,_i(n,r)?s=null:i!==null&&_i(n,i)&&(t.flags|=32),t.memoizedState!==null&&(n=Bc(e,t,mf,null,null,l),bn._currentValue=n),fr(e,t),Bt(e,t,s,l),t.child;case 6:return e===null&&Ve&&((e=l=st)&&(l=ah(l,t.pendingProps,ua),l!==null?(t.stateNode=l,Lt=t,st=null,e=!0):e=!1),e||sl(t)),null;case 13:return bu(e,t,l);case 4:return xe(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=_l(t,null,s,l):Bt(e,t,s,l),t.child;case 11:return ou(e,t,t.type,t.pendingProps,l);case 7:return Bt(e,t,t.pendingProps,l),t.child;case 8:return Bt(e,t,t.pendingProps.children,l),t.child;case 12:return Bt(e,t,t.pendingProps.children,l),t.child;case 10:return s=t.pendingProps,nl(t,t.type,s.value),Bt(e,t,s.children,l),t.child;case 9:return n=t.type._context,s=t.pendingProps.children,zl(t),n=Ut(n),s=s(n),t.flags|=1,Bt(e,t,s,l),t.child;case 14:return du(e,t,t.type,t.pendingProps,l);case 15:return uu(e,t,t.type,t.pendingProps,l);case 19:return ju(e,t,l);case 31:return kf(e,t,l);case 22:return xu(e,t,l,t.pendingProps);case 24:return zl(t),s=Ut(vt),e===null?(n=Ec(),n===null&&(n=tt,r=Sc(),n.pooledCache=r,r.refCount++,r!==null&&(n.pooledCacheLanes|=l),n=r),t.memoizedState={parent:s,cache:n},Ac(t),nl(t,vt,n)):((e.lanes&l)!==0&&(Rc(e,t),Fs(t,null,null,l),Ks()),n=e.memoizedState,r=t.memoizedState,n.parent!==s?(n={parent:s,cache:s},t.memoizedState=n,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=n),nl(t,vt,s)):(s=r.cache,nl(t,vt,s),s!==n.cache&&kc(t,[vt],l,!0))),Bt(e,t,t.pendingProps.children,l),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function Ga(e){e.flags|=4}function ui(e,t,l,s,n){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(n&335544128)===n)if(e.stateNode.complete)e.flags|=8192;else if(Iu())e.flags|=8192;else throw Bl=Wn,Dc}else e.flags&=-16777217}function Nu(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!B0(t))if(Iu())e.flags|=8192;else throw Bl=Wn,Dc}function pr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?En():536870912,e.lanes|=t,bs|=t)}function ln(e,t){if(!Ve)switch(e.tailMode){case"hidden":t=e.tail;for(var l=null;t!==null;)t.alternate!==null&&(l=t),t=t.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var s=null;l!==null;)l.alternate!==null&&(s=l),l=l.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function nt(e){var t=e.alternate!==null&&e.alternate.child===e.child,l=0,s=0;if(t)for(var n=e.child;n!==null;)l|=n.lanes|n.childLanes,s|=n.subtreeFlags&65011712,s|=n.flags&65011712,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)l|=n.lanes|n.childLanes,s|=n.subtreeFlags,s|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=s,e.childLanes=l,t}function Cf(e,t,l){var s=t.pendingProps;switch(vc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(t),null;case 1:return nt(t),null;case 3:return l=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),_a(vt),w(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(ns(t)?Ga(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,yc())),nt(t),null;case 26:var n=t.type,r=t.memoizedState;return e===null?(Ga(t),r!==null?(nt(t),Nu(t,r)):(nt(t),ui(t,n,null,s,l))):r?r!==e.memoizedState?(Ga(t),nt(t),Nu(t,r)):(nt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&Ga(t),nt(t),ui(t,n,e,s,l)),null;case 27:if(V(t),l=be.current,n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&Ga(t);else{if(!s){if(t.stateNode===null)throw Error(o(166));return nt(t),null}e=K.current,ns(t)?td(t):(e=A0(n,s,l),t.stateNode=e,Ga(t))}return nt(t),null;case 5:if(V(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&Ga(t);else{if(!s){if(t.stateNode===null)throw Error(o(166));return nt(t),null}if(r=K.current,ns(t))td(t);else{var i=Rr(be.current);switch(r){case 1:r=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:r=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":r=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":r=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":r=i.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof s.is=="string"?i.createElement("select",{is:s.is}):i.createElement("select"),s.multiple?r.multiple=!0:s.size&&(r.size=s.size);break;default:r=typeof s.is=="string"?i.createElement(n,{is:s.is}):i.createElement(n)}}r[M]=t,r[me]=s;e:for(i=t.child;i!==null;){if(i.tag===5||i.tag===6)r.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=r;e:switch(_t(r,n,s),n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Ga(t)}}return nt(t),ui(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,l),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&Ga(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(o(166));if(e=be.current,ns(t)){if(e=t.stateNode,l=t.memoizedProps,s=null,n=Lt,n!==null)switch(n.tag){case 27:case 5:s=n.memoizedProps}e[M]=t,e=!!(e.nodeValue===l||s!==null&&s.suppressHydrationWarning===!0||b0(e.nodeValue,l)),e||sl(t,!0)}else e=Rr(e).createTextNode(s),e[M]=t,t.stateNode=e}return nt(t),null;case 31:if(l=t.memoizedState,e===null||e.memoizedState!==null){if(s=ns(t),l!==null){if(e===null){if(!s)throw Error(o(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[M]=t}else Tl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;nt(t),e=!1}else l=yc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return t.flags&256?(ea(t),t):(ea(t),null);if((t.flags&128)!==0)throw Error(o(558))}return nt(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(n=ns(t),s!==null&&s.dehydrated!==null){if(e===null){if(!n)throw Error(o(318));if(n=t.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(317));n[M]=t}else Tl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;nt(t),n=!1}else n=yc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return t.flags&256?(ea(t),t):(ea(t),null)}return ea(t),(t.flags&128)!==0?(t.lanes=l,t):(l=s!==null,e=e!==null&&e.memoizedState!==null,l&&(s=t.child,n=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(n=s.alternate.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==n&&(s.flags|=2048)),l!==e&&l&&(t.child.flags|=8192),pr(t,t.updateQueue),nt(t),null);case 4:return w(),e===null&&Oi(t.stateNode.containerInfo),nt(t),null;case 10:return _a(t.type),nt(t),null;case 19:if(L(pt),s=t.memoizedState,s===null)return nt(t),null;if(n=(t.flags&128)!==0,r=s.rendering,r===null)if(n)ln(s,!1);else{if(ft!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(r=ar(e),r!==null){for(t.flags|=128,ln(s,!1),e=r.updateQueue,t.updateQueue=e,pr(t,e),t.subtreeFlags=0,e=l,l=t.child;l!==null;)Ko(l,e),l=l.sibling;return T(pt,pt.current&1|2),Ve&&Ua(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&Ie()>jr&&(t.flags|=128,n=!0,ln(s,!1),t.lanes=4194304)}else{if(!n)if(e=ar(r),e!==null){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,pr(t,e),ln(s,!0),s.tail===null&&s.tailMode==="hidden"&&!r.alternate&&!Ve)return nt(t),null}else 2*Ie()-s.renderingStartTime>jr&&l!==536870912&&(t.flags|=128,n=!0,ln(s,!1),t.lanes=4194304);s.isBackwards?(r.sibling=t.child,t.child=r):(e=s.last,e!==null?e.sibling=r:t.child=r,s.last=r)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ie(),e.sibling=null,l=pt.current,T(pt,n?l&1|2:l&1),Ve&&Ua(t,s.treeForkCount),e):(nt(t),null);case 22:case 23:return ea(t),zc(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(l&536870912)!==0&&(t.flags&128)===0&&(nt(t),t.subtreeFlags&6&&(t.flags|=8192)):nt(t),l=t.updateQueue,l!==null&&pr(t,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==l&&(t.flags|=2048),e!==null&&L(Ll),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),_a(vt),nt(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function Ef(e,t){switch(vc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _a(vt),w(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return V(t),null;case 31:if(t.memoizedState!==null){if(ea(t),t.alternate===null)throw Error(o(340));Tl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(ea(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));Tl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return L(pt),null;case 4:return w(),null;case 10:return _a(t.type),null;case 22:case 23:return ea(t),zc(),e!==null&&L(Ll),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return _a(vt),null;case 25:return null;default:return null}}function wu(e,t){switch(vc(t),t.tag){case 3:_a(vt),w();break;case 26:case 27:case 5:V(t);break;case 4:w();break;case 31:t.memoizedState!==null&&ea(t);break;case 13:ea(t);break;case 19:L(pt);break;case 10:_a(t.type);break;case 22:case 23:ea(t),zc(),e!==null&&L(Ll);break;case 24:_a(vt)}}function sn(e,t){try{var l=t.updateQueue,s=l!==null?l.lastEffect:null;if(s!==null){var n=s.next;l=n;do{if((l.tag&e)===e){s=void 0;var r=l.create,i=l.inst;s=r(),i.destroy=s}l=l.next}while(l!==n)}}catch(x){Ze(t,t.return,x)}}function ul(e,t,l){try{var s=t.updateQueue,n=s!==null?s.lastEffect:null;if(n!==null){var r=n.next;s=r;do{if((s.tag&e)===e){var i=s.inst,x=i.destroy;if(x!==void 0){i.destroy=void 0,n=t;var k=l,Y=x;try{Y()}catch(se){Ze(n,k,se)}}}s=s.next}while(s!==r)}}catch(se){Ze(t,t.return,se)}}function ku(e){var t=e.updateQueue;if(t!==null){var l=e.stateNode;try{hd(t,l)}catch(s){Ze(e,e.return,s)}}}function Su(e,t,l){l.props=Hl(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(s){Ze(e,t,s)}}function nn(e,t){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof l=="function"?e.refCleanup=l(s):l.current=s}}catch(n){Ze(e,t,n)}}function ka(e,t){var l=e.ref,s=e.refCleanup;if(l!==null)if(typeof s=="function")try{s()}catch(n){Ze(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(n){Ze(e,t,n)}else l.current=null}function Cu(e){var t=e.type,l=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":l.autoFocus&&s.focus();break e;case"img":l.src?s.src=l.src:l.srcSet&&(s.srcset=l.srcSet)}}catch(n){Ze(e,e.return,n)}}function xi(e,t,l){try{var s=e.stateNode;Jf(s,e.type,l,t),s[me]=t}catch(n){Ze(e,e.return,n)}}function Eu(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&bl(e.type)||e.tag===4}function fi(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Eu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&bl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function hi(e,t,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,t):(t=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,t.appendChild(e),l=l._reactRootContainer,l!=null||t.onclick!==null||(t.onclick=Oa));else if(s!==4&&(s===27&&bl(e.type)&&(l=e.stateNode,t=null),e=e.child,e!==null))for(hi(e,t,l),e=e.sibling;e!==null;)hi(e,t,l),e=e.sibling}function mr(e,t,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?l.insertBefore(e,t):l.appendChild(e);else if(s!==4&&(s===27&&bl(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(mr(e,t,l),e=e.sibling;e!==null;)mr(e,t,l),e=e.sibling}function Du(e){var t=e.stateNode,l=e.memoizedProps;try{for(var s=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);_t(t,s,l),t[M]=e,t[me]=l}catch(r){Ze(e,e.return,r)}}var $a=!1,Nt=!1,pi=!1,Au=typeof WeakSet=="function"?WeakSet:Set,Mt=null;function Df(e,t){if(e=e.containerInfo,Ui=Br,e=qo(e),ic(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var s=l.getSelection&&l.getSelection();if(s&&s.rangeCount!==0){l=s.anchorNode;var n=s.anchorOffset,r=s.focusNode;s=s.focusOffset;try{l.nodeType,r.nodeType}catch{l=null;break e}var i=0,x=-1,k=-1,Y=0,se=0,de=e,X=null;t:for(;;){for(var W;de!==l||n!==0&&de.nodeType!==3||(x=i+n),de!==r||s!==0&&de.nodeType!==3||(k=i+s),de.nodeType===3&&(i+=de.nodeValue.length),(W=de.firstChild)!==null;)X=de,de=W;for(;;){if(de===e)break t;if(X===l&&++Y===n&&(x=i),X===r&&++se===s&&(k=i),(W=de.nextSibling)!==null)break;de=X,X=de.parentNode}de=W}l=x===-1||k===-1?null:{start:x,end:k}}else l=null}l=l||{start:0,end:0}}else l=null;for(Bi={focusedElem:e,selectionRange:l},Br=!1,Mt=t;Mt!==null;)if(t=Mt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Mt=e;else for(;Mt!==null;){switch(t=Mt,r=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)n=e[l],n.ref.impl=n.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&r!==null){e=void 0,l=t,n=r.memoizedProps,r=r.memoizedState,s=l.stateNode;try{var je=Hl(l.type,n);e=s.getSnapshotBeforeUpdate(je,r),s.__reactInternalSnapshotBeforeUpdate=e}catch(Ce){Ze(l,l.return,Ce)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,l=e.nodeType,l===9)Hi(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Hi(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,Mt=e;break}Mt=t.return}}function Ru(e,t,l){var s=l.flags;switch(l.tag){case 0:case 11:case 15:Qa(e,l),s&4&&sn(5,l);break;case 1:if(Qa(e,l),s&4)if(e=l.stateNode,t===null)try{e.componentDidMount()}catch(i){Ze(l,l.return,i)}else{var n=Hl(l.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(i){Ze(l,l.return,i)}}s&64&&ku(l),s&512&&nn(l,l.return);break;case 3:if(Qa(e,l),s&64&&(e=l.updateQueue,e!==null)){if(t=null,l.child!==null)switch(l.child.tag){case 27:case 5:t=l.child.stateNode;break;case 1:t=l.child.stateNode}try{hd(e,t)}catch(i){Ze(l,l.return,i)}}break;case 27:t===null&&s&4&&Du(l);case 26:case 5:Qa(e,l),t===null&&s&4&&Cu(l),s&512&&nn(l,l.return);break;case 12:Qa(e,l);break;case 31:Qa(e,l),s&4&&Ou(e,l);break;case 13:Qa(e,l),s&4&&zu(e,l),s&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=Bf.bind(null,l),lh(e,l))));break;case 22:if(s=l.memoizedState!==null||$a,!s){t=t!==null&&t.memoizedState!==null||Nt,n=$a;var r=Nt;$a=s,(Nt=t)&&!r?Xa(e,l,(l.subtreeFlags&8772)!==0):Qa(e,l),$a=n,Nt=r}break;case 30:break;default:Qa(e,l)}}function Mu(e){var t=e.alternate;t!==null&&(e.alternate=null,Mu(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Xl(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var it=null,Xt=!1;function Ya(e,t,l){for(l=l.child;l!==null;)Tu(e,t,l),l=l.sibling}function Tu(e,t,l){if(St&&typeof St.onCommitFiberUnmount=="function")try{St.onCommitFiberUnmount(sa,l)}catch{}switch(l.tag){case 26:Nt||ka(l,t),Ya(e,t,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Nt||ka(l,t);var s=it,n=Xt;bl(l.type)&&(it=l.stateNode,Xt=!1),Ya(e,t,l),pn(l.stateNode),it=s,Xt=n;break;case 5:Nt||ka(l,t);case 6:if(s=it,n=Xt,it=null,Ya(e,t,l),it=s,Xt=n,it!==null)if(Xt)try{(it.nodeType===9?it.body:it.nodeName==="HTML"?it.ownerDocument.body:it).removeChild(l.stateNode)}catch(r){Ze(l,t,r)}else try{it.removeChild(l.stateNode)}catch(r){Ze(l,t,r)}break;case 18:it!==null&&(Xt?(e=it,k0(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),Cs(e)):k0(it,l.stateNode));break;case 4:s=it,n=Xt,it=l.stateNode.containerInfo,Xt=!0,Ya(e,t,l),it=s,Xt=n;break;case 0:case 11:case 14:case 15:ul(2,l,t),Nt||ul(4,l,t),Ya(e,t,l);break;case 1:Nt||(ka(l,t),s=l.stateNode,typeof s.componentWillUnmount=="function"&&Su(l,t,s)),Ya(e,t,l);break;case 21:Ya(e,t,l);break;case 22:Nt=(s=Nt)||l.memoizedState!==null,Ya(e,t,l),Nt=s;break;default:Ya(e,t,l)}}function Ou(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Cs(e)}catch(l){Ze(t,t.return,l)}}}function zu(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Cs(e)}catch(l){Ze(t,t.return,l)}}function Af(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Au),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Au),t;default:throw Error(o(435,e.tag))}}function gr(e,t){var l=Af(e);t.forEach(function(s){if(!l.has(s)){l.add(s);var n=_f.bind(null,e,s);s.then(n,n)}})}function Zt(e,t){var l=t.deletions;if(l!==null)for(var s=0;s<l.length;s++){var n=l[s],r=e,i=t,x=i;e:for(;x!==null;){switch(x.tag){case 27:if(bl(x.type)){it=x.stateNode,Xt=!1;break e}break;case 5:it=x.stateNode,Xt=!1;break e;case 3:case 4:it=x.stateNode.containerInfo,Xt=!0;break e}x=x.return}if(it===null)throw Error(o(160));Tu(r,i,n),it=null,Xt=!1,r=n.alternate,r!==null&&(r.return=null),n.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Lu(t,e),t=t.sibling}var ba=null;function Lu(e,t){var l=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Zt(t,e),It(e),s&4&&(ul(3,e,e.return),sn(3,e),ul(5,e,e.return));break;case 1:Zt(t,e),It(e),s&512&&(Nt||l===null||ka(l,l.return)),s&64&&$a&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?s:l.concat(s))));break;case 26:var n=ba;if(Zt(t,e),It(e),s&512&&(Nt||l===null||ka(l,l.return)),s&4){var r=l!==null?l.memoizedState:null;if(s=e.memoizedState,l===null)if(s===null)if(e.stateNode===null){e:{s=e.type,l=e.memoizedProps,n=n.ownerDocument||n;t:switch(s){case"title":r=n.getElementsByTagName("title")[0],(!r||r[Pa]||r[M]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=n.createElement(s),n.head.insertBefore(r,n.querySelector("head > title"))),_t(r,s,l),r[M]=e,et(r),s=r;break e;case"link":var i=L0("link","href",n).get(s+(l.href||""));if(i){for(var x=0;x<i.length;x++)if(r=i[x],r.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&r.getAttribute("rel")===(l.rel==null?null:l.rel)&&r.getAttribute("title")===(l.title==null?null:l.title)&&r.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){i.splice(x,1);break t}}r=n.createElement(s),_t(r,s,l),n.head.appendChild(r);break;case"meta":if(i=L0("meta","content",n).get(s+(l.content||""))){for(x=0;x<i.length;x++)if(r=i[x],r.getAttribute("content")===(l.content==null?null:""+l.content)&&r.getAttribute("name")===(l.name==null?null:l.name)&&r.getAttribute("property")===(l.property==null?null:l.property)&&r.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&r.getAttribute("charset")===(l.charSet==null?null:l.charSet)){i.splice(x,1);break t}}r=n.createElement(s),_t(r,s,l),n.head.appendChild(r);break;default:throw Error(o(468,s))}r[M]=e,et(r),s=r}e.stateNode=s}else U0(n,e.type,e.stateNode);else e.stateNode=z0(n,s,e.memoizedProps);else r!==s?(r===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):r.count--,s===null?U0(n,e.type,e.stateNode):z0(n,s,e.memoizedProps)):s===null&&e.stateNode!==null&&xi(e,e.memoizedProps,l.memoizedProps)}break;case 27:Zt(t,e),It(e),s&512&&(Nt||l===null||ka(l,l.return)),l!==null&&s&4&&xi(e,e.memoizedProps,l.memoizedProps);break;case 5:if(Zt(t,e),It(e),s&512&&(Nt||l===null||ka(l,l.return)),e.flags&32){n=e.stateNode;try{Jl(n,"")}catch(je){Ze(e,e.return,je)}}s&4&&e.stateNode!=null&&(n=e.memoizedProps,xi(e,n,l!==null?l.memoizedProps:n)),s&1024&&(pi=!0);break;case 6:if(Zt(t,e),It(e),s&4){if(e.stateNode===null)throw Error(o(162));s=e.memoizedProps,l=e.stateNode;try{l.nodeValue=s}catch(je){Ze(e,e.return,je)}}break;case 3:if(Or=null,n=ba,ba=Mr(t.containerInfo),Zt(t,e),ba=n,It(e),s&4&&l!==null&&l.memoizedState.isDehydrated)try{Cs(t.containerInfo)}catch(je){Ze(e,e.return,je)}pi&&(pi=!1,Uu(e));break;case 4:s=ba,ba=Mr(e.stateNode.containerInfo),Zt(t,e),It(e),ba=s;break;case 12:Zt(t,e),It(e);break;case 31:Zt(t,e),It(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,gr(e,s)));break;case 13:Zt(t,e),It(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(vr=Ie()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,gr(e,s)));break;case 22:n=e.memoizedState!==null;var k=l!==null&&l.memoizedState!==null,Y=$a,se=Nt;if($a=Y||n,Nt=se||k,Zt(t,e),Nt=se,$a=Y,It(e),s&8192)e:for(t=e.stateNode,t._visibility=n?t._visibility&-2:t._visibility|1,n&&(l===null||k||$a||Nt||ql(e)),l=null,t=e;;){if(t.tag===5||t.tag===26){if(l===null){k=l=t;try{if(r=k.stateNode,n)i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none";else{x=k.stateNode;var de=k.memoizedProps.style,X=de!=null&&de.hasOwnProperty("display")?de.display:null;x.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(je){Ze(k,k.return,je)}}}else if(t.tag===6){if(l===null){k=t;try{k.stateNode.nodeValue=n?"":k.memoizedProps}catch(je){Ze(k,k.return,je)}}}else if(t.tag===18){if(l===null){k=t;try{var W=k.stateNode;n?S0(W,!0):S0(k.stateNode,!1)}catch(je){Ze(k,k.return,je)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;l===t&&(l=null),t=t.return}l===t&&(l=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(l=s.retryQueue,l!==null&&(s.retryQueue=null,gr(e,l))));break;case 19:Zt(t,e),It(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,gr(e,s)));break;case 30:break;case 21:break;default:Zt(t,e),It(e)}}function It(e){var t=e.flags;if(t&2){try{for(var l,s=e.return;s!==null;){if(Eu(s)){l=s;break}s=s.return}if(l==null)throw Error(o(160));switch(l.tag){case 27:var n=l.stateNode,r=fi(e);mr(e,r,n);break;case 5:var i=l.stateNode;l.flags&32&&(Jl(i,""),l.flags&=-33);var x=fi(e);mr(e,x,i);break;case 3:case 4:var k=l.stateNode.containerInfo,Y=fi(e);hi(e,Y,k);break;default:throw Error(o(161))}}catch(se){Ze(e,e.return,se)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Uu(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Uu(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Qa(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Ru(e,t.alternate,t),t=t.sibling}function ql(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ul(4,t,t.return),ql(t);break;case 1:ka(t,t.return);var l=t.stateNode;typeof l.componentWillUnmount=="function"&&Su(t,t.return,l),ql(t);break;case 27:pn(t.stateNode);case 26:case 5:ka(t,t.return),ql(t);break;case 22:t.memoizedState===null&&ql(t);break;case 30:ql(t);break;default:ql(t)}e=e.sibling}}function Xa(e,t,l){for(l=l&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,n=e,r=t,i=r.flags;switch(r.tag){case 0:case 11:case 15:Xa(n,r,l),sn(4,r);break;case 1:if(Xa(n,r,l),s=r,n=s.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(Y){Ze(s,s.return,Y)}if(s=r,n=s.updateQueue,n!==null){var x=s.stateNode;try{var k=n.shared.hiddenCallbacks;if(k!==null)for(n.shared.hiddenCallbacks=null,n=0;n<k.length;n++)fd(k[n],x)}catch(Y){Ze(s,s.return,Y)}}l&&i&64&&ku(r),nn(r,r.return);break;case 27:Du(r);case 26:case 5:Xa(n,r,l),l&&s===null&&i&4&&Cu(r),nn(r,r.return);break;case 12:Xa(n,r,l);break;case 31:Xa(n,r,l),l&&i&4&&Ou(n,r);break;case 13:Xa(n,r,l),l&&i&4&&zu(n,r);break;case 22:r.memoizedState===null&&Xa(n,r,l),nn(r,r.return);break;case 30:break;default:Xa(n,r,l)}t=t.sibling}}function mi(e,t){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&Qs(l))}function gi(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Qs(e))}function va(e,t,l,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Bu(e,t,l,s),t=t.sibling}function Bu(e,t,l,s){var n=t.flags;switch(t.tag){case 0:case 11:case 15:va(e,t,l,s),n&2048&&sn(9,t);break;case 1:va(e,t,l,s);break;case 3:va(e,t,l,s),n&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Qs(e)));break;case 12:if(n&2048){va(e,t,l,s),e=t.stateNode;try{var r=t.memoizedProps,i=r.id,x=r.onPostCommit;typeof x=="function"&&x(i,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(k){Ze(t,t.return,k)}}else va(e,t,l,s);break;case 31:va(e,t,l,s);break;case 13:va(e,t,l,s);break;case 23:break;case 22:r=t.stateNode,i=t.alternate,t.memoizedState!==null?r._visibility&2?va(e,t,l,s):rn(e,t):r._visibility&2?va(e,t,l,s):(r._visibility|=2,ps(e,t,l,s,(t.subtreeFlags&10256)!==0||!1)),n&2048&&mi(i,t);break;case 24:va(e,t,l,s),n&2048&&gi(t.alternate,t);break;default:va(e,t,l,s)}}function ps(e,t,l,s,n){for(n=n&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var r=e,i=t,x=l,k=s,Y=i.flags;switch(i.tag){case 0:case 11:case 15:ps(r,i,x,k,n),sn(8,i);break;case 23:break;case 22:var se=i.stateNode;i.memoizedState!==null?se._visibility&2?ps(r,i,x,k,n):rn(r,i):(se._visibility|=2,ps(r,i,x,k,n)),n&&Y&2048&&mi(i.alternate,i);break;case 24:ps(r,i,x,k,n),n&&Y&2048&&gi(i.alternate,i);break;default:ps(r,i,x,k,n)}t=t.sibling}}function rn(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var l=e,s=t,n=s.flags;switch(s.tag){case 22:rn(l,s),n&2048&&mi(s.alternate,s);break;case 24:rn(l,s),n&2048&&gi(s.alternate,s);break;default:rn(l,s)}t=t.sibling}}var cn=8192;function ms(e,t,l){if(e.subtreeFlags&cn)for(e=e.child;e!==null;)_u(e,t,l),e=e.sibling}function _u(e,t,l){switch(e.tag){case 26:ms(e,t,l),e.flags&cn&&e.memoizedState!==null&&ph(l,ba,e.memoizedState,e.memoizedProps);break;case 5:ms(e,t,l);break;case 3:case 4:var s=ba;ba=Mr(e.stateNode.containerInfo),ms(e,t,l),ba=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=cn,cn=16777216,ms(e,t,l),cn=s):ms(e,t,l));break;default:ms(e,t,l)}}function Vu(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function on(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var s=t[l];Mt=s,qu(s,e)}Vu(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Hu(e),e=e.sibling}function Hu(e){switch(e.tag){case 0:case 11:case 15:on(e),e.flags&2048&&ul(9,e,e.return);break;case 3:on(e);break;case 12:on(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,br(e)):on(e);break;default:on(e)}}function br(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var s=t[l];Mt=s,qu(s,e)}Vu(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ul(8,t,t.return),br(t);break;case 22:l=t.stateNode,l._visibility&2&&(l._visibility&=-3,br(t));break;default:br(t)}e=e.sibling}}function qu(e,t){for(;Mt!==null;){var l=Mt;switch(l.tag){case 0:case 11:case 15:ul(8,l,t);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var s=l.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Qs(l.memoizedState.cache)}if(s=l.child,s!==null)s.return=l,Mt=s;else e:for(l=e;Mt!==null;){s=Mt;var n=s.sibling,r=s.return;if(Mu(s),s===l){Mt=null;break e}if(n!==null){n.return=r,Mt=n;break e}Mt=r}}}var Rf={getCacheForType:function(e){var t=Ut(vt),l=t.data.get(e);return l===void 0&&(l=e(),t.data.set(e,l)),l},cacheSignal:function(){return Ut(vt).controller.signal}},Mf=typeof WeakMap=="function"?WeakMap:Map,Ge=0,tt=null,ze=null,Ue=0,Xe=0,ta=null,xl=!1,gs=!1,bi=!1,Za=0,ft=0,fl=0,Gl=0,vi=0,aa=0,bs=0,dn=null,Jt=null,ji=!1,vr=0,Gu=0,jr=1/0,yr=null,hl=null,Ct=0,pl=null,vs=null,Ia=0,yi=0,Ni=null,$u=null,un=0,wi=null;function la(){return(Ge&2)!==0&&Ue!==0?Ue&-Ue:E.T!==null?Ai():Mn()}function Yu(){if(aa===0)if((Ue&536870912)===0||Ve){var e=Fa;Fa<<=1,(Fa&3932160)===0&&(Fa=262144),aa=e}else aa=536870912;return e=Pt.current,e!==null&&(e.flags|=32),aa}function Kt(e,t,l){(e===tt&&(Xe===2||Xe===9)||e.cancelPendingCommit!==null)&&(js(e,0),ml(e,Ue,aa,!1)),ct(e,l),((Ge&2)===0||e!==tt)&&(e===tt&&((Ge&2)===0&&(Gl|=l),ft===4&&ml(e,Ue,aa,!1)),Sa(e))}function Qu(e,t,l){if((Ge&6)!==0)throw Error(o(327));var s=!l&&(t&127)===0&&(t&e.expiredLanes)===0||ya(e,t),n=s?zf(e,t):Si(e,t,!0),r=s;do{if(n===0){gs&&!s&&ml(e,t,0,!1);break}else{if(l=e.current.alternate,r&&!Tf(l)){n=Si(e,t,!1),r=!1;continue}if(n===2){if(r=t,e.errorRecoveryDisabledLanes&r)var i=0;else i=e.pendingLanes&-536870913,i=i!==0?i:i&536870912?536870912:0;if(i!==0){t=i;e:{var x=e;n=dn;var k=x.current.memoizedState.isDehydrated;if(k&&(js(x,i).flags|=256),i=Si(x,i,!1),i!==2){if(bi&&!k){x.errorRecoveryDisabledLanes|=r,Gl|=r,n=4;break e}r=Jt,Jt=n,r!==null&&(Jt===null?Jt=r:Jt.push.apply(Jt,r))}n=i}if(r=!1,n!==2)continue}}if(n===1){js(e,0),ml(e,t,0,!0);break}e:{switch(s=e,r=n,r){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:ml(s,t,aa,!xl);break e;case 2:Jt=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(n=vr+300-Ie(),10<n)){if(ml(s,t,aa,!xl),ja(s,0,!0)!==0)break e;Ia=t,s.timeoutHandle=N0(Xu.bind(null,s,l,Jt,yr,ji,t,aa,Gl,bs,xl,r,"Throttled",-0,0),n);break e}Xu(s,l,Jt,yr,ji,t,aa,Gl,bs,xl,r,null,-0,0)}}break}while(!0);Sa(e)}function Xu(e,t,l,s,n,r,i,x,k,Y,se,de,X,W){if(e.timeoutHandle=-1,de=t.subtreeFlags,de&8192||(de&16785408)===16785408){de={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Oa},_u(t,r,de);var je=(r&62914560)===r?vr-Ie():(r&4194048)===r?Gu-Ie():0;if(je=mh(de,je),je!==null){Ia=r,e.cancelPendingCommit=je(e0.bind(null,e,t,r,l,s,n,i,x,k,se,de,null,X,W)),ml(e,r,i,!Y);return}}e0(e,t,r,l,s,n,i,x,k)}function Tf(e){for(var t=e;;){var l=t.tag;if((l===0||l===11||l===15)&&t.flags&16384&&(l=t.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var s=0;s<l.length;s++){var n=l[s],r=n.getSnapshot;n=n.value;try{if(!Ft(r(),n))return!1}catch{return!1}}if(l=t.child,t.subtreeFlags&16384&&l!==null)l.return=t,t=l;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ml(e,t,l,s){t&=~vi,t&=~Gl,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var n=t;0<n;){var r=31-bt(n),i=1<<r;s[r]=-1,n&=~i}l!==0&&Dn(e,l,t)}function Nr(){return(Ge&6)===0?(xn(0),!1):!0}function ki(){if(ze!==null){if(Xe===0)var e=ze.return;else e=ze,Ba=Ol=null,Hc(e),ds=null,Zs=0,e=ze;for(;e!==null;)wu(e.alternate,e),e=e.return;ze=null}}function js(e,t){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,Wf(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),Ia=0,ki(),tt=e,ze=l=La(e.current,null),Ue=t,Xe=0,ta=null,xl=!1,gs=ya(e,t),bi=!1,bs=aa=vi=Gl=fl=ft=0,Jt=dn=null,ji=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var n=31-bt(s),r=1<<n;t|=e[n],s&=~r}return Za=t,$n(),l}function Zu(e,t){Re=null,E.H=tn,t===os||t===Fn?(t=od(),Xe=3):t===Dc?(t=od(),Xe=4):Xe=t===ai?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,ta=t,ze===null&&(ft=1,ur(e,ia(t,e.current)))}function Iu(){var e=Pt.current;return e===null?!0:(Ue&4194048)===Ue?xa===null:(Ue&62914560)===Ue||(Ue&536870912)!==0?e===xa:!1}function Ju(){var e=E.H;return E.H=tn,e===null?tn:e}function Ku(){var e=E.A;return E.A=Rf,e}function wr(){ft=4,xl||(Ue&4194048)!==Ue&&Pt.current!==null||(gs=!0),(fl&134217727)===0&&(Gl&134217727)===0||tt===null||ml(tt,Ue,aa,!1)}function Si(e,t,l){var s=Ge;Ge|=2;var n=Ju(),r=Ku();(tt!==e||Ue!==t)&&(yr=null,js(e,t)),t=!1;var i=ft;e:do try{if(Xe!==0&&ze!==null){var x=ze,k=ta;switch(Xe){case 8:ki(),i=6;break e;case 3:case 2:case 9:case 6:Pt.current===null&&(t=!0);var Y=Xe;if(Xe=0,ta=null,ys(e,x,k,Y),l&&gs){i=0;break e}break;default:Y=Xe,Xe=0,ta=null,ys(e,x,k,Y)}}Of(),i=ft;break}catch(se){Zu(e,se)}while(!0);return t&&e.shellSuspendCounter++,Ba=Ol=null,Ge=s,E.H=n,E.A=r,ze===null&&(tt=null,Ue=0,$n()),i}function Of(){for(;ze!==null;)Fu(ze)}function zf(e,t){var l=Ge;Ge|=2;var s=Ju(),n=Ku();tt!==e||Ue!==t?(yr=null,jr=Ie()+500,js(e,t)):gs=ya(e,t);e:do try{if(Xe!==0&&ze!==null){t=ze;var r=ta;t:switch(Xe){case 1:Xe=0,ta=null,ys(e,t,r,1);break;case 2:case 9:if(cd(r)){Xe=0,ta=null,Wu(t);break}t=function(){Xe!==2&&Xe!==9||tt!==e||(Xe=7),Sa(e)},r.then(t,t);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:cd(r)?(Xe=0,ta=null,Wu(t)):(Xe=0,ta=null,ys(e,t,r,7));break;case 5:var i=null;switch(ze.tag){case 26:i=ze.memoizedState;case 5:case 27:var x=ze;if(i?B0(i):x.stateNode.complete){Xe=0,ta=null;var k=x.sibling;if(k!==null)ze=k;else{var Y=x.return;Y!==null?(ze=Y,kr(Y)):ze=null}break t}}Xe=0,ta=null,ys(e,t,r,5);break;case 6:Xe=0,ta=null,ys(e,t,r,6);break;case 8:ki(),ft=6;break e;default:throw Error(o(462))}}Lf();break}catch(se){Zu(e,se)}while(!0);return Ba=Ol=null,E.H=s,E.A=n,Ge=l,ze!==null?0:(tt=null,Ue=0,$n(),ft)}function Lf(){for(;ze!==null&&!At();)Fu(ze)}function Fu(e){var t=yu(e.alternate,e,Za);e.memoizedProps=e.pendingProps,t===null?kr(e):ze=t}function Wu(e){var t=e,l=t.alternate;switch(t.tag){case 15:case 0:t=pu(l,t,t.pendingProps,t.type,void 0,Ue);break;case 11:t=pu(l,t,t.pendingProps,t.type.render,t.ref,Ue);break;case 5:Hc(t);default:wu(l,t),t=ze=Ko(t,Za),t=yu(l,t,Za)}e.memoizedProps=e.pendingProps,t===null?kr(e):ze=t}function ys(e,t,l,s){Ba=Ol=null,Hc(t),ds=null,Zs=0;var n=t.return;try{if(wf(e,n,t,l,Ue)){ft=1,ur(e,ia(l,e.current)),ze=null;return}}catch(r){if(n!==null)throw ze=n,r;ft=1,ur(e,ia(l,e.current)),ze=null;return}t.flags&32768?(Ve||s===1?e=!0:gs||(Ue&536870912)!==0?e=!1:(xl=e=!0,(s===2||s===9||s===3||s===6)&&(s=Pt.current,s!==null&&s.tag===13&&(s.flags|=16384))),Pu(t,e)):kr(t)}function kr(e){var t=e;do{if((t.flags&32768)!==0){Pu(t,xl);return}e=t.return;var l=Cf(t.alternate,t,Za);if(l!==null){ze=l;return}if(t=t.sibling,t!==null){ze=t;return}ze=t=e}while(t!==null);ft===0&&(ft=5)}function Pu(e,t){do{var l=Ef(e.alternate,e);if(l!==null){l.flags&=32767,ze=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!t&&(e=e.sibling,e!==null)){ze=e;return}ze=e=l}while(e!==null);ft=6,ze=null}function e0(e,t,l,s,n,r,i,x,k){e.cancelPendingCommit=null;do Sr();while(Ct!==0);if((Ge&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(r=t.lanes|t.childLanes,r|=fc,Ms(e,l,r,i,x,k),e===tt&&(ze=tt=null,Ue=0),vs=t,pl=e,Ia=l,yi=r,Ni=n,$u=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Vf(Ot,function(){return n0(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=E.T,E.T=null,n=q.p,q.p=2,i=Ge,Ge|=4;try{Df(e,t,l)}finally{Ge=i,q.p=n,E.T=s}}Ct=1,t0(),a0(),l0()}}function t0(){if(Ct===1){Ct=0;var e=pl,t=vs,l=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||l){l=E.T,E.T=null;var s=q.p;q.p=2;var n=Ge;Ge|=4;try{Lu(t,e);var r=Bi,i=qo(e.containerInfo),x=r.focusedElem,k=r.selectionRange;if(i!==x&&x&&x.ownerDocument&&Ho(x.ownerDocument.documentElement,x)){if(k!==null&&ic(x)){var Y=k.start,se=k.end;if(se===void 0&&(se=Y),"selectionStart"in x)x.selectionStart=Y,x.selectionEnd=Math.min(se,x.value.length);else{var de=x.ownerDocument||document,X=de&&de.defaultView||window;if(X.getSelection){var W=X.getSelection(),je=x.textContent.length,Ce=Math.min(k.start,je),We=k.end===void 0?Ce:Math.min(k.end,je);!W.extend&&Ce>We&&(i=We,We=Ce,Ce=i);var U=Vo(x,Ce),R=Vo(x,We);if(U&&R&&(W.rangeCount!==1||W.anchorNode!==U.node||W.anchorOffset!==U.offset||W.focusNode!==R.node||W.focusOffset!==R.offset)){var $=de.createRange();$.setStart(U.node,U.offset),W.removeAllRanges(),Ce>We?(W.addRange($),W.extend(R.node,R.offset)):($.setEnd(R.node,R.offset),W.addRange($))}}}}for(de=[],W=x;W=W.parentNode;)W.nodeType===1&&de.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<de.length;x++){var ce=de[x];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}Br=!!Ui,Bi=Ui=null}finally{Ge=n,q.p=s,E.T=l}}e.current=t,Ct=2}}function a0(){if(Ct===2){Ct=0;var e=pl,t=vs,l=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||l){l=E.T,E.T=null;var s=q.p;q.p=2;var n=Ge;Ge|=4;try{Ru(e,t.alternate,t)}finally{Ge=n,q.p=s,E.T=l}}Ct=3}}function l0(){if(Ct===4||Ct===3){Ct=0,kt();var e=pl,t=vs,l=Ia,s=$u;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Ct=5:(Ct=0,vs=pl=null,s0(e,e.pendingLanes));var n=e.pendingLanes;if(n===0&&(hl=null),Os(l),t=t.stateNode,St&&typeof St.onCommitFiberRoot=="function")try{St.onCommitFiberRoot(sa,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=E.T,n=q.p,q.p=2,E.T=null;try{for(var r=e.onRecoverableError,i=0;i<s.length;i++){var x=s[i];r(x.value,{componentStack:x.stack})}}finally{E.T=t,q.p=n}}(Ia&3)!==0&&Sr(),Sa(e),n=e.pendingLanes,(l&261930)!==0&&(n&42)!==0?e===wi?un++:(un=0,wi=e):un=0,xn(0)}}function s0(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Qs(t)))}function Sr(){return t0(),a0(),l0(),n0()}function n0(){if(Ct!==5)return!1;var e=pl,t=yi;yi=0;var l=Os(Ia),s=E.T,n=q.p;try{q.p=32>l?32:l,E.T=null,l=Ni,Ni=null;var r=pl,i=Ia;if(Ct=0,vs=pl=null,Ia=0,(Ge&6)!==0)throw Error(o(331));var x=Ge;if(Ge|=4,Hu(r.current),Bu(r,r.current,i,l),Ge=x,xn(0,!1),St&&typeof St.onPostCommitFiberRoot=="function")try{St.onPostCommitFiberRoot(sa,r)}catch{}return!0}finally{q.p=n,E.T=s,s0(e,t)}}function r0(e,t,l){t=ia(l,t),t=ti(e.stateNode,t,2),e=il(e,t,2),e!==null&&(ct(e,2),Sa(e))}function Ze(e,t,l){if(e.tag===3)r0(e,e,l);else for(;t!==null;){if(t.tag===3){r0(t,e,l);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(hl===null||!hl.has(s))){e=ia(l,e),l=cu(2),s=il(t,l,2),s!==null&&(iu(l,s,t,e),ct(s,2),Sa(s));break}}t=t.return}}function Ci(e,t,l){var s=e.pingCache;if(s===null){s=e.pingCache=new Mf;var n=new Set;s.set(t,n)}else n=s.get(t),n===void 0&&(n=new Set,s.set(t,n));n.has(l)||(bi=!0,n.add(l),e=Uf.bind(null,e,t,l),t.then(e,e))}function Uf(e,t,l){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,tt===e&&(Ue&l)===l&&(ft===4||ft===3&&(Ue&62914560)===Ue&&300>Ie()-vr?(Ge&2)===0&&js(e,0):vi|=l,bs===Ue&&(bs=0)),Sa(e)}function c0(e,t){t===0&&(t=En()),e=Rl(e,t),e!==null&&(ct(e,t),Sa(e))}function Bf(e){var t=e.memoizedState,l=0;t!==null&&(l=t.retryLane),c0(e,l)}function _f(e,t){var l=0;switch(e.tag){case 31:case 13:var s=e.stateNode,n=e.memoizedState;n!==null&&(l=n.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(o(314))}s!==null&&s.delete(t),c0(e,l)}function Vf(e,t){return Oe(e,t)}var Cr=null,Ns=null,Ei=!1,Er=!1,Di=!1,gl=0;function Sa(e){e!==Ns&&e.next===null&&(Ns===null?Cr=Ns=e:Ns=Ns.next=e),Er=!0,Ei||(Ei=!0,qf())}function xn(e,t){if(!Di&&Er){Di=!0;do for(var l=!1,s=Cr;s!==null;){if(e!==0){var n=s.pendingLanes;if(n===0)var r=0;else{var i=s.suspendedLanes,x=s.pingedLanes;r=(1<<31-bt(42|e)+1)-1,r&=n&~(i&~x),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(l=!0,u0(s,r))}else r=Ue,r=ja(s,s===tt?r:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(r&3)===0||ya(s,r)||(l=!0,u0(s,r));s=s.next}while(l);Di=!1}}function Hf(){i0()}function i0(){Er=Ei=!1;var e=0;gl!==0&&Ff()&&(e=gl);for(var t=Ie(),l=null,s=Cr;s!==null;){var n=s.next,r=o0(s,t);r===0?(s.next=null,l===null?Cr=n:l.next=n,n===null&&(Ns=l)):(l=s,(e!==0||(r&3)!==0)&&(Er=!0)),s=n}Ct!==0&&Ct!==5||xn(e),gl!==0&&(gl=0)}function o0(e,t){for(var l=e.suspendedLanes,s=e.pingedLanes,n=e.expirationTimes,r=e.pendingLanes&-62914561;0<r;){var i=31-bt(r),x=1<<i,k=n[i];k===-1?((x&l)===0||(x&s)!==0)&&(n[i]=Sl(x,t)):k<=t&&(e.expiredLanes|=x),r&=~x}if(t=tt,l=Ue,l=ja(e,e===t?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,l===0||e===t&&(Xe===2||Xe===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&dt(s),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||ya(e,l)){if(t=l&-l,t===e.callbackPriority)return t;switch(s!==null&&dt(s),Os(l)){case 2:case 8:l=Me;break;case 32:l=Ot;break;case 268435456:l=Ka;break;default:l=Ot}return s=d0.bind(null,e),l=Oe(l,s),e.callbackPriority=t,e.callbackNode=l,t}return s!==null&&s!==null&&dt(s),e.callbackPriority=2,e.callbackNode=null,2}function d0(e,t){if(Ct!==0&&Ct!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(Sr()&&e.callbackNode!==l)return null;var s=Ue;return s=ja(e,e===tt?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Qu(e,s,t),o0(e,Ie()),e.callbackNode!=null&&e.callbackNode===l?d0.bind(null,e):null)}function u0(e,t){if(Sr())return null;Qu(e,t,!0)}function qf(){Pf(function(){(Ge&6)!==0?Oe(pe,Hf):i0()})}function Ai(){if(gl===0){var e=cs;e===0&&(e=Je,Je<<=1,(Je&261888)===0&&(Je=256)),gl=e}return gl}function x0(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ln(""+e)}function f0(e,t){var l=t.ownerDocument.createElement("input");return l.name=t.name,l.value=t.value,e.id&&l.setAttribute("form",e.id),t.parentNode.insertBefore(l,t),e=new FormData(e),l.parentNode.removeChild(l),e}function Gf(e,t,l,s,n){if(t==="submit"&&l&&l.stateNode===n){var r=x0((n[me]||null).action),i=s.submitter;i&&(t=(t=i[me]||null)?x0(t.formAction):i.getAttribute("formAction"),t!==null&&(r=t,i=null));var x=new Vn("action","action",null,s,n);e.push({event:x,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(gl!==0){var k=i?f0(n,i):new FormData(n);Jc(l,{pending:!0,data:k,method:n.method,action:r},null,k)}}else typeof r=="function"&&(x.preventDefault(),k=i?f0(n,i):new FormData(n),Jc(l,{pending:!0,data:k,method:n.method,action:r},r,k))},currentTarget:n}]})}}for(var Ri=0;Ri<xc.length;Ri++){var Mi=xc[Ri],$f=Mi.toLowerCase(),Yf=Mi[0].toUpperCase()+Mi.slice(1);ga($f,"on"+Yf)}ga(Yo,"onAnimationEnd"),ga(Qo,"onAnimationIteration"),ga(Xo,"onAnimationStart"),ga("dblclick","onDoubleClick"),ga("focusin","onFocus"),ga("focusout","onBlur"),ga(nf,"onTransitionRun"),ga(rf,"onTransitionStart"),ga(cf,"onTransitionCancel"),ga(Zo,"onTransitionEnd"),Zl("onMouseEnter",["mouseout","mouseover"]),Zl("onMouseLeave",["mouseout","mouseover"]),Zl("onPointerEnter",["pointerout","pointerover"]),Zl("onPointerLeave",["pointerout","pointerover"]),Cl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Cl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Cl("onBeforeInput",["compositionend","keypress","textInput","paste"]),Cl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Cl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Cl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qf=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fn));function h0(e,t){t=(t&4)!==0;for(var l=0;l<e.length;l++){var s=e[l],n=s.event;s=s.listeners;e:{var r=void 0;if(t)for(var i=s.length-1;0<=i;i--){var x=s[i],k=x.instance,Y=x.currentTarget;if(x=x.listener,k!==r&&n.isPropagationStopped())break e;r=x,n.currentTarget=Y;try{r(n)}catch(se){Gn(se)}n.currentTarget=null,r=k}else for(i=0;i<s.length;i++){if(x=s[i],k=x.instance,Y=x.currentTarget,x=x.listener,k!==r&&n.isPropagationStopped())break e;r=x,n.currentTarget=Y;try{r(n)}catch(se){Gn(se)}n.currentTarget=null,r=k}}}}function Le(e,t){var l=t[Qe];l===void 0&&(l=t[Qe]=new Set);var s=e+"__bubble";l.has(s)||(p0(t,e,2,!1),l.add(s))}function Ti(e,t,l){var s=0;t&&(s|=4),p0(l,e,s,t)}var Dr="_reactListening"+Math.random().toString(36).slice(2);function Oi(e){if(!e[Dr]){e[Dr]=!0,ma.forEach(function(l){l!=="selectionchange"&&(Qf.has(l)||Ti(l,!1,e),Ti(l,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Dr]||(t[Dr]=!0,Ti("selectionchange",!1,t))}}function p0(e,t,l,s){switch(Y0(t)){case 2:var n=vh;break;case 8:n=jh;break;default:n=Ii}l=n.bind(null,t,l,e),n=void 0,!Pr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),s?n!==void 0?e.addEventListener(t,l,{capture:!0,passive:n}):e.addEventListener(t,l,!0):n!==void 0?e.addEventListener(t,l,{passive:n}):e.addEventListener(t,l,!1)}function zi(e,t,l,s,n){var r=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var i=s.tag;if(i===3||i===4){var x=s.stateNode.containerInfo;if(x===n)break;if(i===4)for(i=s.return;i!==null;){var k=i.tag;if((k===3||k===4)&&i.stateNode.containerInfo===n)return;i=i.return}for(;x!==null;){if(i=Ra(x),i===null)return;if(k=i.tag,k===5||k===6||k===26||k===27){s=r=i;continue e}x=x.parentNode}}s=s.return}jo(function(){var Y=r,se=Fr(l),de=[];e:{var X=Io.get(e);if(X!==void 0){var W=Vn,je=e;switch(e){case"keypress":if(Bn(l)===0)break e;case"keydown":case"keyup":W=Bx;break;case"focusin":je="focus",W=lc;break;case"focusout":je="blur",W=lc;break;case"beforeblur":case"afterblur":W=lc;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=wo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Sx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=Hx;break;case Yo:case Qo:case Xo:W=Dx;break;case Zo:W=Gx;break;case"scroll":case"scrollend":W=wx;break;case"wheel":W=Yx;break;case"copy":case"cut":case"paste":W=Rx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=So;break;case"toggle":case"beforetoggle":W=Xx}var Ce=(t&4)!==0,We=!Ce&&(e==="scroll"||e==="scrollend"),U=Ce?X!==null?X+"Capture":null:X;Ce=[];for(var R=Y,$;R!==null;){var ce=R;if($=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||$===null||U===null||(ce=zs(R,U),ce!=null&&Ce.push(hn(R,ce,$))),We)break;R=R.return}0<Ce.length&&(X=new W(X,je,null,l,se),de.push({event:X,listeners:Ce}))}}if((t&7)===0){e:{if(X=e==="mouseover"||e==="pointerover",W=e==="mouseout"||e==="pointerout",X&&l!==Kr&&(je=l.relatedTarget||l.fromElement)&&(Ra(je)||je[ke]))break e;if((W||X)&&(X=se.window===se?se:(X=se.ownerDocument)?X.defaultView||X.parentWindow:window,W?(je=l.relatedTarget||l.toElement,W=Y,je=je?Ra(je):null,je!==null&&(We=y(je),Ce=je.tag,je!==We||Ce!==5&&Ce!==27&&Ce!==6)&&(je=null)):(W=null,je=Y),W!==je)){if(Ce=wo,ce="onMouseLeave",U="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(Ce=So,ce="onPointerLeave",U="onPointerEnter",R="pointer"),We=W==null?X:Vt(W),$=je==null?X:Vt(je),X=new Ce(ce,R+"leave",W,l,se),X.target=We,X.relatedTarget=$,ce=null,Ra(se)===Y&&(Ce=new Ce(U,R+"enter",je,l,se),Ce.target=$,Ce.relatedTarget=We,ce=Ce),We=ce,W&&je)t:{for(Ce=Xf,U=W,R=je,$=0,ce=U;ce;ce=Ce(ce))$++;ce=0;for(var Se=R;Se;Se=Ce(Se))ce++;for(;0<$-ce;)U=Ce(U),$--;for(;0<ce-$;)R=Ce(R),ce--;for(;$--;){if(U===R||R!==null&&U===R.alternate){Ce=U;break t}U=Ce(U),R=Ce(R)}Ce=null}else Ce=null;W!==null&&m0(de,X,W,Ce,!1),je!==null&&We!==null&&m0(de,We,je,Ce,!0)}}e:{if(X=Y?Vt(Y):window,W=X.nodeName&&X.nodeName.toLowerCase(),W==="select"||W==="input"&&X.type==="file")var He=Oo;else if(Mo(X))if(zo)He=af;else{He=ef;var we=Px}else W=X.nodeName,!W||W.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?Y&&Jr(Y.elementType)&&(He=Oo):He=tf;if(He&&(He=He(e,Y))){To(de,He,l,se);break e}we&&we(e,X,Y),e==="focusout"&&Y&&X.type==="number"&&Y.memoizedProps.value!=null&&Ir(X,"number",X.value)}switch(we=Y?Vt(Y):window,e){case"focusin":(Mo(we)||we.contentEditable==="true")&&(Pl=we,oc=Y,Gs=null);break;case"focusout":Gs=oc=Pl=null;break;case"mousedown":dc=!0;break;case"contextmenu":case"mouseup":case"dragend":dc=!1,Go(de,l,se);break;case"selectionchange":if(sf)break;case"keydown":case"keyup":Go(de,l,se)}var Te;if(nc)e:{switch(e){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else Wl?Ao(e,l)&&(Be="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(Be="onCompositionStart");Be&&(Co&&l.locale!=="ko"&&(Wl||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&Wl&&(Te=yo()):(tl=se,ec="value"in tl?tl.value:tl.textContent,Wl=!0)),we=Ar(Y,Be),0<we.length&&(Be=new ko(Be,e,null,l,se),de.push({event:Be,listeners:we}),Te?Be.data=Te:(Te=Ro(l),Te!==null&&(Be.data=Te)))),(Te=Ix?Jx(e,l):Kx(e,l))&&(Be=Ar(Y,"onBeforeInput"),0<Be.length&&(we=new ko("onBeforeInput","beforeinput",null,l,se),de.push({event:we,listeners:Be}),we.data=Te)),Gf(de,e,Y,l,se)}h0(de,t)})}function hn(e,t,l){return{instance:e,listener:t,currentTarget:l}}function Ar(e,t){for(var l=t+"Capture",s=[];e!==null;){var n=e,r=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||r===null||(n=zs(e,l),n!=null&&s.unshift(hn(e,n,r)),n=zs(e,t),n!=null&&s.push(hn(e,n,r))),e.tag===3)return s;e=e.return}return[]}function Xf(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function m0(e,t,l,s,n){for(var r=t._reactName,i=[];l!==null&&l!==s;){var x=l,k=x.alternate,Y=x.stateNode;if(x=x.tag,k!==null&&k===s)break;x!==5&&x!==26&&x!==27||Y===null||(k=Y,n?(Y=zs(l,r),Y!=null&&i.unshift(hn(l,Y,k))):n||(Y=zs(l,r),Y!=null&&i.push(hn(l,Y,k)))),l=l.return}i.length!==0&&e.push({event:t,listeners:i})}var Zf=/\r\n?/g,If=/\u0000|\uFFFD/g;function g0(e){return(typeof e=="string"?e:""+e).replace(Zf,`
`).replace(If,"")}function b0(e,t){return t=g0(t),g0(e)===t}function Fe(e,t,l,s,n,r){switch(l){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||Jl(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&Jl(e,""+s);break;case"className":On(e,"class",s);break;case"tabIndex":On(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":On(e,l,s);break;case"style":bo(e,s,r);break;case"data":if(t!=="object"){On(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||l!=="href")){e.removeAttribute(l);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(l);break}s=Ln(""+s),e.setAttribute(l,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(l==="formAction"?(t!=="input"&&Fe(e,t,"name",n.name,n,null),Fe(e,t,"formEncType",n.formEncType,n,null),Fe(e,t,"formMethod",n.formMethod,n,null),Fe(e,t,"formTarget",n.formTarget,n,null)):(Fe(e,t,"encType",n.encType,n,null),Fe(e,t,"method",n.method,n,null),Fe(e,t,"target",n.target,n,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(l);break}s=Ln(""+s),e.setAttribute(l,s);break;case"onClick":s!=null&&(e.onclick=Oa);break;case"onScroll":s!=null&&Le("scroll",e);break;case"onScrollEnd":s!=null&&Le("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(o(61));if(l=s.__html,l!=null){if(n.children!=null)throw Error(o(60));e.innerHTML=l}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}l=Ln(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,""+s):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":s===!0?e.setAttribute(l,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,s):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(l,s):e.removeAttribute(l);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(l):e.setAttribute(l,s);break;case"popover":Le("beforetoggle",e),Le("toggle",e),Tn(e,"popover",s);break;case"xlinkActuate":Ta(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Ta(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Ta(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Ta(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Ta(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Ta(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Ta(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Ta(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Ta(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Tn(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=yx.get(l)||l,Tn(e,l,s))}}function Li(e,t,l,s,n,r){switch(l){case"style":bo(e,s,r);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(o(61));if(l=s.__html,l!=null){if(n.children!=null)throw Error(o(60));e.innerHTML=l}}break;case"children":typeof s=="string"?Jl(e,s):(typeof s=="number"||typeof s=="bigint")&&Jl(e,""+s);break;case"onScroll":s!=null&&Le("scroll",e);break;case"onScrollEnd":s!=null&&Le("scrollend",e);break;case"onClick":s!=null&&(e.onclick=Oa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!el.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(n=l.endsWith("Capture"),t=l.slice(2,n?l.length-7:void 0),r=e[me]||null,r=r!=null?r[l]:null,typeof r=="function"&&e.removeEventListener(t,r,n),typeof s=="function")){typeof r!="function"&&r!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(t,s,n);break e}l in e?e[l]=s:s===!0?e.setAttribute(l,""):Tn(e,l,s)}}}function _t(e,t,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",e),Le("load",e);var s=!1,n=!1,r;for(r in l)if(l.hasOwnProperty(r)){var i=l[r];if(i!=null)switch(r){case"src":s=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Fe(e,t,r,i,l,null)}}n&&Fe(e,t,"srcSet",l.srcSet,l,null),s&&Fe(e,t,"src",l.src,l,null);return;case"input":Le("invalid",e);var x=r=i=n=null,k=null,Y=null;for(s in l)if(l.hasOwnProperty(s)){var se=l[s];if(se!=null)switch(s){case"name":n=se;break;case"type":i=se;break;case"checked":k=se;break;case"defaultChecked":Y=se;break;case"value":r=se;break;case"defaultValue":x=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(o(137,t));break;default:Fe(e,t,s,se,l,null)}}ho(e,r,x,k,Y,i,n,!1);return;case"select":Le("invalid",e),s=i=r=null;for(n in l)if(l.hasOwnProperty(n)&&(x=l[n],x!=null))switch(n){case"value":r=x;break;case"defaultValue":i=x;break;case"multiple":s=x;default:Fe(e,t,n,x,l,null)}t=r,l=i,e.multiple=!!s,t!=null?Il(e,!!s,t,!1):l!=null&&Il(e,!!s,l,!0);return;case"textarea":Le("invalid",e),r=n=s=null;for(i in l)if(l.hasOwnProperty(i)&&(x=l[i],x!=null))switch(i){case"value":s=x;break;case"defaultValue":n=x;break;case"children":r=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(o(91));break;default:Fe(e,t,i,x,l,null)}mo(e,s,n,r);return;case"option":for(k in l)if(l.hasOwnProperty(k)&&(s=l[k],s!=null))switch(k){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Fe(e,t,k,s,l,null)}return;case"dialog":Le("beforetoggle",e),Le("toggle",e),Le("cancel",e),Le("close",e);break;case"iframe":case"object":Le("load",e);break;case"video":case"audio":for(s=0;s<fn.length;s++)Le(fn[s],e);break;case"image":Le("error",e),Le("load",e);break;case"details":Le("toggle",e);break;case"embed":case"source":case"link":Le("error",e),Le("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in l)if(l.hasOwnProperty(Y)&&(s=l[Y],s!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Fe(e,t,Y,s,l,null)}return;default:if(Jr(t)){for(se in l)l.hasOwnProperty(se)&&(s=l[se],s!==void 0&&Li(e,t,se,s,l,void 0));return}}for(x in l)l.hasOwnProperty(x)&&(s=l[x],s!=null&&Fe(e,t,x,s,l,null))}function Jf(e,t,l,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,r=null,i=null,x=null,k=null,Y=null,se=null;for(W in l){var de=l[W];if(l.hasOwnProperty(W)&&de!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":k=de;default:s.hasOwnProperty(W)||Fe(e,t,W,null,s,de)}}for(var X in s){var W=s[X];if(de=l[X],s.hasOwnProperty(X)&&(W!=null||de!=null))switch(X){case"type":r=W;break;case"name":n=W;break;case"checked":Y=W;break;case"defaultChecked":se=W;break;case"value":i=W;break;case"defaultValue":x=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(o(137,t));break;default:W!==de&&Fe(e,t,X,W,s,de)}}Zr(e,i,x,k,Y,se,r,n);return;case"select":W=i=x=X=null;for(r in l)if(k=l[r],l.hasOwnProperty(r)&&k!=null)switch(r){case"value":break;case"multiple":W=k;default:s.hasOwnProperty(r)||Fe(e,t,r,null,s,k)}for(n in s)if(r=s[n],k=l[n],s.hasOwnProperty(n)&&(r!=null||k!=null))switch(n){case"value":X=r;break;case"defaultValue":x=r;break;case"multiple":i=r;default:r!==k&&Fe(e,t,n,r,s,k)}t=x,l=i,s=W,X!=null?Il(e,!!l,X,!1):!!s!=!!l&&(t!=null?Il(e,!!l,t,!0):Il(e,!!l,l?[]:"",!1));return;case"textarea":W=X=null;for(x in l)if(n=l[x],l.hasOwnProperty(x)&&n!=null&&!s.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:Fe(e,t,x,null,s,n)}for(i in s)if(n=s[i],r=l[i],s.hasOwnProperty(i)&&(n!=null||r!=null))switch(i){case"value":X=n;break;case"defaultValue":W=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(o(91));break;default:n!==r&&Fe(e,t,i,n,s,r)}po(e,X,W);return;case"option":for(var je in l)if(X=l[je],l.hasOwnProperty(je)&&X!=null&&!s.hasOwnProperty(je))switch(je){case"selected":e.selected=!1;break;default:Fe(e,t,je,null,s,X)}for(k in s)if(X=s[k],W=l[k],s.hasOwnProperty(k)&&X!==W&&(X!=null||W!=null))switch(k){case"selected":e.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:Fe(e,t,k,X,s,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ce in l)X=l[Ce],l.hasOwnProperty(Ce)&&X!=null&&!s.hasOwnProperty(Ce)&&Fe(e,t,Ce,null,s,X);for(Y in s)if(X=s[Y],W=l[Y],s.hasOwnProperty(Y)&&X!==W&&(X!=null||W!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(o(137,t));break;default:Fe(e,t,Y,X,s,W)}return;default:if(Jr(t)){for(var We in l)X=l[We],l.hasOwnProperty(We)&&X!==void 0&&!s.hasOwnProperty(We)&&Li(e,t,We,void 0,s,X);for(se in s)X=s[se],W=l[se],!s.hasOwnProperty(se)||X===W||X===void 0&&W===void 0||Li(e,t,se,X,s,W);return}}for(var U in l)X=l[U],l.hasOwnProperty(U)&&X!=null&&!s.hasOwnProperty(U)&&Fe(e,t,U,null,s,X);for(de in s)X=s[de],W=l[de],!s.hasOwnProperty(de)||X===W||X==null&&W==null||Fe(e,t,de,X,s,W)}function v0(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Kf(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,l=performance.getEntriesByType("resource"),s=0;s<l.length;s++){var n=l[s],r=n.transferSize,i=n.initiatorType,x=n.duration;if(r&&x&&v0(i)){for(i=0,x=n.responseEnd,s+=1;s<l.length;s++){var k=l[s],Y=k.startTime;if(Y>x)break;var se=k.transferSize,de=k.initiatorType;se&&v0(de)&&(k=k.responseEnd,i+=se*(k<x?1:(x-Y)/(k-Y)))}if(--s,t+=8*(r+i)/(n.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Ui=null,Bi=null;function Rr(e){return e.nodeType===9?e:e.ownerDocument}function j0(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function y0(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function _i(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Vi=null;function Ff(){var e=window.event;return e&&e.type==="popstate"?e===Vi?!1:(Vi=e,!0):(Vi=null,!1)}var N0=typeof setTimeout=="function"?setTimeout:void 0,Wf=typeof clearTimeout=="function"?clearTimeout:void 0,w0=typeof Promise=="function"?Promise:void 0,Pf=typeof queueMicrotask=="function"?queueMicrotask:typeof w0<"u"?function(e){return w0.resolve(null).then(e).catch(eh)}:N0;function eh(e){setTimeout(function(){throw e})}function bl(e){return e==="head"}function k0(e,t){var l=t,s=0;do{var n=l.nextSibling;if(e.removeChild(l),n&&n.nodeType===8)if(l=n.data,l==="/$"||l==="/&"){if(s===0){e.removeChild(n),Cs(t);return}s--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")s++;else if(l==="html")pn(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,pn(l);for(var r=l.firstChild;r;){var i=r.nextSibling,x=r.nodeName;r[Pa]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&r.rel.toLowerCase()==="stylesheet"||l.removeChild(r),r=i}}else l==="body"&&pn(e.ownerDocument.body);l=n}while(l);Cs(t)}function S0(e,t){var l=e;e=0;do{var s=l.nextSibling;if(l.nodeType===1?t?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(t?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),s&&s.nodeType===8)if(l=s.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=s}while(l)}function Hi(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var l=t;switch(t=t.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Hi(l),Xl(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function th(e,t,l,s){for(;e.nodeType===1;){var n=l;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Pa])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(r=e.getAttribute("rel"),r==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(r!==n.rel||e.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||e.getAttribute("title")!==(n.title==null?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(r=e.getAttribute("src"),(r!==(n.src==null?null:n.src)||e.getAttribute("type")!==(n.type==null?null:n.type)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var r=n.name==null?null:""+n.name;if(n.type==="hidden"&&e.getAttribute("name")===r)return e}else return e;if(e=fa(e.nextSibling),e===null)break}return null}function ah(e,t,l){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=fa(e.nextSibling),e===null))return null;return e}function C0(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=fa(e.nextSibling),e===null))return null;return e}function qi(e){return e.data==="$?"||e.data==="$~"}function Gi(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function lh(e,t){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||l.readyState!=="loading")t();else{var s=function(){t(),l.removeEventListener("DOMContentLoaded",s)};l.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function fa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var $i=null;function E0(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(t===0)return fa(e.nextSibling);t--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||t++}e=e.nextSibling}return null}function D0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(t===0)return e;t--}else l!=="/$"&&l!=="/&"||t++}e=e.previousSibling}return null}function A0(e,t,l){switch(t=Rr(l),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function pn(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Xl(e)}var ha=new Map,R0=new Set;function Mr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ja=q.d;q.d={f:sh,r:nh,D:rh,C:ch,L:ih,m:oh,X:uh,S:dh,M:xh};function sh(){var e=Ja.f(),t=Nr();return e||t}function nh(e){var t=Ma(e);t!==null&&t.tag===5&&t.type==="form"?Zd(t):Ja.r(e)}var ws=typeof document>"u"?null:document;function M0(e,t,l){var s=ws;if(s&&typeof t=="string"&&t){var n=ra(t);n='link[rel="'+e+'"][href="'+n+'"]',typeof l=="string"&&(n+='[crossorigin="'+l+'"]'),R0.has(n)||(R0.add(n),e={rel:e,crossOrigin:l,href:t},s.querySelector(n)===null&&(t=s.createElement("link"),_t(t,"link",e),et(t),s.head.appendChild(t)))}}function rh(e){Ja.D(e),M0("dns-prefetch",e,null)}function ch(e,t){Ja.C(e,t),M0("preconnect",e,t)}function ih(e,t,l){Ja.L(e,t,l);var s=ws;if(s&&e&&t){var n='link[rel="preload"][as="'+ra(t)+'"]';t==="image"&&l&&l.imageSrcSet?(n+='[imagesrcset="'+ra(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(n+='[imagesizes="'+ra(l.imageSizes)+'"]')):n+='[href="'+ra(e)+'"]';var r=n;switch(t){case"style":r=ks(e);break;case"script":r=Ss(e)}ha.has(r)||(e=S({rel:"preload",href:t==="image"&&l&&l.imageSrcSet?void 0:e,as:t},l),ha.set(r,e),s.querySelector(n)!==null||t==="style"&&s.querySelector(mn(r))||t==="script"&&s.querySelector(gn(r))||(t=s.createElement("link"),_t(t,"link",e),et(t),s.head.appendChild(t)))}}function oh(e,t){Ja.m(e,t);var l=ws;if(l&&e){var s=t&&typeof t.as=="string"?t.as:"script",n='link[rel="modulepreload"][as="'+ra(s)+'"][href="'+ra(e)+'"]',r=n;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=Ss(e)}if(!ha.has(r)&&(e=S({rel:"modulepreload",href:e},t),ha.set(r,e),l.querySelector(n)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(gn(r)))return}s=l.createElement("link"),_t(s,"link",e),et(s),l.head.appendChild(s)}}}function dh(e,t,l){Ja.S(e,t,l);var s=ws;if(s&&e){var n=$e(s).hoistableStyles,r=ks(e);t=t||"default";var i=n.get(r);if(!i){var x={loading:0,preload:null};if(i=s.querySelector(mn(r)))x.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":t},l),(l=ha.get(r))&&Yi(e,l);var k=i=s.createElement("link");et(k),_t(k,"link",e),k._p=new Promise(function(Y,se){k.onload=Y,k.onerror=se}),k.addEventListener("load",function(){x.loading|=1}),k.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Tr(i,t,s)}i={type:"stylesheet",instance:i,count:1,state:x},n.set(r,i)}}}function uh(e,t){Ja.X(e,t);var l=ws;if(l&&e){var s=$e(l).hoistableScripts,n=Ss(e),r=s.get(n);r||(r=l.querySelector(gn(n)),r||(e=S({src:e,async:!0},t),(t=ha.get(n))&&Qi(e,t),r=l.createElement("script"),et(r),_t(r,"link",e),l.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},s.set(n,r))}}function xh(e,t){Ja.M(e,t);var l=ws;if(l&&e){var s=$e(l).hoistableScripts,n=Ss(e),r=s.get(n);r||(r=l.querySelector(gn(n)),r||(e=S({src:e,async:!0,type:"module"},t),(t=ha.get(n))&&Qi(e,t),r=l.createElement("script"),et(r),_t(r,"link",e),l.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},s.set(n,r))}}function T0(e,t,l,s){var n=(n=be.current)?Mr(n):null;if(!n)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(t=ks(l.href),l=$e(n).hoistableStyles,s=l.get(t),s||(s={type:"style",instance:null,count:0,state:null},l.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=ks(l.href);var r=$e(n).hoistableStyles,i=r.get(e);if(i||(n=n.ownerDocument||n,i={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(e,i),(r=n.querySelector(mn(e)))&&!r._p&&(i.instance=r,i.state.loading=5),ha.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ha.set(e,l),r||fh(n,e,l,i.state))),t&&s===null)throw Error(o(528,""));return i}if(t&&s!==null)throw Error(o(529,""));return null;case"script":return t=l.async,l=l.src,typeof l=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ss(l),l=$e(n).hoistableScripts,s=l.get(t),s||(s={type:"script",instance:null,count:0,state:null},l.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function ks(e){return'href="'+ra(e)+'"'}function mn(e){return'link[rel="stylesheet"]['+e+"]"}function O0(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function fh(e,t,l,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),_t(t,"link",l),et(t),e.head.appendChild(t))}function Ss(e){return'[src="'+ra(e)+'"]'}function gn(e){return"script[async]"+e}function z0(e,t,l){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+ra(l.href)+'"]');if(s)return t.instance=s,et(s),s;var n=S({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),et(s),_t(s,"style",n),Tr(s,l.precedence,e),t.instance=s;case"stylesheet":n=ks(l.href);var r=e.querySelector(mn(n));if(r)return t.state.loading|=4,t.instance=r,et(r),r;s=O0(l),(n=ha.get(n))&&Yi(s,n),r=(e.ownerDocument||e).createElement("link"),et(r);var i=r;return i._p=new Promise(function(x,k){i.onload=x,i.onerror=k}),_t(r,"link",s),t.state.loading|=4,Tr(r,l.precedence,e),t.instance=r;case"script":return r=Ss(l.src),(n=e.querySelector(gn(r)))?(t.instance=n,et(n),n):(s=l,(n=ha.get(r))&&(s=S({},l),Qi(s,n)),e=e.ownerDocument||e,n=e.createElement("script"),et(n),_t(n,"link",s),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,Tr(s,l.precedence,e));return t.instance}function Tr(e,t,l){for(var s=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=s.length?s[s.length-1]:null,r=n,i=0;i<s.length;i++){var x=s[i];if(x.dataset.precedence===t)r=x;else if(r!==n)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=l.nodeType===9?l.head:l,t.insertBefore(e,t.firstChild))}function Yi(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Qi(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Or=null;function L0(e,t,l){if(Or===null){var s=new Map,n=Or=new Map;n.set(l,s)}else n=Or,s=n.get(l),s||(s=new Map,n.set(l,s));if(s.has(e))return s;for(s.set(e,null),l=l.getElementsByTagName(e),n=0;n<l.length;n++){var r=l[n];if(!(r[Pa]||r[M]||e==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var i=r.getAttribute(t)||"";i=e+i;var x=s.get(i);x?x.push(r):s.set(i,[r])}}return s}function U0(e,t,l){e=e.ownerDocument||e,e.head.insertBefore(l,t==="title"?e.querySelector("head > title"):null)}function hh(e,t,l){if(l===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function B0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function ph(e,t,l,s){if(l.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var n=ks(s.href),r=t.querySelector(mn(n));if(r){t=r._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=zr.bind(e),t.then(e,e)),l.state.loading|=4,l.instance=r,et(r);return}r=t.ownerDocument||t,s=O0(s),(n=ha.get(n))&&Yi(s,n),r=r.createElement("link"),et(r);var i=r;i._p=new Promise(function(x,k){i.onload=x,i.onerror=k}),_t(r,"link",s),l.instance=r}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,t),(t=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=zr.bind(e),t.addEventListener("load",l),t.addEventListener("error",l))}}var Xi=0;function mh(e,t){return e.stylesheets&&e.count===0&&Ur(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var s=setTimeout(function(){if(e.stylesheets&&Ur(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4+t);0<e.imgBytes&&Xi===0&&(Xi=62500*Kf());var n=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ur(e,e.stylesheets),e.unsuspend)){var r=e.unsuspend;e.unsuspend=null,r()}},(e.imgBytes>Xi?50:800)+t);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(n)}}:null}function zr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ur(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Lr=null;function Ur(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Lr=new Map,t.forEach(gh,e),Lr=null,zr.call(e))}function gh(e,t){if(!(t.state.loading&4)){var l=Lr.get(e);if(l)var s=l.get(null);else{l=new Map,Lr.set(e,l);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<n.length;r++){var i=n[r];(i.nodeName==="LINK"||i.getAttribute("media")!=="not all")&&(l.set(i.dataset.precedence,i),s=i)}s&&l.set(null,s)}n=t.instance,i=n.getAttribute("data-precedence"),r=l.get(i)||s,r===s&&l.set(null,n),l.set(i,n),this.count++,s=zr.bind(this),n.addEventListener("load",s),n.addEventListener("error",s),r?r.parentNode.insertBefore(n,r.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(n,e.firstChild)),t.state.loading|=4}}var bn={$$typeof:le,Provider:null,Consumer:null,_currentValue:N,_currentValue2:N,_threadCount:0};function bh(e,t,l,s,n,r,i,x,k){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Da(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Da(0),this.hiddenUpdates=Da(null),this.identifierPrefix=s,this.onUncaughtError=n,this.onCaughtError=r,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function _0(e,t,l,s,n,r,i,x,k,Y,se,de){return e=new bh(e,t,l,i,k,Y,se,de,x),t=1,r===!0&&(t|=24),r=Wt(3,null,null,t),e.current=r,r.stateNode=e,t=Sc(),t.refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:s,isDehydrated:l,cache:t},Ac(r),e}function V0(e){return e?(e=as,e):as}function H0(e,t,l,s,n,r){n=V0(n),s.context===null?s.context=n:s.pendingContext=n,s=cl(t),s.payload={element:l},r=r===void 0?null:r,r!==null&&(s.callback=r),l=il(e,s,t),l!==null&&(Kt(l,e,t),Js(l,e,t))}function q0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<t?l:t}}function Zi(e,t){q0(e,t),(e=e.alternate)&&q0(e,t)}function G0(e){if(e.tag===13||e.tag===31){var t=Rl(e,67108864);t!==null&&Kt(t,e,67108864),Zi(e,67108864)}}function $0(e){if(e.tag===13||e.tag===31){var t=la();t=Ts(t);var l=Rl(e,t);l!==null&&Kt(l,e,t),Zi(e,t)}}var Br=!0;function vh(e,t,l,s){var n=E.T;E.T=null;var r=q.p;try{q.p=2,Ii(e,t,l,s)}finally{q.p=r,E.T=n}}function jh(e,t,l,s){var n=E.T;E.T=null;var r=q.p;try{q.p=8,Ii(e,t,l,s)}finally{q.p=r,E.T=n}}function Ii(e,t,l,s){if(Br){var n=Ji(s);if(n===null)zi(e,t,s,_r,l),Q0(e,s);else if(Nh(n,e,t,l,s))s.stopPropagation();else if(Q0(e,s),t&4&&-1<yh.indexOf(e)){for(;n!==null;){var r=Ma(n);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var i=Ea(r.pendingLanes);if(i!==0){var x=r;for(x.pendingLanes|=2,x.entangledLanes|=2;i;){var k=1<<31-bt(i);x.entanglements[1]|=k,i&=~k}Sa(r),(Ge&6)===0&&(jr=Ie()+500,xn(0))}}break;case 31:case 13:x=Rl(r,2),x!==null&&Kt(x,r,2),Nr(),Zi(r,2)}if(r=Ji(s),r===null&&zi(e,t,s,_r,l),r===n)break;n=r}n!==null&&s.stopPropagation()}else zi(e,t,s,null,l)}}function Ji(e){return e=Fr(e),Ki(e)}var _r=null;function Ki(e){if(_r=null,e=Ra(e),e!==null){var t=y(e);if(t===null)e=null;else{var l=t.tag;if(l===13){if(e=B(t),e!==null)return e;e=null}else if(l===31){if(e=_(t),e!==null)return e;e=null}else if(l===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return _r=e,null}function Y0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($t()){case pe:return 2;case Me:return 8;case Ot:case $l:return 32;case Ka:return 268435456;default:return 32}default:return 32}}var Fi=!1,vl=null,jl=null,yl=null,vn=new Map,jn=new Map,Nl=[],yh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Q0(e,t){switch(e){case"focusin":case"focusout":vl=null;break;case"dragenter":case"dragleave":jl=null;break;case"mouseover":case"mouseout":yl=null;break;case"pointerover":case"pointerout":vn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":jn.delete(t.pointerId)}}function yn(e,t,l,s,n,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:l,eventSystemFlags:s,nativeEvent:r,targetContainers:[n]},t!==null&&(t=Ma(t),t!==null&&G0(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function Nh(e,t,l,s,n){switch(t){case"focusin":return vl=yn(vl,e,t,l,s,n),!0;case"dragenter":return jl=yn(jl,e,t,l,s,n),!0;case"mouseover":return yl=yn(yl,e,t,l,s,n),!0;case"pointerover":var r=n.pointerId;return vn.set(r,yn(vn.get(r)||null,e,t,l,s,n)),!0;case"gotpointercapture":return r=n.pointerId,jn.set(r,yn(jn.get(r)||null,e,t,l,s,n)),!0}return!1}function X0(e){var t=Ra(e.target);if(t!==null){var l=y(t);if(l!==null){if(t=l.tag,t===13){if(t=B(l),t!==null){e.blockedOn=t,Aa(e.priority,function(){$0(l)});return}}else if(t===31){if(t=_(l),t!==null){e.blockedOn=t,Aa(e.priority,function(){$0(l)});return}}else if(t===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Vr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var l=Ji(e.nativeEvent);if(l===null){l=e.nativeEvent;var s=new l.constructor(l.type,l);Kr=s,l.target.dispatchEvent(s),Kr=null}else return t=Ma(l),t!==null&&G0(t),e.blockedOn=l,!1;t.shift()}return!0}function Z0(e,t,l){Vr(e)&&l.delete(t)}function wh(){Fi=!1,vl!==null&&Vr(vl)&&(vl=null),jl!==null&&Vr(jl)&&(jl=null),yl!==null&&Vr(yl)&&(yl=null),vn.forEach(Z0),jn.forEach(Z0)}function Hr(e,t){e.blockedOn===t&&(e.blockedOn=null,Fi||(Fi=!0,d.unstable_scheduleCallback(d.unstable_NormalPriority,wh)))}var qr=null;function I0(e){qr!==e&&(qr=e,d.unstable_scheduleCallback(d.unstable_NormalPriority,function(){qr===e&&(qr=null);for(var t=0;t<e.length;t+=3){var l=e[t],s=e[t+1],n=e[t+2];if(typeof s!="function"){if(Ki(s||l)===null)continue;break}var r=Ma(l);r!==null&&(e.splice(t,3),t-=3,Jc(r,{pending:!0,data:n,method:l.method,action:s},s,n))}}))}function Cs(e){function t(k){return Hr(k,e)}vl!==null&&Hr(vl,e),jl!==null&&Hr(jl,e),yl!==null&&Hr(yl,e),vn.forEach(t),jn.forEach(t);for(var l=0;l<Nl.length;l++){var s=Nl[l];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Nl.length&&(l=Nl[0],l.blockedOn===null);)X0(l),l.blockedOn===null&&Nl.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(s=0;s<l.length;s+=3){var n=l[s],r=l[s+1],i=n[me]||null;if(typeof r=="function")i||I0(l);else if(i){var x=null;if(r&&r.hasAttribute("formAction")){if(n=r,i=r[me]||null)x=i.formAction;else if(Ki(n)!==null)continue}else x=i.action;typeof x=="function"?l[s+1]=x:(l.splice(s,3),s-=3),I0(l)}}}function J0(){function e(r){r.canIntercept&&r.info==="react-transition"&&r.intercept({handler:function(){return new Promise(function(i){return n=i})},focusReset:"manual",scroll:"manual"})}function t(){n!==null&&(n(),n=null),s||setTimeout(l,20)}function l(){if(!s&&!navigation.transition){var r=navigation.currentEntry;r&&r.url!=null&&navigation.navigate(r.url,{state:r.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,n=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(l,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),n!==null&&(n(),n=null)}}}function Wi(e){this._internalRoot=e}Gr.prototype.render=Wi.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var l=t.current,s=la();H0(l,s,e,t,null,null)},Gr.prototype.unmount=Wi.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;H0(e.current,2,null,e,null,null),Nr(),t[ke]=null}};function Gr(e){this._internalRoot=e}Gr.prototype.unstable_scheduleHydration=function(e){if(e){var t=Mn();e={blockedOn:null,target:e,priority:t};for(var l=0;l<Nl.length&&t!==0&&t<Nl[l].priority;l++);Nl.splice(l,0,e),l===0&&X0(e)}};var K0=c.version;if(K0!=="19.2.4")throw Error(o(527,K0,"19.2.4"));q.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=v(t),e=e!==null?C(e):null,e=e===null?null:e.stateNode,e};var kh={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:E,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $r=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$r.isDisabled&&$r.supportsFiber)try{sa=$r.inject(kh),St=$r}catch{}}return wn.createRoot=function(e,t){if(!h(e))throw Error(o(299));var l=!1,s="",n=lu,r=su,i=nu;return t!=null&&(t.unstable_strictMode===!0&&(l=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(n=t.onUncaughtError),t.onCaughtError!==void 0&&(r=t.onCaughtError),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=_0(e,1,!1,null,null,l,s,null,n,r,i,J0),e[ke]=t.current,Oi(e),new Wi(t)},wn.hydrateRoot=function(e,t,l){if(!h(e))throw Error(o(299));var s=!1,n="",r=lu,i=su,x=nu,k=null;return l!=null&&(l.unstable_strictMode===!0&&(s=!0),l.identifierPrefix!==void 0&&(n=l.identifierPrefix),l.onUncaughtError!==void 0&&(r=l.onUncaughtError),l.onCaughtError!==void 0&&(i=l.onCaughtError),l.onRecoverableError!==void 0&&(x=l.onRecoverableError),l.formState!==void 0&&(k=l.formState)),t=_0(e,1,!0,t,l??null,s,n,k,r,i,x,J0),t.context=V0(null),l=t.current,s=la(),s=Ts(s),n=cl(s),n.callback=null,il(l,n,s),l=s,t.current.lanes=l,ct(t,l),Sa(t),e[ke]=t.current,Oi(e),new Gr(t)},wn.version="19.2.4",wn}var rx;function zh(){if(rx)return to.exports;rx=1;function d(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d)}catch(c){console.error(c)}}return d(),to.exports=Oh(),to.exports}var Lh=zh();const Uh=ux(Lh);var _e=(d=>(d.GENERAL="general",d.OBSERVER="observer",d.ADMIN="admin",d.DISEADORA="diseadora",d))(_e||{});class Bh{getApiUrl(){var h;if((h=window.API_CONFIG)!=null&&h.getApiUrl)return window.API_CONFIG.getApiUrl();const c=window.location.protocol,u=window.location.hostname;return`${c}//${u}:3000/api`}getAuthHeaders(){const c=localStorage.getItem("auth_token");return{"Content-Type":"application/json",...c&&{Authorization:`Bearer ${c}`}}}async handleResponse(c){const u=new Date().toISOString();try{console.log(`[${u}]  Response received:`,{status:c.status,statusText:c.statusText,ok:c.ok,url:c.url,headers:{contentType:c.headers.get("content-type"),contentLength:c.headers.get("content-length"),corsOrigin:c.headers.get("access-control-allow-origin"),corsAllowCredentials:c.headers.get("access-control-allow-credentials"),corsAllowMethods:c.headers.get("access-control-allow-methods")}});const o=c.clone();if(c.status>=300&&c.status<400)return console.warn(`[${u}]  Redirect response received:`,{status:c.status,statusText:c.statusText,location:c.headers.get("location")}),{success:!1,message:`Redirect response (${c.status}): ${c.statusText}`};if(c.status>=500&&c.status<600)return console.error(`[${u}]  Server error response:`,{status:c.status,statusText:c.statusText}),{success:!1,message:`Error del servidor (${c.status})`};const h=c.headers.get("content-length"),y=c.headers.get("content-type");if((h==="0"||!(y!=null&&y.includes("application/json")))&&c.ok)return console.log(`[${u}]  Empty response body but response.ok is true, treating as success`),{success:!0,message:"Success",data:{}};let B;try{B=await c.json(),console.log(`[${u}]  Response successfully parsed as JSON:`,B)}catch(_){console.error(`[${u}]  Failed to parse response as JSON:`,_);const p=await o.text();return console.error(`[${u}]  Raw response text:`,p),{success:!1,message:`Invalid response format (${c.status}): ${p.substring(0,100)}`}}return c.ok?(console.log(`[${u}]  Response OK, returning data`),B):(console.warn(`[${u}]  Response not OK:`,{status:c.status,statusText:c.statusText,message:B.message||`Error del servidor (${c.status})`,error:B.error,url:c.url,timestamp:u}),{success:!1,message:B.message||`Error del servidor (${c.status})`,error:B.error})}catch(o){return console.error(`[${u}]  Unexpected error in handleResponse:`,{error:o.message,stack:o.stack,responseStatus:c.status,responseUrl:c.url,timestamp:u}),o instanceof SyntaxError?{success:!1,message:`Error del servidor (${c.status})`}:{success:!1,message:o.message||"Error desconocido"}}}async login(c,u){const o=new Date().toISOString();try{console.log(`[${o}]  Initiating login request:`,{loginCode:c,method:"POST",url:`${this.getApiUrl()}/auth/login`,timestamp:o});const h=await fetch(`${this.getApiUrl()}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({loginCode:c,pin:u})});console.log(`[${o}]  Response received from /auth/login`);const y=await this.handleResponse(h);if(y.success&&y.data){console.log(`[${o}]  Login successful, storing token and user data`),localStorage.setItem("auth_token",y.data.token),localStorage.setItem("current_user",JSON.stringify(y.data.user));const B=localStorage.getItem("auth_token"),_=localStorage.getItem("current_user");B===y.data.token?console.log(`[${o}]  Token verified in localStorage`):console.error(`[${o}]  Token verification failed: stored token does not match`),_&&(JSON.parse(_).id===y.data.user.id?console.log(`[${o}]  User data verified in localStorage`):console.error(`[${o}]  User data verification failed: stored user does not match`))}else console.error(`[${o}]  Login failed:`,{message:y.message,error:y.error,timestamp:o});return y}catch(h){return console.error(`[${o}]  Exception in login:`,{error:h.message,stack:h.stack,loginCode:c,timestamp:o}),{success:!1,message:h.message||"Error al iniciar sesin"}}}async register(c,u,o,h){try{const y=await fetch(`${this.getApiUrl()}/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:c,loginCode:u,pin:o,role:h||"general"})}),B=await this.handleResponse(y);return B.success&&B.data?await this.login(u,o):B}catch(y){return{success:!1,message:y.message||"Error al registrar usuario"}}}async createUser(c,u,o,h="general"){try{const y=await fetch(`${this.getApiUrl()}/auth/register`,{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify({name:c,loginCode:u,pin:o,role:h})});return this.handleResponse(y)}catch(y){return{success:!1,message:y.message||"Error al crear usuario"}}}async changePin(c,u,o){try{const h=await fetch(`${this.getApiUrl()}/auth/change-pin`,{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify({loginCode:c,currentPin:u,newPin:o})});return this.handleResponse(h)}catch(h){return{success:!1,message:h.message||"Error al cambiar PIN"}}}async listUsers(){try{const c=await fetch(`${this.getApiUrl()}/auth/users`,{headers:this.getAuthHeaders()}),u=await this.handleResponse(c);return console.log(" listUsers response:",u),console.log(" listUsers data.data:",u.data),Array.isArray(u.data)?u.data:Array.isArray(u)?u:[]}catch(c){return console.error("Error listando usuarios:",c),[]}}async updateUser(c,u){try{const o=await fetch(`${this.getApiUrl()}/auth/users/${c}`,{method:"PUT",headers:this.getAuthHeaders(),body:JSON.stringify(u)});return this.handleResponse(o)}catch(o){return{success:!1,message:o.message||"Error al actualizar usuario"}}}async deleteUser(c){try{const u=await fetch(`${this.getApiUrl()}/auth/users/${c}`,{method:"DELETE",headers:this.getAuthHeaders()});return this.handleResponse(u)}catch(u){return{success:!1,message:u.message||"Error al eliminar usuario"}}}logout(){localStorage.removeItem("auth_token"),localStorage.removeItem("current_user")}getCurrentUser(){const c=localStorage.getItem("current_user");return c?JSON.parse(c):null}isAuthenticated(){return!!localStorage.getItem("auth_token")}async getReferences(){try{const c=await fetch(`${this.getApiUrl()}/references`,{headers:this.getAuthHeaders()});return(await this.handleResponse(c)).data||[]}catch(c){return console.error("Error obteniendo referencias:",c),[]}}async createReference(c){try{const u=await fetch(`${this.getApiUrl()}/references`,{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify(c)});return this.handleResponse(u)}catch(u){return{success:!1,message:u.message||"Error al crear referencia"}}}async updateReference(c,u){try{const o=await fetch(`${this.getApiUrl()}/references/${c}`,{method:"PUT",headers:this.getAuthHeaders(),body:JSON.stringify(u)});return this.handleResponse(o)}catch(o){return{success:!1,message:o.message||"Error al actualizar referencia"}}}async deleteReference(c){try{const u=await fetch(`${this.getApiUrl()}/references/${c}`,{method:"DELETE",headers:this.getAuthHeaders()});return this.handleResponse(u)}catch(u){return{success:!1,message:u.message||"Error al eliminar referencia"}}}async getClients(){var c;try{console.log(" Fetching clients from:",`${this.getApiUrl()}/clients`);const u=await fetch(`${this.getApiUrl()}/clients`,{headers:this.getAuthHeaders()});console.log(" Response status:",u.status),console.log(" Response ok:",u.ok);const o=await this.handleResponse(u);return console.log(" API Response for getClients:",o),console.log(" Clients data:",o.data),console.log(" Clients count:",((c=o.data)==null?void 0:c.length)||0),(o.data||[]).map(y=>({id:y.id,name:y.name,nit:y.nit,address:y.address,city:y.city,sellerId:y.seller_id}))}catch(u){return console.error(" Error obteniendo clientes:",u),[]}}async createClient(c){try{const u=await fetch(`${this.getApiUrl()}/clients`,{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify(c)});return this.handleResponse(u)}catch(u){return{success:!1,message:u.message||"Error al crear cliente"}}}async updateClient(c,u){try{const o=await fetch(`${this.getApiUrl()}/clients/${c}`,{method:"PUT",headers:this.getAuthHeaders(),body:JSON.stringify(u)});return this.handleResponse(o)}catch(o){return{success:!1,message:o.message||"Error al actualizar cliente"}}}async deleteClient(c){try{const u=await fetch(`${this.getApiUrl()}/clients/${c}`,{method:"DELETE",headers:this.getAuthHeaders()});return this.handleResponse(u)}catch(u){return{success:!1,message:u.message||"Error al eliminar cliente"}}}async getConfeccionistas(){try{const c=await fetch(`${this.getApiUrl()}/confeccionistas`,{headers:this.getAuthHeaders()});return(await this.handleResponse(c)).data||[]}catch(c){return console.error("Error obteniendo confeccionistas:",c),[]}}async createConfeccionista(c){try{const u=await fetch(`${this.getApiUrl()}/confeccionistas`,{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify(c)});return this.handleResponse(u)}catch(u){return{success:!1,message:u.message||"Error al crear confeccionista"}}}async updateConfeccionista(c,u){try{const o=await fetch(`${this.getApiUrl()}/confeccionistas/${c}`,{method:"PUT",headers:this.getAuthHeaders(),body:JSON.stringify(u)});return this.handleResponse(o)}catch(o){return{success:!1,message:o.message||"Error al actualizar confeccionista"}}}async deleteConfeccionista(c){try{const u=await fetch(`${this.getApiUrl()}/confeccionistas/${c}`,{method:"DELETE",headers:this.getAuthHeaders()});return this.handleResponse(u)}catch(u){return{success:!1,message:u.message||"Error al eliminar confeccionista"}}}async getSellers(){try{const c=await fetch(`${this.getApiUrl()}/sellers`,{headers:this.getAuthHeaders()}),u=await this.handleResponse(c);console.log(" getSellers response:",u);const o=u.data||[];return console.log(" getSellers returning:",o.length,"sellers",o),o}catch(c){return console.error("Error obteniendo vendedores:",c),[]}}async createSeller(c){try{const u=await fetch(`${this.getApiUrl()}/sellers`,{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify(c)});return this.handleResponse(u)}catch(u){return{success:!1,message:u.message||"Error al crear vendedor"}}}async updateSeller(c,u){try{const o=await fetch(`${this.getApiUrl()}/sellers/${c}`,{method:"PUT",headers:this.getAuthHeaders(),body:JSON.stringify(u)});return this.handleResponse(o)}catch(o){return{success:!1,message:o.message||"Error al actualizar vendedor"}}}async deleteSeller(c){try{const u=await fetch(`${this.getApiUrl()}/sellers/${c}`,{method:"DELETE",headers:this.getAuthHeaders()});return this.handleResponse(u)}catch(u){return{success:!1,message:u.message||"Error al eliminar vendedor"}}}async getCorrerias(){try{const c=await fetch(`${this.getApiUrl()}/correrias`,{headers:this.getAuthHeaders()});return(await this.handleResponse(c)).data||[]}catch(c){return console.error("Error obteniendo correrias:",c),[]}}async createCorreria(c){try{const u=await fetch(`${this.getApiUrl()}/correrias`,{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify(c)});return this.handleResponse(u)}catch(u){return{success:!1,message:u.message||"Error al crear correria"}}}async updateCorreria(c,u){try{const o=await fetch(`${this.getApiUrl()}/correrias/${c}`,{method:"PUT",headers:this.getAuthHeaders(),body:JSON.stringify(u)});return this.handleResponse(o)}catch(o){return{success:!1,message:o.message||"Error al actualizar correria"}}}async deleteCorreria(c){try{const u=await fetch(`${this.getApiUrl()}/correrias/${c}`,{method:"DELETE",headers:this.getAuthHeaders()});return this.handleResponse(u)}catch(u){return{success:!1,message:u.message||"Error al eliminar correria"}}}async getReceptions(){try{const c=await fetch(`${this.getApiUrl()}/receptions`,{headers:this.getAuthHeaders()});return(await this.handleResponse(c)).data||[]}catch(c){return console.error("Error obteniendo recepciones:",c),[]}}async createReception(c){try{const u=await fetch(`${this.getApiUrl()}/receptions`,{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify(c)});return this.handleResponse(u)}catch(u){return{success:!1,message:u.message||"Error al crear recepcin"}}}async getReturnReceptions(){try{const c=await fetch(`${this.getApiUrl()}/return-receptions`,{headers:this.getAuthHeaders()});return(await this.handleResponse(c)).data||[]}catch(c){return console.error("Error obteniendo devoluciones:",c),[]}}async getDispatches(){try{const c=await fetch(`${this.getApiUrl()}/dispatches`,{headers:this.getAuthHeaders()});return(await this.handleResponse(c)).data||[]}catch(c){return console.error("Error obteniendo despachos:",c),[]}}async createDispatch(c){try{const u=await fetch(`${this.getApiUrl()}/dispatches`,{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify(c)});return this.handleResponse(u)}catch(u){return{success:!1,message:u.message||"Error al crear despacho"}}}async updateDispatch(c,u){try{console.log(" Actualizando despacho:",c,u);const o=await fetch(`${this.getApiUrl()}/dispatches/${c}`,{method:"PUT",headers:this.getAuthHeaders(),body:JSON.stringify(u)});console.log(" Response status:",o.status),console.log(" Response ok:",o.ok);const h=await this.handleResponse(o);return console.log(" Update result:",h),h}catch(o){return console.error(" Error en updateDispatch:",o),{success:!1,message:o.message||"Error al actualizar despacho"}}}async deleteDispatch(c){try{console.log(" Eliminando despacho:",c);const u=await fetch(`${this.getApiUrl()}/dispatches/${c}`,{method:"DELETE",headers:this.getAuthHeaders()});console.log(" Response status:",u.status),console.log(" Response ok:",u.ok);const o=await this.handleResponse(u);return console.log(" Delete result:",o),o}catch(u){return console.error(" Error en deleteDispatch:",u),{success:!1,message:u.message||"Error al eliminar despacho"}}}async createReturnReception(c){try{const u=await fetch(`${this.getApiUrl()}/return-receptions`,{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify(c)});return this.handleResponse(u)}catch(u){return{success:!1,message:u.message||"Error al crear devolucin"}}}async getOrders(){try{const c=await fetch(`${this.getApiUrl()}/orders`,{headers:this.getAuthHeaders()});return(await this.handleResponse(c)).data||[]}catch(c){return console.error("Error obteniendo pedidos:",c),[]}}async createOrder(c){try{const u=await fetch(`${this.getApiUrl()}/orders`,{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify(c)});return this.handleResponse(u)}catch(u){return{success:!1,message:u.message||"Error al crear pedido"}}}async getProductionTracking(){try{const c=await fetch(`${this.getApiUrl()}/production`,{headers:this.getAuthHeaders()});return(await this.handleResponse(c)).data||[]}catch(c){return console.error("Error obteniendo tracking:",c),[]}}async updateProductionTracking(c){try{const u=await fetch(`${this.getApiUrl()}/production`,{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify(c)});return this.handleResponse(u)}catch(u){return{success:!1,message:u.message||"Error al actualizar tracking"}}}async saveProductionBatch(c){try{const u=await fetch(`${this.getApiUrl()}/production/batch`,{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify({trackingData:c})});return this.handleResponse(u)}catch(u){return{success:!1,message:u.message||"Error al guardar produccin"}}}async getDeliveryDates(){try{const c=await fetch(`${this.getApiUrl()}/delivery-dates`,{headers:this.getAuthHeaders()});return(await this.handleResponse(c)).data||[]}catch(c){return console.error("Error obteniendo fechas de entrega:",c),[]}}async saveDeliveryDatesBatch(c){try{const u=await fetch(`${this.getApiUrl()}/delivery-dates/batch`,{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify({dates:c})}),o=await this.handleResponse(u);return{success:o.success,message:o.message,data:{summary:o.summary,saved:o.saved,errors:o.errors}}}catch(u){return{success:!1,message:u.message||"Error al guardar fechas de entrega"}}}async deleteDeliveryDate(c){try{const u=await fetch(`${this.getApiUrl()}/delivery-dates/${c}`,{method:"DELETE",headers:this.getAuthHeaders()});return this.handleResponse(u)}catch(u){return{success:!1,message:u.message||"Error al eliminar fecha de entrega"}}}async getDeliveryDatesWithPagination(c=1,u=20,o={}){try{const h=new URLSearchParams({page:c.toString(),limit:u.toString(),...o}),y=await fetch(`${this.getApiUrl()}/delivery-dates?${h}`,{method:"GET",headers:this.getAuthHeaders()});return this.handleResponse(y)}catch(h){return{success:!1,message:h.message||"Error al obtener fechas de entrega"}}}async getDispatchesWithPagination(c=1,u=20,o={}){try{const h=new URLSearchParams({page:c.toString(),limit:u.toString(),...o}),y=await fetch(`${this.getApiUrl()}/dispatches?${h}`,{method:"GET",headers:this.getAuthHeaders()});return this.handleResponse(y)}catch(h){return{success:!1,message:h.message||"Error al obtener despachos"}}}async getReceptionsWithPagination(c=1,u=20,o={}){try{const h=new URLSearchParams({page:c.toString(),limit:u.toString(),...o}),y=await fetch(`${this.getApiUrl()}/receptions?${h}`,{method:"GET",headers:this.getAuthHeaders()});return this.handleResponse(y)}catch(h){return{success:!1,message:h.message||"Error al obtener recepciones"}}}async getReturnReceptionsWithPagination(c=1,u=20,o={}){try{const h=new URLSearchParams({page:c.toString(),limit:u.toString(),...o}),y=await fetch(`${this.getApiUrl()}/return-receptions?${h}`,{method:"GET",headers:this.getAuthHeaders()});return this.handleResponse(y)}catch(h){return{success:!1,message:h.message||"Error al obtener devoluciones"}}}async getBackups(){try{const c=await fetch(`${this.getApiUrl()}/backups`,{method:"GET",headers:this.getAuthHeaders()});return this.handleResponse(c)}catch(c){return{success:!1,message:c.message||"Error al obtener backups"}}}async getBackupStats(){try{const c=await fetch(`${this.getApiUrl()}/backups/stats`,{method:"GET",headers:this.getAuthHeaders()});return this.handleResponse(c)}catch(c){return{success:!1,message:c.message||"Error al obtener estadsticas de backups"}}}async executeManualBackup(){try{const c=await fetch(`${this.getApiUrl()}/backups/manual`,{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify({})});return this.handleResponse(c)}catch(c){return{success:!1,message:c.message||"Error al ejecutar backup manual"}}}async restoreBackup(c){try{const u=await fetch(`${this.getApiUrl()}/backups/restore`,{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify({backupFilename:c})});return this.handleResponse(u)}catch(u){return{success:!1,message:u.message||"Error al restaurar backup"}}}}const Cn=(d,c,u,o)=>({list:d,create:c,update:u,delete:o,read:async h=>(await d()).find(B=>B.id===h)}),lt=new Bh;lt.references=Cn(()=>lt.getReferences(),d=>lt.createReference(d),(d,c)=>lt.updateReference(d,c),d=>lt.deleteReference(d));lt.clients=Cn(()=>lt.getClients(),d=>lt.createClient(d),(d,c)=>lt.updateClient(d,c),d=>lt.deleteClient(d));lt.confeccionistas=Cn(()=>lt.getConfeccionistas(),d=>lt.createConfeccionista(d),(d,c)=>lt.updateConfeccionista(d,c),d=>lt.deleteConfeccionista(d));lt.sellers=Cn(()=>lt.getSellers(),d=>lt.createSeller(d),(d,c)=>lt.updateSeller(d,c),d=>lt.deleteSeller(d));lt.correrias=Cn(()=>lt.getCorrerias(),d=>lt.createCorreria(d),(d,c)=>lt.updateCorreria(d,c),d=>lt.deleteCorreria(d));const De=lt,ve={Home:()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})}),Reception:()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"})}),Dispatch:()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"})}),Inventory:()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 13.5h3.86a2.25 2.25 0 012.012 1.244l.256.512a2.25 2.25 0 002.013 1.244h3.218a2.25 2.25 0 002.013-1.244l.256-.512a2.25 2.25 0 012.013-1.244h3.859m-19.5.338V18a2.25 2.25 0 002.25 2.25h15a2.25 2.25 0 002.25-2.25v-4.162c0-1.164-.94-2.11-2.108-2.11h-3.901a3.75 3.75 0 01-3.355-2.07l-.603-1.206a3.75 3.75 0 00-3.355-2.07H6.359a2.25 2.25 0 00-2.108 2.11H2.25z"})}),Masters:()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-3.833-6.247 4.103 4.103 0 01-2.913-6.236 4.125 4.125 0 00-7.494 0 4.103 4.103 0 01-2.913 6.236 4.125 4.125 0 00-3.833 6.247 9.337 9.337 0 004.121.952 9.38 9.38 0 002.625-.372"})}),Reports:()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 3v11.25A2.25 2.25 0 006 16.5h2.25M3.75 3h-1.5m1.5 0h16.5m0 0h1.5m-1.5 0v11.25A2.25 2.25 0 0118 16.5h-2.25m-7.5 0h7.5m-7.5 0l-1 3m8.5-3l1 3m0-3.5a2.25 2.25 0 01-2.25 2.25h-9.25a2.25 2.25 0 01-2.25-2.25v-10.5A2.25 2.25 0 015.25 3h13.5a2.25 2.25 0 012.25 2.25v10.5z"})}),Orders:()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 7.5h1.5m-1.5 3h1.5m-7.5 3h7.5m-7.5 3h7.5m3-9h3.375c.621 0 1.125.504 1.125 1.125V18a2.25 2.25 0 01-2.25 2.25M16.5 7.5V18a2.25 2.25 0 002.25 2.25M16.5 7.5V4.875c0-.621-.504-1.125-1.125-1.125H4.125C3.504 3.75 3 4.254 3 4.875V18a2.25 2.25 0 002.25 2.25h13.5M6 7.5h3v3H6v-3z"})}),Settle:()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),History:()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),Logout:()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6A2.25 2.25 0 005.25 5.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15m3 0l3-3m0 0l-3-3m3 3H9"})}),Edit:()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5 text-blue-400",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})}),Delete:()=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5 text-red-400",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})},_h=({users:d,onLogin:c,onRegister:u})=>{const[o,h]=b.useState(!1),[y,B]=b.useState(""),[_,p]=b.useState(""),[v,C]=b.useState(""),[S,J]=b.useState(""),[H,m]=b.useState(!1),z=async F=>{F.preventDefault(),J(""),m(!0);try{if(o){if(y.length!==3||!/^[A-Za-z]{3}$/.test(y)){J("El cdigo debe tener exactamente 3 letras"),m(!1);return}if(_.length!==4||!/^\d{4}$/.test(_)){J("El PIN debe tener exactamente 4 nmeros"),m(!1);return}if(!v||v.length<3){J("El nombre debe tener al menos 3 caracteres"),m(!1);return}const ae=await De.register(v,y,_);ae.success&&ae.data?c(ae.data.user):J(ae.message||"Error al registrar usuario")}else{if(y.length!==3){J("El cdigo debe tener 3 letras"),m(!1);return}if(_.length!==4){J("El PIN debe tener 4 nmeros"),m(!1);return}const ae=await De.login(y,_);ae.success&&ae.data?c(ae.data.user):J(ae.message||"Credenciales invlidas")}}catch(ae){console.error("Error en autenticacin:",ae),J("Error de conexin con el servidor. Verifica que el backend est corriendo.")}finally{m(!1)}};return a.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-slate-50 p-4 sm:p-6 overflow-y-auto",children:a.jsx("div",{className:"w-full max-w-md animate-in fade-in zoom-in duration-500 py-8",children:a.jsxs("div",{className:"bg-white p-8 sm:p-4 rounded-[40px] sm:rounded-[48px] shadow-2xl border border-white relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-pink-100/50 rounded-full -mr-16 -mt-16 blur-3xl"}),a.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-blue-100/50 rounded-full -ml-16 -mb-16 blur-3xl"}),a.jsxs("div",{className:"text-center mb-.1 relative z-10",children:[a.jsx("div",{className:"w-20 h-20 sm:w-32 sm:h-24 bg-gradient-to-br from-blue-500 to-pink-500 rounded-[24px] sm:rounded-[32px] mx-auto flex items-center justify-center text-white font-black text-3xl sm:text-4xl shadow-2xl shadow-blue-200 mb-6",children:"PLOW"}),a.jsx("h1",{className:"text-4xl font-black tracking-tight mb-2 bg-gradient-to-r from-blue-600 to-pink-600 bg-clip-text text-transparent",children:o?"Crear Cuenta":"Bienvenido"}),a.jsx("p",{className:"text-slate-500 font-medium",children:o?"Registra tu usuario nuevo":"Gestion de inventario"})]}),a.jsx("div",{className:"bg-white/80 backdrop-blur-xl rounded-3xl shadow-2xl shadow-slate-200/50 p-8 border border-white/20",children:a.jsxs("form",{onSubmit:z,className:"space-y-6",children:[o&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2 uppercase tracking-wide",children:"Nombre Completo"}),a.jsx("input",{type:"text",value:v,onChange:F=>C(F.target.value),placeholder:"Nombre completo",className:"w-full px-5 py-4 rounded-2xl border-2 border-slate-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all text-slate-700 font-medium placeholder:text-slate-400",disabled:H,required:o})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2 uppercase tracking-wide",children:"Login (3 Letras)"}),a.jsx("input",{type:"text",value:y,onChange:F=>B(F.target.value.toUpperCase().slice(0,3)),placeholder:"AAA",maxLength:3,className:"w-full px-5 py-4 rounded-2xl border-2 border-slate-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all text-slate-700 font-bold text-center text-2xl tracking-widest placeholder:text-slate-400 uppercase",disabled:H,required:!0}),a.jsx("p",{className:"text-xs text-slate-400 mt-1 text-center font-medium",children:"3 letras nicas"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2 uppercase tracking-wide",children:"PIN (4 Nmeros)"}),a.jsx("input",{type:"password",value:_,onChange:F=>p(F.target.value.replace(/\D/g,"").slice(0,4)),placeholder:"",maxLength:4,className:"w-full px-5 py-4 rounded-2xl border-2 border-slate-200 focus:border-pink-500 focus:ring-4 focus:ring-pink-100 outline-none transition-all text-slate-700 font-bold text-center text-2xl tracking-widest",disabled:H,required:!0}),a.jsx("p",{className:"text-xs text-slate-400 mt-1 text-center font-medium",children:"4 dgitos numricos"})]}),S&&a.jsx("div",{className:"bg-red-50 border-2 border-red-200 rounded-2xl p-4",children:a.jsx("p",{className:"text-red-600 text-sm font-bold text-center",children:S})}),a.jsx("button",{type:"submit",disabled:H,className:"w-full py-4 rounded-2xl bg-gradient-to-r from-blue-600 to-pink-600 text-white font-black text-lg shadow-2xl shadow-blue-300/50 hover:shadow-3xl hover:scale-[1.02] active:scale-[0.98] transition-all disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:H?"Procesando...":o?"Crear Cuenta":"Ingresar"}),a.jsx("div",{className:"text-center pt-4 border-t border-slate-100",children:a.jsx("button",{type:"button",onClick:()=>{h(!o),J(""),B(""),p(""),C("")},className:"text-slate-600 font-bold hover:text-blue-600 transition-colors text-sm",disabled:H,children:o?"Ya tienes cuenta? Inicia sesin":"No tienes cuenta? Regstrate"})})]})})]})})})},Vh=({user:d,onNavigate:c})=>{const u=[{id:"reception",label:"Recepcin de Lotes",icon:a.jsx(ve.Reception,{}),description:"Recibir lotes de confeccionistas"},{id:"returnReception",label:"Devolucin de Mercanca",icon:a.jsx(ve.Dispatch,{}),description:"Registrar devoluciones"},{id:"dispatch",label:"Despachos",icon:a.jsx(ve.Dispatch,{}),description:"Despachar mercanca a clientes"},{id:"inventory",label:"Inventario",icon:a.jsx(ve.Inventory,{}),description:"Ver estado del inventario"},{id:"orders",label:"Pedidos",icon:a.jsx(ve.Orders,{}),description:"Gestionar pedidos de clientes"},{id:"settle",label:"Asentar Ventas",icon:a.jsx(ve.Settle,{}),description:"Registrar ventas realizadas"},{id:"salesReport",label:"Informe de Ventas",icon:a.jsx(ve.Reports,{}),description:"Ver reporte de ventas"},{id:"orderHistory",label:"Historial de Pedidos",icon:a.jsx(ve.History,{}),description:"Consultar historial de pedidos"},{id:"dispatchControl",label:"Control de Despachos",icon:a.jsx(ve.Inventory,{}),description:"Controlar despachos realizados"},{id:"deliveryDates",label:"Fechas de Entrega",icon:a.jsx(ve.Inventory,{}),description:"Gestionar fechas de entrega"},{id:"reports",label:"Reportes Generales",icon:a.jsx(ve.Reports,{}),description:"Ver reportes del sistema"},{id:"masters",label:"Maestros",icon:a.jsx(ve.Masters,{}),description:"Gestionar datos maestros"}];return a.jsxs("div",{className:"h-full w-full flex flex-col bg-slate-50 p-6 md:p-10",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("h1",{className:"text-3xl md:text-4xl font-black text-slate-900 mb-2",children:["Bienvenido, ",d.name]}),a.jsx("p",{className:"text-slate-500 text-sm md:text-base",children:"Selecciona una opcin para continuar"})]}),a.jsx("div",{className:"flex-1 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6 auto-rows-max content-start",children:u.map(o=>a.jsxs("button",{onClick:()=>c(o.id),className:"group relative h-32 md:h-40 rounded-3xl bg-white border-2 border-slate-200 hover:border-blue-500 hover:shadow-lg transition-all duration-300 p-6 flex flex-col items-start justify-between overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),a.jsxs("div",{className:"relative z-10 flex flex-col items-start justify-between h-full w-full",children:[a.jsx("div",{className:"w-12 h-12 md:w-14 md:h-14 bg-blue-100 rounded-2xl flex items-center justify-center text-blue-600 group-hover:bg-blue-200 transition-colors",children:o.icon}),a.jsxs("div",{className:"text-left",children:[a.jsx("h3",{className:"font-bold text-slate-900 text-sm md:text-base group-hover:text-blue-600 transition-colors",children:o.label}),o.description&&a.jsx("p",{className:"text-xs text-slate-400 mt-1 group-hover:text-slate-500 transition-colors",children:o.description})]})]}),a.jsx("div",{className:"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:"w-5 h-5 text-blue-600",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"})})})]},o.id))})]})},Hh=({correrias:d,selectedCorreria:c,onSelect:u,loading:o})=>{var J;const[h,y]=b.useState(!1),[B,_]=b.useState(""),p=b.useRef(null),v=((J=d.find(H=>H.id===c))==null?void 0:J.name)||"Seleccionar correra",C=d.filter(H=>H.name.toLowerCase().includes(B.toLowerCase())||H.id.toLowerCase().includes(B.toLowerCase()));b.useEffect(()=>{const H=m=>{p.current&&!p.current.contains(m.target)&&y(!1)};return document.addEventListener("mousedown",H),()=>document.removeEventListener("mousedown",H)},[]);const S=H=>{u(H),y(!1),_("")};return a.jsxs("div",{ref:p,className:"relative w-full",children:[a.jsxs("button",{onClick:()=>y(!h),disabled:o||d.length===0,className:"w-full px-4 py-3 bg-white border-2 border-slate-200 rounded-2xl flex items-center justify-between hover:border-blue-500 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx("span",{className:"text-slate-700 font-medium text-left",children:v}),a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:`w-5 h-5 text-slate-400 transition-transform ${h?"rotate-180":""}`,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})})]}),h&&a.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white border-2 border-slate-200 rounded-2xl shadow-lg z-50",children:[a.jsx("div",{className:"p-3 border-b border-slate-100",children:a.jsx("input",{type:"text",placeholder:"Buscar correra...",value:B,onChange:H=>_(H.target.value),className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:border-blue-500",autoFocus:!0})}),a.jsx("div",{className:"max-h-64 overflow-y-auto custom-scrollbar",children:C.length>0?C.map(H=>a.jsxs("button",{onClick:()=>S(H.id),className:`w-full px-4 py-3 text-left hover:bg-blue-50 transition-colors flex items-center justify-between ${c===H.id?"bg-blue-100 text-blue-900":"text-slate-700"}`,children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:H.name}),a.jsx("p",{className:"text-xs text-slate-400",children:H.year})]}),c===H.id&&a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24",className:"w-5 h-5 text-blue-600",children:a.jsx("path",{fillRule:"evenodd",d:"M19.915 11.086a.75.75 0 00-1.036-.612l-8.4 5.6a.75.75 0 01-.882 0l-8.4-5.6a.75.75 0 00-1.036.612v6.414c0 .9.693 1.634 1.549 1.634h15.753c.856 0 1.549-.733 1.549-1.634v-6.414z"})})]},H.id)):a.jsx("div",{className:"px-4 py-6 text-center text-slate-500 text-sm",children:"No se encontraron correrias"})})]})]})},qh=({selectedCorreria:d,state:c,loading:u})=>{const o=b.useMemo(()=>{if(!c.orders||!c.dispatches||!c.deliveryDates)return{unitsSold:0,unitsDispatched:0,fulfillmentPercentage:0,ordersTaken:0,valueSold:0,valueDispatched:0,batchesInProcess:0,deliveryEfficiency:0};const y=c.orders.filter(ne=>ne.correriaId===d),B=c.dispatches.filter(ne=>ne.correriaId===d),_=c.deliveryDates.filter(ne=>ne.process==="in_process"),p=y.reduce((ne,le)=>{var ee;return ne+(((ee=le.items)==null?void 0:ee.reduce((te,D)=>te+(D.quantity||0),0))||0)},0),v=B.reduce((ne,le)=>{var ee;return ne+(((ee=le.items)==null?void 0:ee.reduce((te,D)=>te+(D.quantity||0),0))||0)},0),C=p>0?Math.round(v/p*100*100)/100:0,S=y.length,J=y.reduce((ne,le)=>ne+(le.totalValue||0),0),H=B.reduce((ne,le)=>{var ee;return ne+(((ee=le.items)==null?void 0:ee.reduce((te,D)=>{var O;const f=(O=c.references)==null?void 0:O.find(re=>re.id===D.reference);return te+((f==null?void 0:f.price)||0)*D.quantity},0))||0)},0),m=_.length,z=c.deliveryDates.filter(ne=>!ne.deliveryDate||!ne.expectedDate?!1:new Date(ne.deliveryDate)<=new Date(ne.expectedDate)).length,F=c.deliveryDates.filter(ne=>ne.deliveryDate).length,ae=F>0?Math.round(z/F*100*100)/100:0;return{unitsSold:p,unitsDispatched:v,fulfillmentPercentage:C,ordersTaken:S,valueSold:J,valueDispatched:H,batchesInProcess:m,deliveryEfficiency:ae}},[d,c]),h=({label:y,value:B,unit:_,icon:p})=>a.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-4 md:p-6 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsx("h4",{className:"text-xs md:text-sm font-semibold text-slate-600 uppercase tracking-wide",children:y}),a.jsx("div",{className:"text-slate-400",children:p})]}),a.jsxs("div",{className:"flex items-baseline gap-2 min-h-[2.5rem]",children:[a.jsx("p",{className:"text-xl md:text-2xl font-black text-slate-900 break-words line-clamp-2",children:B}),_&&a.jsx("span",{className:"text-xs md:text-sm text-slate-500 flex-shrink-0",children:_})]})]});return u?a.jsx("div",{className:"bg-white rounded-3xl shadow-sm border border-slate-200 p-6 flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-3"}),a.jsx("p",{className:"text-slate-600 font-semibold",children:"Cargando mtricas..."})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-bold text-slate-600 uppercase tracking-wide mb-3",children:"Mtricas de Ventas"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(h,{label:"Unidades Vendidas",value:o.unitsSold,unit:"unidades",icon:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 21v-7.5a.75.75 0 01.75-.75h3a.75.75 0 01.75.75V21m-4.5 0H2.36m11.14 0H18m0 0h3.64m-1.39 0A24.226 24.226 0 005.378 3.099M9.6 19.5h4.8M7.575 2.6h8.85m0 0A20.523 20.523 0 006.75 10.5"})})}),a.jsx(h,{label:"Unidades Despachadas",value:o.unitsDispatched,unit:"unidades",icon:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 18.75a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m0 0H3m16.5 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m0 0H21m-9-12a.75.75 0 00-.75.75v6.75h9V2.25a.75.75 0 00-.75-.75h-3.268a.75.75 0 00-.75.75V9m-15 0a.75.75 0 01.75-.75H9m0 0a.75.75 0 01.75.75v6.75H.75V2.25a.75.75 0 01.75-.75h3.268a.75.75 0 01.75.75V9"})})}),a.jsx(h,{label:"Cumplimiento (%)",value:o.fulfillmentPercentage,unit:"%",icon:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsx(h,{label:"Pedidos Tomados",value:o.ordersTaken,unit:"pedidos",icon:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .984.578 1.83 1.414 2.209m-5.314 0a48.882 48.882 0 013.814.051m6.314 0a48.882 48.882 0 013.814-.051m0 0A3.75 3.75 0 0021 12a3.75 3.75 0 01-3.75 3.75m0 0A3.75 3.75 0 0113.5 15.75m0 0A3.75 3.75 0 0110.125 12"})})}),a.jsx(h,{label:"Valor Vendido",value:`$${o.valueSold.toLocaleString("es-CO",{maximumFractionDigits:0})}`,icon:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3.75-6.75h7.5M12 3c-4.97 0-9 2.686-9 6v6c0 3.314 4.03 6 9 6s9-2.686 9-6V9c0-3.314-4.03-6-9-6z"})})}),a.jsx(h,{label:"Valor Despachado",value:`$${o.valueDispatched.toLocaleString("es-CO",{maximumFractionDigits:0})}`,icon:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 002.25-2.25V6.75A2.25 2.25 0 0019.5 4.5H4.5A2.25 2.25 0 002.25 6.75v10.5A2.25 2.25 0 004.5 19.5z"})})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-bold text-slate-600 uppercase tracking-wide mb-3",children:"Mtricas de Eficiencia"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(h,{label:"Lotes en Proceso",value:o.batchesInProcess,unit:"lotes",icon:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 6.375c0 2.278-3.694 4.125-8.25 4.125S3.75 8.653 3.75 6.375m16.5 0c0-2.278-3.694-4.125-8.25-4.125S3.75 4.097 3.75 6.375m16.5 0v11.25c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125V6.375m0 0C5.25 5.547 8.167 5.25 12 5.25s6.75.297 9 1.125"})})}),a.jsx(h,{label:"Eficiencia de Entrega",value:o.deliveryEfficiency,unit:"%",icon:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})]})]})},Gh=({selectedCorreria:d,state:c,loading:u})=>{const o=b.useMemo(()=>{if(!c.orders||!c.dispatches||!c.sellers)return[];const h=c.orders.filter(_=>_.correriaId===d),y=c.dispatches.filter(_=>_.correriaId===d),B=new Map;return h.forEach(_=>{var m,z;const p=_.sellerId,v=(m=c.sellers)==null?void 0:m.find(F=>F.id===p),C=(v==null?void 0:v.name)||p,S=((z=_.items)==null?void 0:z.reduce((F,ae)=>F+(ae.quantity||0),0))||0,J=_.totalValue||0;B.has(p)||B.set(p,{unitsSold:0,unitsDispatched:0,valueSold:0,valueDispatched:0,sellerName:C});const H=B.get(p);H.unitsSold+=S,H.valueSold+=J}),y.forEach(_=>{var S,J,H;const p=_.clientId,v=(S=c.clients)==null?void 0:S.find(m=>m.id===p),C=v==null?void 0:v.sellerId;if(C){const m=(J=c.sellers)==null?void 0:J.find(ne=>ne.id===C),z=(m==null?void 0:m.name)||C,F=((H=_.items)==null?void 0:H.reduce((ne,le)=>ne+(le.quantity||0),0))||0;B.has(C)||B.set(C,{unitsSold:0,unitsDispatched:0,valueSold:0,valueDispatched:0,sellerName:z});const ae=B.get(C);ae.unitsDispatched+=F}}),Array.from(B.entries()).map(([_,p])=>({sellerId:_,sellerName:p.sellerName,unitsSold:p.unitsSold,unitsDispatched:p.unitsDispatched,valueSold:p.valueSold,valueDispatched:p.valueDispatched,fulfillmentPercentage:p.unitsSold>0?Math.round(p.unitsDispatched/p.unitsSold*100*100)/100:0,valuePercentage:p.valueSold>0?Math.round(p.valueDispatched/p.valueSold*100*100)/100:0}))},[d,c]);return u?a.jsx("div",{className:"bg-white rounded-3xl shadow-sm border border-slate-200 p-6 flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-3"}),a.jsx("p",{className:"text-slate-600 font-semibold",children:"Cargando grficas..."})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-slate-200 p-6",children:[a.jsx("h3",{className:"text-2xl md:text-3xl font-black text-slate-900 mb-6",children:"Cumplimiento por Unidades"}),o.length>0?a.jsx("div",{className:"space-y-3",children:o.map(h=>a.jsxs("div",{className:"bg-gradient-to-r from-slate-50 to-slate-100 rounded-2xl p-4 border border-slate-200 hover:border-blue-300 hover:shadow-md transition-all duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("p",{className:"text-base font-bold text-slate-900 truncate",children:h.sellerName}),a.jsxs("p",{className:"text-base font-black text-blue-600 ml-2 flex-shrink-0",children:[h.fulfillmentPercentage,"%"]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"h-3 bg-slate-300 rounded-full overflow-hidden shadow-sm",children:a.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 via-blue-600 to-blue-700 transition-all duration-300 rounded-full",style:{width:`${Math.min(h.fulfillmentPercentage,100)}%`}})}),a.jsxs("div",{className:"flex items-center justify-end gap-1",children:[a.jsx("span",{className:"text-sm font-bold text-blue-600",children:h.unitsDispatched}),a.jsx("span",{className:"text-sm text-slate-400",children:"/"}),a.jsx("span",{className:"text-sm font-bold text-slate-700",children:h.unitsSold}),a.jsx("span",{className:"text-xs text-slate-500 ml-1",children:"unidades"})]})]})]},h.sellerId))}):a.jsx("div",{className:"text-center py-8 text-slate-500",children:a.jsx("p",{className:"text-sm",children:"No hay datos de vendedores para esta correra"})})]}),a.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-slate-200 p-6",children:[a.jsx("h3",{className:"text-2xl md:text-3xl font-black text-slate-900 mb-6",children:"Cumplimiento por Valor"}),o.length>0?a.jsx("div",{className:"space-y-3",children:o.map(h=>a.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-2xl p-4 border border-green-200 hover:border-green-400 hover:shadow-md transition-all duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("p",{className:"text-base font-bold text-slate-900 truncate",children:h.sellerName}),a.jsxs("p",{className:"text-base font-black text-green-600 ml-2 flex-shrink-0",children:[h.valuePercentage,"%"]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"h-3 bg-green-300 rounded-full overflow-hidden shadow-sm",children:a.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 via-green-600 to-emerald-700 transition-all duration-300 rounded-full",style:{width:`${Math.min(h.valuePercentage,100)}%`}})}),a.jsxs("div",{className:"flex items-center justify-end gap-1",children:[a.jsxs("span",{className:"text-sm font-bold text-green-600",children:["$",h.valueDispatched.toLocaleString()]}),a.jsx("span",{className:"text-sm text-slate-400",children:"/"}),a.jsxs("span",{className:"text-sm font-bold text-slate-700",children:["$",h.valueSold.toLocaleString()]}),a.jsx("span",{className:"text-xs text-slate-500 ml-1",children:"pesos"})]})]})]},`value-${h.sellerId}`))}):a.jsx("div",{className:"text-center py-8 text-slate-500",children:a.jsx("p",{className:"text-sm",children:"No hay datos de vendedores para esta correra"})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-6",children:[a.jsx("h4",{className:"text-lg md:text-xl font-black text-slate-900 mb-4",children:"Unidades por Vendedor"}),a.jsxs("div",{className:"space-y-2",children:[o.slice(0,5).map(h=>a.jsxs("div",{className:"bg-gradient-to-r from-slate-50 to-slate-100 rounded-xl p-3 border border-slate-200 hover:border-blue-300 hover:shadow-sm transition-all duration-200 flex items-center justify-between",children:[a.jsx("span",{className:"text-base font-semibold text-slate-900 truncate",children:h.sellerName}),a.jsx("span",{className:"text-xl font-black text-blue-600 ml-2 flex-shrink-0",children:h.unitsSold})]},h.sellerId)),o.length>5&&a.jsxs("div",{className:"text-xs font-semibold text-slate-500 pt-2 border-t border-slate-200 text-center",children:["+",o.length-5," vendedores ms"]})]})]}),a.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-6",children:[a.jsx("h4",{className:"text-xs font-bold text-slate-600 uppercase tracking-wide mb-4",children:"Distribucin de Cumplimiento"}),a.jsx("div",{className:"space-y-3",children:(()=>{const h=o.filter(p=>p.fulfillmentPercentage>=90).length,y=o.filter(p=>p.fulfillmentPercentage>=70&&p.fulfillmentPercentage<90).length,B=o.filter(p=>p.fulfillmentPercentage>=50&&p.fulfillmentPercentage<70).length,_=o.filter(p=>p.fulfillmentPercentage<50).length;return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),a.jsx("span",{className:"text-sm text-slate-600",children:"Excelente (90%)"})]}),a.jsx("span",{className:"text-sm font-bold text-slate-900",children:h})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),a.jsx("span",{className:"text-sm text-slate-600",children:"Bueno (70-89%)"})]}),a.jsx("span",{className:"text-sm font-bold text-slate-900",children:y})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),a.jsx("span",{className:"text-sm text-slate-600",children:"Regular (50-69%)"})]}),a.jsx("span",{className:"text-sm font-bold text-slate-900",children:B})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),a.jsx("span",{className:"text-sm text-slate-600",children:"Bajo (<50%)"})]}),a.jsx("span",{className:"text-sm font-bold text-slate-900",children:_})]})]})})()})]})]})]})},$h=({user:d,onNavigate:c,onDirectNavigate:u,state:o,correrias:h,correriasLoading:y,correriasError:B})=>{const[_,p]=b.useState(null),[v,C]=b.useState(null);b.useEffect(()=>{h&&h.length>0&&!_&&p(h[0].id)},[h,_]),b.useEffect(()=>{B?C("No se pudieron cargar las correrias. Por favor, intente nuevamente."):h&&h.length===0?C("No hay correrias disponibles en el sistema."):C(null)},[B,h]);const S=[{id:"fichas-diseno",label:"Fichas de Diseo",icon:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.53 16.122a3 3 0 00-5.78 1.128A2.25 2.25 0 002.25 18h15.75a2.25 2.25 0 002.247-2.16c.969-2.904-.946-5.514-3.979-5.514-.21 0-.414.014-.614.042a3 3 0 00-5.738-1.128M9.5 16.25v-1.002M15 16.25v-1.002"})}),description:"Gestionar fichas"},{id:"fichas-costo",label:"Fichas de Costo",icon:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818l.879.659c1.171.879 3.07.879 4.242 0l.879-.659m-3.172-2.819a3 3 0 112.4 0m-5.007-7.003h0a3 3 0 016 0h0m-6 8.5h0a3 3 0 016 0h0"})}),description:"Precios y costos"},{id:"reception",label:"Recepcin de Lotes",icon:a.jsx(ve.Reception,{}),description:"Recibir lotes"},{id:"returnReception",label:"Devolucin de Mercanca",icon:a.jsx(ve.Dispatch,{}),description:"Registrar devoluciones"},{id:"maletas",label:"Maletas",icon:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 7.5l-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5m6 4.5v2.25m3-6v6m3-6v2.25m-13.5-3h2.25a2.25 2.25 0 012.25 2.25v.894a2.25 2.25 0 01-2.25 2.25H5.25a2.25 2.25 0 01-2.25-2.25V8.25a2.25 2.25 0 012.25-2.25z"})}),description:"Gestionar maletas"},{id:"dispatch",label:"Despachos",icon:a.jsx(ve.Dispatch,{}),description:"Despachar mercanca"},{id:"inventory",label:"Inventario",icon:a.jsx(ve.Inventory,{}),description:"Ver inventario"},{id:"orders",label:"Pedidos",icon:a.jsx(ve.Orders,{}),description:"Gestionar pedidos"},{id:"settle",label:"Asentar Ventas",icon:a.jsx(ve.Settle,{}),description:"Registrar ventas"},{id:"salesReport",label:"Informe de Ventas",icon:a.jsx(ve.Reports,{}),description:"Ver reporte"},{id:"orderHistory",label:"Historial de Pedidos",icon:a.jsx(ve.History,{}),description:"Consultar historial"},{id:"dispatchControl",label:"Control de Despachos",icon:a.jsx(ve.Inventory,{}),description:"Controlar despachos"},{id:"deliveryDates",label:"Fechas de Entrega",icon:a.jsx(ve.Inventory,{}),description:"Gestionar fechas"},{id:"reports",label:"Reportes Generales",icon:a.jsx(ve.Reports,{}),description:"Ver reportes"},{id:"masters",label:"Maestros",icon:a.jsx(ve.Masters,{}),description:"Gestionar datos"}];return a.jsxs("div",{className:"h-full w-full flex flex-col bg-slate-50 p-6 md:p-10",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-black text-slate-900 mb-2",children:"Dashboard Administrativo"}),a.jsx("p",{className:"text-slate-500 text-sm md:text-base",children:"Selecciona una opcin para continuar"})]}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3 md:gap-4 mb-8",children:S.map(J=>a.jsxs("button",{onClick:()=>{J.id==="reception"&&u?u("reception"):c(J.id)},className:"group relative h-24 md:h-28 rounded-2xl bg-white border-2 border-slate-200 hover:border-pink-500 hover:shadow-lg transition-all duration-300 p-4 flex flex-col items-start justify-between overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-pink-50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),a.jsxs("div",{className:"relative z-10 flex flex-col items-start justify-between h-full w-full",children:[a.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 bg-pink-100 rounded-lg flex items-center justify-center text-pink-600 group-hover:bg-pink-200 transition-colors",children:J.icon}),a.jsx("div",{className:"text-left",children:a.jsx("h3",{className:"font-bold text-slate-900 text-xs md:text-sm group-hover:text-pink-600 transition-colors leading-tight",children:J.label})})]}),a.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:"w-4 h-4 text-pink-600",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"})})})]},J.id))}),a.jsxs("div",{className:"flex-1 flex flex-col gap-6",children:[v&&a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-2xl p-4 flex items-start gap-3",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z"})}),a.jsx("div",{children:a.jsx("p",{className:"text-sm font-semibold text-red-900",children:v})})]}),!v&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-slate-200 p-6",children:[a.jsx("h3",{className:"text-sm font-bold text-slate-600 uppercase tracking-wide mb-3",children:"Seleccionar Correra para Anlisis"}),a.jsx(Hh,{correrias:h||[],selectedCorreria:_,onSelect:p,loading:y})]}),_&&a.jsxs(a.Fragment,{children:[a.jsx(qh,{selectedCorreria:_,state:o,loading:y}),a.jsx(Gh,{selectedCorreria:_,state:o,loading:y})]})]})]})]})},Yh=({user:d,onNavigate:c})=>{const u=[{id:"fichas-diseno",label:"Fichas de Diseo",icon:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.53 16.122a3 3 0 00-5.78 1.128A2.25 2.25 0 002.25 18h15.75a2.25 2.25 0 002.247-2.16c.969-2.904-.946-5.514-3.979-5.514-.21 0-.414.014-.614.042a3 3 0 00-5.738-1.128M9.5 16.25v-1.002M15 16.25v-1.002"})}),description:"Crear y editar fichas de diseo"},{id:"fichas-costo",label:"Fichas de Costo",icon:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818l.879.659c1.171.879 3.07.879 4.242 0l.879-.659m-3.172-2.819a3 3 0 112.4 0m-5.007-7.003h0a3 3 0 016 0h0m-6 8.5h0a3 3 0 016 0h0"})}),description:"Gestionar precios y costos"},{id:"maletas",label:"Maletas",icon:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 7.5l-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5m6 4.5v2.25m3-6v6m3-6v2.25m-13.5-3h2.25a2.25 2.25 0 012.25 2.25v.894a2.25 2.25 0 01-2.25 2.25H5.25a2.25 2.25 0 01-2.25-2.25V8.25a2.25 2.25 0 012.25-2.25z"})}),description:"Gestionar maletas"},{id:"inventory",label:"Inventario",icon:a.jsx(ve.Inventory,{}),description:"Ver estado del inventario"},{id:"orders",label:"Pedidos",icon:a.jsx(ve.Orders,{}),description:"Gestionar pedidos de clientes"},{id:"deliveryDates",label:"Fechas de Entrega",icon:a.jsx(ve.Inventory,{}),description:"Gestionar fechas de entrega"}];return a.jsxs("div",{className:"h-full w-full flex flex-col bg-slate-50 p-6 md:p-10",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("h1",{className:"text-3xl md:text-4xl font-black text-slate-900 mb-2",children:["Bienvenido, ",d.name]}),a.jsx("p",{className:"text-slate-500 text-sm md:text-base",children:"Selecciona una opcin para continuar"})]}),a.jsx("div",{className:"flex-1 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6 auto-rows-max content-start",children:u.map(o=>a.jsxs("button",{onClick:()=>c(o.id),className:"group relative h-32 md:h-40 rounded-3xl bg-white border-2 border-slate-200 hover:border-green-400 hover:shadow-lg transition-all duration-300 p-6 flex flex-col items-start justify-between overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),a.jsxs("div",{className:"relative z-10 flex flex-col items-start justify-between h-full w-full",children:[a.jsx("div",{className:"w-12 h-12 md:w-14 md:h-14 bg-green-100 rounded-2xl flex items-center justify-center text-green-600 group-hover:bg-green-200 transition-colors",children:o.icon}),a.jsxs("div",{className:"text-left",children:[a.jsx("h3",{className:"font-bold text-slate-900 text-sm md:text-base group-hover:text-green-600 transition-colors",children:o.label}),o.description&&a.jsx("p",{className:"text-xs text-slate-400 mt-1 group-hover:text-slate-500 transition-colors",children:o.description})]})]}),a.jsx("div",{className:"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:"w-5 h-5 text-green-600",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"})})})]},o.id))})]})},cx=({user:d,onNavigate:c,onDirectNavigate:u,state:o,correrias:h,correriasLoading:y,correriasError:B})=>d.role===_e.ADMIN||d.role===_e.OBSERVER?a.jsx($h,{user:d,onNavigate:c,onDirectNavigate:u,state:o||{},correrias:h||[],correriasLoading:y||!1,correriasError:B}):d.role===_e.DISEADORA?a.jsx(Yh,{user:d,onNavigate:c}):a.jsx(Vh,{user:d,onNavigate:c}),io=({onScan:d,label:c="Escanear Referencia"})=>{const[u,o]=b.useState(""),[h,y]=b.useState(1),[B,_]=b.useState(!1),p=()=>{u.trim()&&h>0&&(d(u.trim().toUpperCase(),h),o(""),y(1))},v=S=>{y(J=>Math.max(1,J+S))},C=()=>{_(!B),B||alert("Cmara activada. En un dispositivo real, aqu se abrira el visor del cdigo de barras.")};return a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"bg-white/70 backdrop-blur-xl p-5 sm:p-8 rounded-[32px] sm:rounded-[40px] border border-blue-100 shadow-xl shadow-blue-50/50 flex flex-col gap-6",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-12 gap-5 sm:gap-6 items-end",children:[a.jsxs("div",{className:"lg:col-span-6 space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-blue-500 uppercase tracking-widest px-4",children:c}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",value:u,onChange:S=>o(S.target.value),placeholder:"Nmero de referencia...",className:"w-full pl-12 pr-6 py-3.5 bg-slate-50 border-none rounded-2xl focus:ring-4 focus:ring-blue-100 transition-all font-black text-slate-900 text-sm sm:text-base uppercase",onKeyDown:S=>S.key==="Enter"&&p()}),a.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300",children:a.jsx(ve.Inventory,{})})]})]}),a.jsxs("div",{className:"lg:col-span-3 space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-4 text-center block",children:"Cantidad"}),a.jsxs("div",{className:"flex items-center bg-slate-100 p-1 rounded-2xl sm:rounded-[24px] border border-slate-200 w-full",children:[a.jsx("button",{type:"button",onClick:()=>v(-1),className:"w-8 h-8 sm:w-9 sm:h-9 flex-shrink-0 flex items-center justify-center bg-white rounded-xl text-slate-500 hover:text-pink-500 hover:shadow-sm transition-all font-bold text-lg active:scale-90",children:"-"}),a.jsx("input",{type:"number",value:h,onChange:S=>y(Math.max(1,parseInt(S.target.value)||1)),className:"w-full min-w-0 bg-transparent border-none text-center font-black text-lg sm:text-xl focus:ring-0 px-2 text-slate-800"}),a.jsx("button",{type:"button",onClick:()=>v(1),className:"w-8 h-8 sm:w-9 sm:h-9 flex-shrink-0 flex items-center justify-center bg-white rounded-xl text-slate-500 hover:text-blue-500 hover:shadow-sm transition-all font-bold text-lg active:scale-90",children:"+"})]})]}),a.jsxs("div",{className:"lg:col-span-3 flex gap-2",children:[a.jsx("button",{onClick:C,className:`w-12 h-12 sm:w-14 sm:h-14 flex-shrink-0 flex items-center justify-center rounded-2xl sm:rounded-3xl border-2 transition-all ${B?"border-pink-500 text-pink-500 bg-pink-50":"border-slate-100 text-slate-400 hover:bg-slate-50"}`,title:"Abrir Cmara",children:a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5 sm:w-6 sm:h-6",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 015.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 00-1.134-.175 2.31 2.31 0 01-1.64-1.055l-.822-1.316a2.192 2.192 0 00-1.736-1.039 48.774 48.774 0 00-5.232 0 2.192 2.192 0 00-1.736 1.039l-.821 1.316z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zM18.75 10.5h.008v.008h-.008V10.5z"})]})}),a.jsx("button",{onClick:p,disabled:!u.trim(),className:"flex-1 h-12 sm:h-14 bg-gradient-to-r from-blue-600 to-pink-600 text-white font-black rounded-2xl sm:rounded-3xl shadow-xl shadow-blue-200 hover:scale-[1.02] active:scale-95 transition-all disabled:opacity-50 text-sm sm:text-base",children:"AGREGAR"})]})]}),B&&a.jsx("div",{className:"h-40 sm:h-48 bg-slate-900 rounded-[24px] sm:rounded-3xl flex items-center justify-center text-white/50 text-[10px] sm:text-xs font-bold uppercase tracking-widest animate-pulse border-4 border-blue-500/20",children:"[ Simulacin de Visor de Cmara Activo ]"})]})})},xx=({user:d,updateState:c,clientsMaster:u=[],referencesMaster:o=[],onAddReturnReception:h})=>{const[y,B]=b.useState(!1),[_,p]=b.useState(""),[v,C]=b.useState(""),[S,J]=b.useState(!1),[H,m]=b.useState(""),[z,F]=b.useState([]);console.log(" ReturnReceptionView mounted"),console.log(" clientsMaster received:",u),console.log(" clientsMaster.length:",(u==null?void 0:u.length)||0),console.log(" referencesMaster.length:",(o==null?void 0:o.length)||0),console.log(" clientsMaster is array?",Array.isArray(u)),console.log(" First client:",u==null?void 0:u[0]);const ae=u.filter(O=>{const re=O.active===!0||O.active===1||O.active!==!1,fe=!v||O.name.toLowerCase().includes(v.toLowerCase())||O.id.toLowerCase().includes(v.toLowerCase());return re&&fe});console.log("filteredClients:",ae),console.log("clientSearch:",v);const ne=O=>{p(O.id),C(`${O.id} - ${O.name}`),J(!1)},le=(O,re)=>{o.some(P=>P.id===O)||alert(`AVISO: La referencia "${O}" no existe en el maestro de referencias.`),F(P=>{const j=P.findIndex(Z=>Z.reference===O);if(j>-1){const Z=[...P];return Z[j]={...Z[j],quantity:Z[j].quantity+re},Z}return[...P,{reference:O,quantity:re}]})},ee=()=>z.reduce((O,re)=>{const fe=o.find(P=>P.id===re.reference);return O+((fe==null?void 0:fe.price)||0)*re.quantity},0),te=async()=>{if(!_){alert("Cliente es obligatorio");return}if(z.length===0){alert("Debe agregar al menos un item");return}const O=ee(),re={id:Math.random().toString(36).substr(2,9),clientId:_,creditNoteNumber:H||void 0,items:z,totalValue:O,receivedBy:d.name,createdAt:new Date().toISOString()};if(h)try{const fe=await h(re);fe.success?(console.log(" Devolucin guardada en BD"),c(P=>({...P,returnReceptions:[...P.returnReceptions||[],re]})),B(!1),p(""),C(""),m(""),F([]),alert("Devolucin registrada exitosamente")):alert("Error al guardar: "+(fe.message||"Error desconocido"))}catch(fe){console.error(" Error guardando devolucin:",fe),alert("Error de conexin con el servidor")}else console.warn(" onAddReturnReception no est definido"),c(fe=>({...fe,returnReceptions:[...fe.returnReceptions||[],re]})),B(!1),p(""),C(""),m(""),F([]),alert("Devolucin registrada exitosamente")},D=z.reduce((O,re)=>O+re.quantity,0),f=ee();return y?a.jsxs("div",{className:"space-y-8 animate-in slide-in-from-bottom-6 duration-500 pb-20",children:[a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl sm:text-3xl font-black text-slate-800 tracking-tight",children:"Devolucin de Mercanca"}),a.jsx("p",{className:"text-slate-400 font-bold text-xs sm:text-base",children:"Registro de devoluciones de clientes"})]}),a.jsx("button",{onClick:()=>B(!1),className:"px-4 py-2 sm:px-6 sm:py-3 rounded-2xl bg-white text-slate-400 font-bold hover:text-red-500 transition-all border border-slate-100 text-sm",children:"Cancelar"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 bg-white p-6 sm:p-8 rounded-[32px] sm:rounded-[40px] shadow-sm border border-slate-100",children:[a.jsx("div",{className:"space-y-4 relative col-span-2",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-blue-500 tracking-widest px-4",children:"Buscar Cliente"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",value:v,onChange:O=>{C(O.target.value),J(!0),O.target.value||p("")},onFocus:()=>J(!0),placeholder:"ID o Nombre de cliente...",className:"w-full px-6 py-4 bg-slate-50 border-none rounded-2xl focus:ring-4 focus:ring-blue-100 transition-all font-bold text-slate-900"}),S&&v.length>0&&a.jsxs("div",{className:"absolute top-full left-0 w-full mt-2 bg-white rounded-2xl shadow-2xl border border-slate-100 z-50 max-h-60 overflow-y-auto custom-scrollbar",children:[ae.map(O=>a.jsxs("button",{onClick:()=>ne(O),className:"w-full text-left px-6 py-4 hover:bg-slate-50 transition-colors border-b border-slate-50 last:border-0",children:[a.jsx("p",{className:"font-black text-slate-800",children:O.name}),a.jsxs("p",{className:"text-[10px] text-slate-400 font-bold",children:["ID: ",O.id,"  ",O.city]})]},O.id)),ae.length===0&&a.jsx("p",{className:"px-6 py-4 text-slate-400 font-bold italic text-sm",children:"No se encontraron clientes"})]})]})]})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-pink-500 tracking-widest px-4",children:"Nota Crdito"}),a.jsx("input",{value:H,onChange:O=>m(O.target.value),placeholder:"Ej: NC-1234",className:"w-full px-6 py-4 bg-slate-50 border-none rounded-2xl focus:ring-4 focus:ring-pink-100 transition-all font-bold tracking-widest text-slate-900"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-pink-500 tracking-widest px-4",children:"Valor Total"}),a.jsxs("div",{className:"w-full px-6 py-4 bg-slate-50 border-none rounded-2xl font-black text-slate-900 text-lg",children:["$",f.toLocaleString()]})]})]})]}),a.jsx(io,{onScan:le,label:"Escanear Referencia"}),z.length>0&&a.jsxs("div",{className:"bg-white rounded-[32px] sm:rounded-[40px] shadow-sm border border-slate-100 overflow-hidden",children:[a.jsxs("div",{className:"p-6 bg-slate-50 border-b border-slate-100 flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[a.jsx("h3",{className:"font-black text-slate-700",children:"Resumen de Devolucin"}),a.jsxs("div",{className:"px-6 py-2 bg-blue-600 text-white rounded-full font-black text-sm shadow-lg shadow-blue-100 w-fit",children:["Total: ",D," unidades"]})]}),a.jsx("div",{className:"divide-y divide-slate-100",children:z.map(O=>a.jsx("div",{className:"p-6 sm:p-8",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xl sm:text-2xl font-black text-blue-600 tracking-tighter",children:O.reference}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("span",{className:"text-lg sm:text-xl font-black text-slate-800",children:O.quantity}),a.jsx("button",{onClick:()=>F(re=>re.filter(fe=>fe.reference!==O.reference)),className:"w-6 h-6 bg-red-100 text-red-500 rounded-full flex items-center justify-center text-[10px] hover:bg-red-200 transition-colors",children:""})]})]})},O.reference))})]}),a.jsx("button",{onClick:te,className:"w-full py-5 sm:py-6 bg-gradient-to-r from-blue-600 to-pink-600 text-white font-black text-xl sm:text-2xl rounded-[28px] sm:rounded-[32px] shadow-2xl shadow-blue-200 hover:scale-[1.01] transition-all",children:"GUARDAR DEVOLUCIN"})]}):a.jsxs("div",{className:"space-y-8 pb-20",children:[a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-black text-slate-800 tracking-tighter",children:"Devoluciones"}),a.jsx("p",{className:"text-slate-400 font-medium",children:"Historial de devoluciones de clientes"})]}),a.jsxs("button",{onClick:()=>B(!0),className:"w-full sm:w-auto px-8 py-4 sm:px-10 sm:py-5 bg-gradient-to-r from-blue-500 to-pink-500 text-white font-black rounded-[24px] sm:rounded-[28px] shadow-2xl shadow-blue-200 hover:scale-105 active:scale-95 transition-all flex items-center justify-center gap-3",children:[a.jsx(ve.Reception,{}),"NUEVA DEVOLUCIN"]})]}),a.jsxs("div",{className:"bg-white p-12 sm:p-24 rounded-[32px] sm:rounded-[48px] border-2 border-dashed border-slate-200 flex flex-col items-center text-center space-y-4",children:[a.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-slate-100 rounded-full flex items-center justify-center text-slate-300",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-8 h-8 sm:w-10 sm:h-10",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 15L3 9m0 0l6-6M3 9h12a6 6 0 010 12h-3"})})}),a.jsx("p",{className:"text-slate-400 font-bold text-base sm:text-lg italic",children:"Sin devoluciones registradas"})]})]})},Ca=({currentPage:d,totalPages:c,pageSize:u=100,onPageChange:o,onPageSizeChange:h,isLoading:y=!1,pageSizeOptions:B=[10,20,25,30,50,100]})=>{const[_,p]=b.useState(d.toString());b.useEffect(()=>{p(d.toString())},[d]);const v=()=>{d>1&&o(d-1)},C=()=>{d<c&&o(d+1)},S=()=>{const z=parseInt(_,10);z>=1&&z<=c?o(z):p(d.toString())},J=z=>{p(z.target.value)},H=z=>{z.key==="Enter"&&S()},m=z=>{const F=parseInt(z.target.value,10);h&&h(F)};return a.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4 py-4 px-4 bg-gray-50 rounded-lg border border-gray-200",children:[h&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Registros por pgina:"}),a.jsx("select",{value:u,onChange:m,disabled:y,className:"px-3 py-2 border border-gray-300 rounded text-sm disabled:bg-gray-100 disabled:cursor-not-allowed",children:B.map(z=>a.jsx("option",{value:z,children:z},z))})]}),a.jsxs("div",{className:"flex items-center justify-center gap-4",children:[a.jsx("button",{onClick:v,disabled:d===1||y,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 disabled:bg-gray-300 disabled:cursor-not-allowed transition",children:" Anterior"}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Pgina ",d," de ",c]})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"number",min:"1",max:c,value:_,onChange:J,onKeyPress:H,disabled:y,className:"w-16 px-2 py-1 border border-gray-300 rounded text-center text-sm disabled:bg-gray-100",placeholder:"Ir a"}),a.jsx("button",{onClick:S,disabled:y,className:"px-3 py-1 bg-gray-500 text-white rounded hover:bg-gray-600 disabled:bg-gray-300 disabled:cursor-not-allowed transition text-sm",children:"Ir"})]}),a.jsx("button",{onClick:C,disabled:d===c||y,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 disabled:bg-gray-300 disabled:cursor-not-allowed transition",children:"Siguiente "}),y&&a.jsx("div",{className:"ml-2",children:a.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-blue-500 border-t-transparent rounded-full"})})]})]})},Dt=(d=1,c=50)=>{const[u,o]=b.useState({page:d,limit:c,total:0,totalPages:0,hasNextPage:!1,hasPreviousPage:!1}),h=b.useCallback(v=>{o(C=>({...C,page:Math.max(1,Math.min(v,C.totalPages||1))}))},[]),y=b.useCallback(()=>{o(v=>v.hasNextPage?{...v,page:v.page+1}:v)},[]),B=b.useCallback(()=>{o(v=>v.hasPreviousPage?{...v,page:v.page-1}:v)},[]),_=b.useCallback(v=>{o(C=>({...C,limit:Math.max(1,Math.min(v,100)),page:1}))},[]),p=b.useCallback(()=>{o({page:d,limit:c,total:0,totalPages:0,hasNextPage:!1,hasPreviousPage:!1})},[d,c]);return b.useCallback(v=>{o(C=>({...C,...v}))},[]),{pagination:u,goToPage:h,nextPage:y,previousPage:B,setLimit:_,reset:p}},Qh=({user:d,receptions:c,updateState:u,referencesMaster:o,confeccionistasMaster:h=[],clientsMaster:y=[],onAddReception:B,ReturnReceptionComponent:_,state:p,directToBatch:v=!1})=>{const[C,S]=b.useState(!1),[J,H]=b.useState("listing"),[m,z]=b.useState(null),[F,ae]=b.useState(null),[ne,le]=b.useState(""),ee=Dt(1,50),[te,D]=b.useState(""),[f,O]=b.useState(""),[re,fe]=b.useState(!1),[P,j]=b.useState(""),[Z,he]=b.useState(null),[Q,E]=b.useState(null),[q,N]=b.useState(0),[G,I]=b.useState([]),g=()=>{H("batch"),S(!0),z(null),D(""),O(""),j(""),he(null),E(null),N(0),I([])},L=w=>{var V;if(d.role!==_e.ADMIN){alert("Acceso administrativo requerido para editar.");return}z(w),S(!0),D(w.confeccionista);const A=((V=h.find(ue=>ue.id===w.confeccionista))==null?void 0:V.name)||w.confeccionista;O(`${w.confeccionista} - ${A}`),j(w.batchCode),he(w.hasSeconds),E(w.chargeType),N(w.chargeUnits),I(w.items)},T=h.filter(w=>{const A=w.active===!0||w.active===1,V=!f||w.name.toLowerCase().includes(f.toLowerCase())||w.id.toLowerCase().includes(f.toLowerCase());return A&&V}),K=w=>{D(w.id),O(`${w.id} - ${w.name}`),fe(!1)},ie=w=>{var A;return((A=h.find(V=>V.id===w))==null?void 0:A.name)||w},be=(w,A)=>{o.some(ue=>ue.id===w)||alert(`AVISO: La referencia "${w}" no existe en el maestro de referencias. Recuerde crearla en el apartado de Maestros.`),I(ue=>{const ge=ue.findIndex(Ne=>Ne.reference===w);if(ge>-1){const Ne=[...ue];return Ne[ge]={...Ne[ge],quantity:Ne[ge].quantity+A},Ne}return[...ue,{reference:w,quantity:A}]})},oe=async()=>{if(!te||!P){alert("Nombre de Confeccionista y Remisin son obligatorios");return}if(Q&&q<=0){alert(`Debe especificar unidades para ${Q}`);return}const w={id:m?m.id:Math.random().toString(36).substr(2,9),batchCode:P,confeccionista:te,hasSeconds:Z,chargeType:Q,chargeUnits:q,items:G,receivedBy:m?m.receivedBy:d.name,createdAt:m?m.createdAt:new Date().toISOString(),editLogs:m?[...m.editLogs,{user:d.name,date:new Date().toISOString()}]:[]};if(B)try{const A=await B(w);A.success?(console.log(" Recepcin guardada en BD"),u(V=>({...V,receptions:m?V.receptions.map(ue=>ue.id===w.id?w:ue):[w,...V.receptions]})),S(!1)):alert("Error al guardar: "+(A.message||"Error desconocido"))}catch(A){console.error(" Error guardando recepcin:",A),alert("Error de conexin con el servidor")}else console.warn(" onAddReception no est definido, guardando solo en estado local"),u(A=>({...A,receptions:m?A.receptions.map(V=>V.id===w.id?w:V):[w,...A.receptions]})),S(!1)},xe=c.filter(w=>ne.trim()?w.items.some(A=>A.reference.toUpperCase().includes(ne.toUpperCase())):!0);if(Et.useEffect(()=>{ee.pagination.total=xe.length,ee.pagination.totalPages=Math.ceil(xe.length/ee.pagination.limit)},[xe.length,ee.pagination.limit]),J==="selector")return a.jsxs("div",{className:"space-y-8 pb-20",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-black text-slate-800 tracking-tighter",children:"Recepcin"}),a.jsx("p",{className:"text-slate-400 font-medium",children:"Selecciona el tipo de recepcin"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("button",{onClick:()=>{H("batch"),S(!0)},className:"bg-white p-8 rounded-[32px] shadow-sm border border-slate-100 hover:shadow-md hover:border-blue-200 transition-all flex flex-col items-center justify-center gap-6 min-h-[300px]",children:[a.jsx("div",{className:"w-16 h-16 bg-blue-50 rounded-full flex items-center justify-center",children:a.jsx(ve.Reception,{})}),a.jsxs("div",{className:"text-center space-y-2",children:[a.jsx("h3",{className:"text-2xl font-black text-slate-800",children:"Recepcin de Lotes"}),a.jsx("p",{className:"text-slate-400 font-medium",children:"Ingreso de produccin de confeccionistas"})]})]}),a.jsxs("button",{onClick:()=>{H("return"),S(!0)},className:"bg-white p-8 rounded-[32px] shadow-sm border border-slate-100 hover:shadow-md hover:border-pink-200 transition-all flex flex-col items-center justify-center gap-6 min-h-[300px]",children:[a.jsx("div",{className:"w-16 h-16 bg-pink-50 rounded-full flex items-center justify-center text-pink-500",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-8 h-8",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 15L3 9m0 0l6-6M3 9h12a6 6 0 010 12h-3"})})}),a.jsxs("div",{className:"text-center space-y-2",children:[a.jsx("h3",{className:"text-2xl font-black text-slate-800",children:"Devolucin de Mercanca"}),a.jsx("p",{className:"text-slate-400 font-medium",children:"Registro de devoluciones y ajustes"})]})]})]})]});if(J==="return")return console.log(" Rendering ReturnReceptionView"),console.log(" clientsMaster received in ReceptionView:",y),console.log(" clientsMaster.length:",(y==null?void 0:y.length)||0),console.log(" referencesMaster.length:",(o==null?void 0:o.length)||0),console.log(" First client:",y==null?void 0:y[0]),a.jsx(xx,{user:d,updateState:u,clientsMaster:y,referencesMaster:o,onAddReturnReception:B});if(C){const w=G.reduce((A,V)=>A+V.quantity,0);return a.jsxs("div",{className:"space-y-8 animate-in slide-in-from-bottom-6 duration-500 pb-20",children:[a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl sm:text-3xl font-black text-slate-800 tracking-tight",children:m?"Editar Lote":"Conteo de Lote"}),a.jsx("p",{className:"text-slate-400 font-bold text-xs sm:text-base",children:"Registro de ingreso de produccin"})]}),a.jsx("button",{onClick:()=>H("listing"),className:"px-4 py-2 sm:px-6 sm:py-3 rounded-2xl bg-white text-slate-400 font-bold hover:text-red-500 transition-all border border-slate-100 text-sm",children:"Atrs"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 bg-white p-6 sm:p-8 rounded-[32px] sm:rounded-[40px] shadow-sm border border-slate-100",children:[a.jsxs("div",{className:"space-y-2 relative",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-blue-500 tracking-widest px-4",children:"Confeccionista (Cdula o Nombre)"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{value:f,onChange:A=>{O(A.target.value),fe(!0),A.target.value||D("")},onFocus:()=>fe(!0),placeholder:"Buscar confeccionista...",className:"w-full px-6 py-3.5 bg-slate-50 border-none rounded-2xl focus:ring-4 focus:ring-blue-100 transition-all font-semibold text-slate-900"}),re&&f.length>0&&a.jsxs("div",{className:"absolute top-full left-0 w-full mt-2 bg-white rounded-2xl shadow-2xl border border-slate-100 z-50 max-h-48 overflow-y-auto custom-scrollbar",children:[T.map(A=>a.jsxs("button",{onClick:()=>K(A),className:"w-full text-left px-6 py-4 hover:bg-slate-50 transition-colors border-b border-slate-50 last:border-0",children:[a.jsx("p",{className:"font-black text-slate-800",children:A.name}),a.jsxs("p",{className:"text-[10px] text-slate-400 font-bold",children:["Cdula: ",A.id,"  Score: ",A.score]})]},A.id)),T.length===0&&a.jsx("p",{className:"px-6 py-4 text-slate-400 font-bold italic text-sm",children:"No se encontraron activos"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-blue-500 tracking-widest px-4",children:"Tiene Segundas?"}),a.jsxs("div",{className:"flex gap-2 px-6 py-3.5 bg-slate-50 border-none rounded-2xl",children:[a.jsx("button",{onClick:()=>he(!0),className:`flex-1 px-3 py-1.5 sm:px-4 sm:py-1.5 rounded-xl text-xs font-bold transition-all ${Z===!0?"bg-pink-500 text-white shadow-lg shadow-pink-100":"bg-white text-slate-400 border border-slate-100"}`,children:"S"}),a.jsx("button",{onClick:()=>he(!1),className:`flex-1 px-3 py-1.5 sm:px-4 sm:py-1.5 rounded-xl text-xs font-bold transition-all ${Z===!1?"bg-slate-300 text-white shadow-lg shadow-slate-100":"bg-white text-slate-400 border border-slate-100"}`,children:"NO"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-blue-500 tracking-widest px-4",children:"Remisin"}),a.jsx("input",{value:P,onChange:A=>j(A.target.value),placeholder:"Remisin de entrega...",className:"w-full px-6 py-3.5 bg-slate-50 border-none rounded-2xl focus:ring-4 focus:ring-blue-100 transition-all font-semibold text-slate-900"})]}),a.jsxs("div",{className:"flex flex-col items-start justify-start",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-blue-500 tracking-widest px-4 mb-2",children:"Cobros a confeccionista"}),a.jsxs("div",{className:"flex gap-2 px-6 py-3.5 bg-slate-50 border-none rounded-2xl w-full",children:[a.jsx("button",{onClick:()=>E(Q==="Compra"?null:"Compra"),className:`flex-1 px-3 py-1.5 rounded-xl text-[10px] font-black tracking-widest transition-all ${Q==="Compra"?"bg-blue-600 text-white shadow-lg shadow-blue-100":"bg-white text-slate-400 border border-slate-100"}`,children:"COMPRA"}),a.jsx("button",{onClick:()=>E(Q==="Cobro"?null:"Cobro"),className:`flex-1 px-3 py-1.5 rounded-xl text-[10px] font-black tracking-widest transition-all ${Q==="Cobro"?"bg-pink-600 text-white shadow-lg shadow-pink-100":"bg-white text-slate-400 border border-slate-100"}`,children:"COBRO"})]}),Q&&a.jsxs("div",{className:"flex items-center gap-2 mt-2 animate-in slide-in-from-top-2 w-full px-6 py-3.5 bg-slate-50 rounded-2xl",children:[a.jsxs("p",{className:`text-[10px] font-black uppercase w-20 sm:w-24 ${Q==="Compra"?"text-blue-500":"text-pink-500"}`,children:["Unid. a ",Q.toLowerCase(),":"]}),a.jsxs("div",{className:"flex-1 flex items-center bg-white rounded-2xl border border-slate-200 p-1",children:[a.jsx("button",{type:"button",onClick:()=>N(A=>Math.max(0,A-1)),className:"w-7 h-7 sm:w-8 sm:h-8 flex items-center justify-center bg-slate-50 rounded-xl text-slate-500 font-bold active:scale-90",children:"-"}),a.jsx("input",{type:"number",value:q,onChange:A=>N(Number(A.target.value)),className:"flex-1 text-center font-black bg-transparent border-none focus:ring-0 text-slate-900 text-sm"}),a.jsx("button",{type:"button",onClick:()=>N(A=>A+1),className:"w-7 h-7 sm:w-8 sm:h-8 flex items-center justify-center bg-slate-50 rounded-xl text-slate-500 font-bold active:scale-90",children:"+"})]})]})]})]}),a.jsx(io,{onScan:be}),G.length>0&&a.jsxs("div",{className:"bg-white rounded-[32px] sm:rounded-[40px] shadow-sm border border-slate-100 overflow-hidden",children:[a.jsxs("div",{className:"p-6 bg-slate-50 border-b border-slate-100 flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[a.jsx("h3",{className:"font-black text-slate-700",children:"Resumen de Lectura"}),a.jsxs("div",{className:"px-6 py-2 bg-blue-600 text-white rounded-full font-black text-sm shadow-lg shadow-blue-100 w-fit",children:["Total Global: ",w]})]}),a.jsx("div",{className:"divide-y divide-slate-100",children:G.map(A=>a.jsx("div",{className:"p-6 sm:p-8",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xl sm:text-2xl font-black text-blue-600 tracking-tighter",children:A.reference}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("span",{className:"text-lg sm:text-xl font-black text-slate-800",children:A.quantity}),a.jsx("button",{onClick:()=>I(V=>V.filter(ue=>ue.reference!==A.reference)),className:"w-6 h-6 bg-red-100 text-red-500 rounded-full flex items-center justify-center text-[10px] hover:bg-red-200 transition-colors",children:""})]})]})},A.reference))})]}),a.jsx("button",{onClick:oe,className:"w-full py-5 sm:py-6 bg-gradient-to-r from-blue-600 to-pink-600 text-white font-black text-xl sm:text-2xl rounded-[28px] sm:rounded-[32px] shadow-2xl shadow-blue-200 hover:scale-[1.01] transition-all",children:"GUARDAR RECEPCIN"})]})}return a.jsxs("div",{className:"space-y-10 pb-20",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-6 flex-1",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl sm:text-4xl font-black text-slate-800 tracking-tighter",children:"Recepcin"}),a.jsx("p",{className:"text-slate-400 font-medium text-sm sm:text-base",children:"Control de lotes e ingresos"})]}),a.jsx("div",{className:"flex-1 max-w-md",children:a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",value:ne,onChange:w=>le(w.target.value),placeholder:"Nmero de referencia...",className:"w-full px-6 py-4 bg-white border border-slate-200 rounded-[24px] focus:ring-4 focus:ring-blue-100 transition-all font-semibold text-slate-900 shadow-sm text-sm"}),a.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-300",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})})})]})})]}),a.jsxs("button",{onClick:g,className:"w-full sm:w-auto px-8 py-4 sm:px-10 sm:py-5 bg-gradient-to-r from-blue-500 to-pink-500 text-white font-black rounded-[24px] sm:rounded-[28px] shadow-2xl shadow-blue-200 hover:scale-105 active:scale-95 transition-all flex items-center justify-center gap-3",children:[a.jsx(ve.Reception,{}),"INICIAR CONTEO"]})]}),a.jsx("div",{className:"grid grid-cols-1 gap-4",children:xe.length===0?a.jsxs("div",{className:"bg-white p-12 sm:p-24 rounded-[32px] sm:rounded-[48px] border-2 border-dashed border-slate-200 flex flex-col items-center text-center space-y-4",children:[a.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-slate-100 rounded-full flex items-center justify-center text-slate-300",children:a.jsx(ve.Reception,{})}),a.jsx("p",{className:"text-slate-400 font-bold text-base sm:text-lg italic",children:ne?`No se encontraron lotes con la referencia "${ne}"`:"Sin historial de recepciones hoy"})]}):a.jsxs(a.Fragment,{children:[xe.slice((ee.pagination.page-1)*ee.pagination.limit,ee.pagination.page*ee.pagination.limit).map(w=>{const A=F===w.id,V=w.items.reduce((ge,Ne)=>ge+Ne.quantity,0),ue=w.items.reduce((ge,Ne)=>(ge[Ne.reference]||(ge[Ne.reference]=0),ge[Ne.reference]+=Ne.quantity,ge),{});return a.jsxs("div",{className:"bg-white rounded-[24px] sm:rounded-[32px] shadow-sm border border-slate-100 overflow-hidden group hover:shadow-md transition-all",children:[a.jsxs("div",{className:"p-5 sm:p-6 flex flex-col md:flex-row justify-between items-start md:items-center gap-4 cursor-pointer",onClick:()=>ae(A?null:w.id),children:[a.jsxs("div",{className:"flex-1 w-full",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:"text-[9px] sm:text-[10px] font-black bg-blue-50 text-blue-500 px-2.5 py-1 rounded-full uppercase tracking-tighter",children:w.batchCode}),a.jsx("span",{className:"text-[9px] sm:text-[10px] text-slate-400 font-bold",children:w.createdAt})]}),a.jsx("h3",{className:"text-lg sm:text-xl font-black text-slate-800",children:ie(w.confeccionista)}),a.jsxs("div",{className:"flex flex-wrap gap-4 mt-2",children:[a.jsxs("span",{className:"text-slate-400 text-[10px] sm:text-xs font-bold uppercase",children:["Prendas: ",a.jsx("span",{className:"text-slate-800 font-black",children:V})]}),w.hasSeconds&&a.jsxs("span",{className:"text-pink-500 text-[9px] sm:text-[10px] font-black uppercase flex items-center gap-1",children:[a.jsx("span",{className:"w-1.5 h-1.5 bg-pink-500 rounded-full"})," Con Segundas"]}),w.chargeType&&a.jsxs("span",{className:"text-blue-500 text-[9px] sm:text-[10px] font-black uppercase flex items-center gap-1",children:[a.jsx("span",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"})," ",w.chargeType," ",w.chargeUnits>0?`(${w.chargeUnits} ud)`:""]})]})]}),a.jsxs("div",{className:"flex items-center justify-between w-full md:w-auto gap-4",children:[a.jsxs("div",{className:"text-left md:text-right hidden sm:block",children:[a.jsx("p",{className:"text-[9px] font-black text-slate-300 uppercase tracking-widest mb-0.5",children:"Recibido por"}),a.jsx("p",{className:"text-xs font-black text-slate-500",children:w.receivedBy})]}),a.jsxs("div",{className:"flex items-center gap-3 ml-auto md:ml-0",children:[a.jsx("button",{onClick:ge=>{ge.stopPropagation(),L(w)},className:"p-2 sm:p-3 bg-slate-50 rounded-xl sm:rounded-2xl text-slate-400 hover:bg-blue-50 hover:text-blue-500 transition-all opacity-100 md:opacity-0 group-hover:opacity-100",children:a.jsx(ve.Edit,{})}),a.jsx("span",{className:`transition-transform duration-300 ${A?"rotate-180":""}`,children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:"w-5 h-5 text-slate-300",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})})})]})]})]}),A&&a.jsxs("div",{className:"px-6 pb-6 sm:px-8 sm:pb-8 pt-4 bg-slate-50/50 border-t border-slate-100 animate-in slide-in-from-top-2",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 sm:gap-8 mb-6 sm:mb-8",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3",children:"Detalles de Recepcin"}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("p",{className:"font-black text-slate-800 text-base sm:text-lg",children:["Confeccionista: ",ie(w.confeccionista)]}),a.jsxs("p",{className:"text-xs sm:text-sm font-bold text-slate-500",children:["Remisin: ",w.batchCode]}),w.hasSeconds&&a.jsx("p",{className:"text-[9px] sm:text-[10px] font-black text-pink-500 uppercase",children:"LOTE CON SEGUNDAS"}),w.chargeType&&a.jsxs("p",{className:"text-[9px] sm:text-[10px] font-black text-blue-500 uppercase",children:[w.chargeType,": ",w.chargeUnits," unidades"]})]})]}),a.jsxs("div",{className:"md:text-right",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3",children:"Auditora"}),a.jsxs("p",{className:"text-xs sm:text-sm font-bold text-slate-600",children:["Asentado por: ",a.jsx("span",{className:"text-slate-900 font-black",children:w.receivedBy})]}),a.jsxs("p",{className:"text-xs sm:text-sm font-bold text-slate-600",children:["Fecha: ",a.jsx("span",{className:"text-slate-900 font-black",children:w.createdAt})]})]})]}),a.jsx("div",{className:"bg-white rounded-2xl sm:rounded-3xl border border-slate-200 overflow-hidden shadow-sm",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left text-sm min-w-[300px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-slate-50 border-b border-slate-100",children:[a.jsx("th",{className:"px-4 py-3 sm:px-6 sm:py-4 font-black text-slate-400 text-[9px] sm:text-[10px] uppercase tracking-widest",children:"Referencia"}),a.jsx("th",{className:"px-4 py-3 sm:px-6 sm:py-4 font-black text-slate-400 text-[9px] sm:text-[10px] uppercase tracking-widest text-center",children:"Cantidad"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-50",children:Object.entries(ue).map(([ge,Ne])=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-3 sm:px-6 sm:py-4 font-black text-blue-600 text-xs sm:text-sm",children:ge}),a.jsx("td",{className:"px-4 py-3 sm:px-6 sm:py-4 text-center font-black text-slate-800 text-xs sm:text-sm",children:Ne})]},ge))}),a.jsx("tfoot",{children:a.jsxs("tr",{className:"bg-slate-50/80 border-t border-slate-100",children:[a.jsx("td",{className:"px-4 py-4 sm:px-6 sm:py-6 font-black text-slate-400 text-[9px] sm:text-[10px] uppercase tracking-widest text-right",children:"TOTAL GLOBAL LOTE"}),a.jsx("td",{className:"px-4 py-4 sm:px-6 sm:py-6 text-center font-black text-blue-600 text-xl sm:text-2xl",children:V})]})})]})})})]})]},w.id)}),a.jsx("div",{className:"mt-6",children:a.jsx(Ca,{currentPage:ee.pagination.page,totalPages:ee.pagination.totalPages,pageSize:ee.pagination.limit,onPageChange:ee.goToPage,onPageSizeChange:ee.setLimit})})]})})]})},Xh=({user:d,clients:c,dispatches:u,updateState:o,referencesMaster:h,correrias:y,onAddDispatch:B,onUpdateDispatch:_,onDeleteDispatch:p})=>{const[v,C]=b.useState(!1),[S,J]=b.useState(null),[H,m]=b.useState(""),z=Dt(1,50),[F,ae]=b.useState(""),[ne,le]=b.useState(""),[ee,te]=b.useState(""),[D,f]=b.useState(!1),[O,re]=b.useState(""),[fe,P]=b.useState(!1),[j,Z]=b.useState(""),[he,Q]=b.useState(""),[E,q]=b.useState([]),[N,G]=b.useState(null),I=()=>{C(!0),J(null),ae(""),le(""),te(""),Z(""),Q(""),q([])},g=oe=>{if(d.role!==_e.ADMIN){alert("Acceso administrativo requerido.");return}const xe=c.find(w=>w.id===oe.clientId);J(oe),C(!0),ae(oe.clientId),le(oe.correriaId||""),te(xe?`${xe.id} - ${xe.name}`:oe.clientId),Z(oe.invoiceNo),Q(oe.remissionNo),q(oe.items)},L=c.filter(oe=>oe.name.toLowerCase().includes(ee.toLowerCase())||oe.id.toLowerCase().includes(ee.toLowerCase())),T=oe=>{ae(oe.id),te(`${oe.id} - ${oe.name}`),f(!1)},K=(oe,xe)=>{h.some(A=>A.id===oe)||alert(`AVISO: La referencia "${oe}" no existe en el maestro de referencias. Recuerde crearla en el apartado de Maestros.`),q(A=>{const V=A.findIndex(ue=>ue.reference===oe);if(V>-1){const ue=[...A];return ue[V]={...ue[V],quantity:ue[V].quantity+xe},ue}return[...A,{reference:oe,quantity:xe}]})},ie=async()=>{if(!F){alert("Debe seleccionar un cliente");return}if(!ne){alert("Debe seleccionar una correra");return}if(E.length===0){alert("Debe agregar al menos una prenda");return}try{if(S){const oe={clientId:F,correriaId:ne,invoiceNo:j,remissionNo:he,items:E,dispatchedBy:S.dispatchedBy},xe=await _(S.id,oe);if(xe!=null&&xe.success)C(!1),J(null),alert("Despacho actualizado exitosamente");else{const w=(xe==null?void 0:xe.message)||"Error desconocido al actualizar el despacho";alert(`Error al actualizar el despacho: ${w}`),console.error("Error response:",xe)}}else{const oe={id:Math.random().toString(36).substr(2,9),clientId:F,correriaId:ne,invoiceNo:j,remissionNo:he,items:E,dispatchedBy:d.name,createdAt:new Date().toLocaleString(),editLogs:[{user:d.name,date:new Date().toLocaleString()}]};(await B(oe)).success?(C(!1),alert("Despacho guardado exitosamente")):alert("Error al guardar el despacho")}}catch(oe){console.error("Error al guardar despacho:",oe),alert("Error al guardar el despacho")}},be=u.filter(oe=>{if(!H.trim())return!0;const xe=c.find(A=>A.id===oe.clientId),w=H.toLowerCase();return(xe==null?void 0:xe.name.toLowerCase().includes(w))||oe.clientId.toLowerCase().includes(w)});if(Et.useEffect(()=>{z.pagination.total=be.length,z.pagination.totalPages=Math.ceil(be.length/z.pagination.limit)},[be.length,z.pagination.limit]),v){const oe=E.reduce((w,A)=>w+A.quantity,0),xe=new Set(E.map(w=>w.reference)).size;return a.jsxs("div",{className:"space-y-8 animate-in slide-in-from-bottom-6 duration-500 pb-20",children:[a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl sm:text-3xl font-black text-slate-800 tracking-tight",children:S?"Editar Despacho":"Nuevo Despacho"}),a.jsx("p",{className:"text-slate-400 font-bold text-xs sm:text-base",children:"Registro de salida de bodega"})]}),a.jsx("button",{onClick:()=>C(!1),className:"px-4 py-2 sm:px-6 sm:py-3 rounded-2xl bg-white text-slate-400 font-bold hover:text-red-500 border border-slate-100 transition-all text-sm",children:"Cancelar"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 bg-white p-6 sm:p-8 rounded-[32px] sm:rounded-[40px] shadow-sm border border-slate-100",children:[a.jsxs("div",{className:"space-y-4 relative",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-blue-500 tracking-widest px-4",children:"Buscar Cliente"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",value:ee,onChange:w=>{te(w.target.value),f(!0),w.target.value||ae("")},onFocus:()=>f(!0),placeholder:"ID o Nombre de cliente...",className:"w-full px-6 py-4 bg-slate-50 border-none rounded-2xl focus:ring-4 focus:ring-blue-100 transition-all font-bold text-slate-900"}),D&&ee.length>0&&a.jsxs("div",{className:"absolute top-full left-0 w-full mt-2 bg-white rounded-2xl shadow-2xl border border-slate-100 z-50 max-h-60 overflow-y-auto custom-scrollbar",children:[L.map(w=>a.jsxs("button",{onClick:()=>T(w),className:"w-full text-left px-6 py-4 hover:bg-slate-50 transition-colors border-b border-slate-50 last:border-0",children:[a.jsx("p",{className:"font-black text-slate-800",children:w.name}),a.jsxs("p",{className:"text-[10px] text-slate-400 font-bold",children:["ID: ",w.id,"  ",w.city]})]},w.id)),L.length===0&&a.jsx("p",{className:"px-6 py-4 text-slate-400 font-bold italic text-sm",children:"No se encontraron clientes"})]})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-4",children:"Correra / Campaa"}),a.jsx(Zh,{value:ne,correrias:y,onChange:le,search:O,setSearch:re,showDropdown:fe,setShowDropdown:P})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-pink-500 tracking-widest px-4",children:"Factura"}),a.jsx("input",{value:j,onChange:w=>Z(w.target.value),placeholder:"Ej: F-1234",className:"w-full px-6 py-4 bg-slate-50 border-none rounded-2xl focus:ring-4 focus:ring-pink-100 transition-all font-bold tracking-widest text-slate-900"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black uppercase text-pink-500 tracking-widest px-4",children:"Remisin"}),a.jsx("input",{value:he,onChange:w=>Q(w.target.value),placeholder:"Ej: R-1234",className:"w-full px-6 py-4 bg-slate-50 border-none rounded-2xl focus:ring-4 focus:ring-pink-100 transition-all font-bold tracking-widest text-slate-900"})]})]})]}),a.jsx(io,{onScan:K,label:"Escanear Salida"}),E.length>0&&a.jsxs("div",{className:"bg-white rounded-[40px] shadow-sm border border-slate-100 overflow-hidden",children:[a.jsxs("div",{className:"p-6 sm:p-8 bg-slate-50 border-b border-slate-100 flex flex-wrap items-center justify-between gap-4",children:[a.jsx("h3",{className:"font-black text-slate-700",children:"Mercanca para Despachar"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"px-4 py-1.5 sm:px-6 sm:py-2 bg-pink-100 text-pink-600 rounded-full font-black text-xs sm:text-sm shadow-sm",children:["Ref Totales: ",xe]}),a.jsxs("div",{className:"px-4 py-1.5 sm:px-6 sm:py-2 bg-blue-600 text-white rounded-full font-black text-xs sm:text-sm shadow-lg shadow-blue-100",children:["Total Unidades: ",oe]})]})]}),a.jsx("div",{className:"divide-y divide-slate-100",children:E.map(w=>a.jsx("div",{className:"p-6 sm:p-8",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xl sm:text-2xl font-black text-slate-800 tracking-tight",children:w.reference}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("span",{className:"text-lg sm:text-xl font-black text-blue-600",children:w.quantity}),a.jsx("button",{onClick:()=>q(A=>A.filter(V=>V.reference!==w.reference)),className:"w-6 h-6 bg-red-100 text-red-500 rounded-full flex items-center justify-center text-[10px] hover:bg-red-200 transition-colors",children:""})]})]})},w.reference))})]}),a.jsx("button",{onClick:ie,className:"w-full py-5 sm:py-6 bg-gradient-to-r from-blue-600 to-pink-600 text-white font-black text-xl sm:text-2xl rounded-[28px] sm:rounded-[32px] shadow-2xl shadow-blue-200 hover:scale-[1.01] transition-all",children:"FINALIZAR DESPACHO"})]})}return a.jsxs("div",{className:"space-y-10 pb-20",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-6 flex-1",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl sm:text-4xl font-black text-slate-800 tracking-tighter",children:"Despachos"}),a.jsx("p",{className:"text-slate-400 font-medium text-sm sm:text-base",children:"Gestiona la salida de mercanca"})]}),a.jsx("div",{className:"flex-1 max-w-md",children:a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",value:H,onChange:oe=>m(oe.target.value),placeholder:"Buscar despacho por cliente o ID...",className:"w-full px-6 py-4 bg-white border border-slate-200 rounded-[24px] focus:ring-4 focus:ring-blue-100 transition-all font-bold text-slate-900 shadow-sm text-sm"}),a.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-300",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})})})]})})]}),a.jsxs("button",{onClick:I,className:"w-full sm:w-auto px-8 py-4 sm:px-10 sm:py-5 bg-gradient-to-r from-blue-500 to-pink-500 text-white font-black rounded-[24px] sm:rounded-[28px] shadow-2xl shadow-blue-200 hover:scale-105 active:scale-95 transition-all flex items-center justify-center gap-3",children:[a.jsx(ve.Dispatch,{}),"NUEVO DESPACHO"]})]}),a.jsx("div",{className:"grid grid-cols-1 gap-4",children:be.length===0?a.jsxs("div",{className:"bg-white p-12 sm:p-24 rounded-[32px] sm:rounded-[48px] border-2 border-dashed border-slate-200 flex flex-col items-center text-center space-y-4",children:[a.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-slate-100 rounded-full flex items-center justify-center text-slate-300",children:a.jsx(ve.Dispatch,{})}),a.jsx("p",{className:"text-slate-400 font-bold text-base sm:text-lg italic",children:H?`No se encontraron despachos para "${H}"`:"Sin registros de despacho hoy"})]}):a.jsxs(a.Fragment,{children:[be.slice((z.pagination.page-1)*z.pagination.limit,z.pagination.page*z.pagination.limit).map(oe=>{const xe=c.find(ue=>ue.id===oe.clientId),w=N===oe.id,A=oe.items.reduce((ue,ge)=>ue+ge.quantity,0),V=oe.items.reduce((ue,ge)=>(ue[ge.reference]||(ue[ge.reference]=0),ue[ge.reference]+=ge.quantity,ue),{});return a.jsxs("div",{className:"bg-white rounded-[24px] sm:rounded-[32px] shadow-sm border border-slate-100 overflow-hidden group hover:shadow-md transition-all",children:[a.jsxs("div",{className:"p-5 sm:p-6 flex flex-col md:flex-row justify-between items-start md:items-center gap-4 cursor-pointer",onClick:()=>G(w?null:oe.id),children:[a.jsxs("div",{className:"flex-1 w-full",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:"text-[9px] sm:text-[10px] text-slate-400 font-bold",children:oe.createdAt}),oe.invoiceNo&&a.jsxs("span",{className:"text-[9px] sm:text-[10px] font-black bg-blue-50 text-blue-500 px-2.5 py-1 rounded-full uppercase tracking-tighter",children:["F: ",oe.invoiceNo]}),oe.remissionNo&&a.jsxs("span",{className:"text-[9px] sm:text-[10px] font-black bg-pink-50 text-pink-500 px-2.5 py-1 rounded-full uppercase tracking-tighter",children:["R: ",oe.remissionNo]})]}),a.jsx("h3",{className:"text-lg sm:text-xl font-black text-slate-800",children:(xe==null?void 0:xe.name)||"Cliente Desconocido"}),a.jsxs("div",{className:"flex flex-wrap gap-4 mt-2",children:[a.jsxs("span",{className:"text-slate-400 text-[10px] sm:text-xs font-bold uppercase",children:["Referencias: ",a.jsx("span",{className:"text-slate-800 font-black",children:Object.keys(V).length})]}),a.jsxs("span",{className:"text-slate-400 text-[10px] sm:text-xs font-bold uppercase",children:["Total Unid: ",a.jsx("span",{className:"text-pink-600 font-black",children:A})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between w-full md:w-auto gap-4",children:[a.jsxs("div",{className:"text-left md:text-right hidden sm:block",children:[a.jsx("p",{className:"text-[9px] font-black text-slate-300 uppercase tracking-widest mb-0.5",children:"Ledo por"}),a.jsx("p",{className:"text-xs font-black text-slate-500",children:oe.dispatchedBy})]}),a.jsxs("div",{className:"flex items-center gap-3 ml-auto md:ml-0",children:[a.jsx("button",{onClick:ue=>{ue.stopPropagation(),g(oe)},className:"p-2 sm:p-3 bg-slate-50 rounded-xl sm:rounded-2xl text-slate-400 hover:bg-blue-50 hover:text-blue-500 transition-all opacity-100 md:opacity-0 group-hover:opacity-100",children:a.jsx(ve.Edit,{})}),d.role===_e.ADMIN&&a.jsx("button",{onClick:async ue=>{if(ue.stopPropagation(),confirm("Seguro que desea eliminar este despacho?"))try{const ge=await p(oe.id);if(ge!=null&&ge.success)o(Ne=>({...Ne,dispatches:Ne.dispatches.filter(rt=>rt.id!==oe.id)})),alert("Despacho eliminado correctamente");else{const Ne=(ge==null?void 0:ge.message)||"Error desconocido al eliminar el despacho";alert(`Error al eliminar el despacho: ${Ne}`)}}catch(ge){console.error("Error eliminando despacho:",ge),alert(`Error al eliminar el despacho: ${ge}`)}},className:"p-2 sm:p-3 bg-slate-50 rounded-xl sm:rounded-2xl text-slate-400 hover:bg-red-50 hover:text-red-500 transition-all opacity-100 md:opacity-0 group-hover:opacity-100",children:a.jsx(ve.Delete,{})}),a.jsx("span",{className:`transition-transform duration-300 ${w?"rotate-180":""}`,children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:"w-5 h-5 text-slate-300",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})})})]})]})]}),w&&a.jsxs("div",{className:"px-6 pb-6 sm:px-8 sm:pb-8 pt-4 bg-slate-50/50 border-t border-slate-100 animate-in slide-in-from-top-2",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 sm:gap-8 mb-6 sm:mb-8",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3",children:"Detalles del Cliente"}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"font-black text-slate-800 text-base sm:text-lg",children:xe==null?void 0:xe.name}),a.jsxs("p",{className:"text-xs sm:text-sm font-bold text-slate-500",children:[xe==null?void 0:xe.address,"  ",xe==null?void 0:xe.city]}),a.jsxs("p",{className:"text-[9px] sm:text-[10px] font-black text-blue-500 uppercase tracking-widest",children:["Vendedor: ",xe==null?void 0:xe.seller]})]})]}),a.jsxs("div",{className:"md:text-right",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3",children:"Auditora"}),a.jsxs("p",{className:"text-xs sm:text-sm font-bold text-slate-600",children:["Ingresado por: ",a.jsx("span",{className:"text-slate-900 font-black",children:oe.dispatchedBy})]}),a.jsxs("p",{className:"text-xs sm:text-sm font-bold text-slate-600",children:["Fecha: ",a.jsx("span",{className:"text-slate-900 font-black",children:oe.createdAt})]})]})]}),a.jsx("div",{className:"bg-white rounded-2xl sm:rounded-3xl border border-slate-200 overflow-hidden shadow-sm",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left text-sm min-w-[500px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-slate-50 border-b border-slate-100",children:[a.jsx("th",{className:"px-4 py-3 sm:px-6 sm:py-4 font-black text-slate-400 text-[9px] sm:text-[10px] uppercase tracking-widest",children:"Referencia / Descripcin"}),a.jsx("th",{className:"px-4 py-3 sm:px-6 sm:py-4 font-black text-slate-400 text-[9px] sm:text-[10px] uppercase tracking-widest text-center",children:"Cantidad"}),a.jsx("th",{className:"px-4 py-3 sm:px-6 sm:py-4 font-black text-slate-400 text-[9px] sm:text-[10px] uppercase tracking-widest text-right",children:"Precio Unit"}),a.jsx("th",{className:"px-4 py-3 sm:px-6 sm:py-4 font-black text-slate-400 text-[9px] sm:text-[10px] uppercase tracking-widest text-right",children:"Subtotal"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-50",children:Object.entries(V).map(([ue,ge])=>{const Ne=h.find(Pe=>Pe.id===ue),rt=(Ne==null?void 0:Ne.price)||0,Ye=rt*ge;return a.jsxs("tr",{children:[a.jsxs("td",{className:"px-4 py-3 sm:px-6 sm:py-4",children:[a.jsx("p",{className:"font-black text-blue-600 text-xs sm:text-sm",children:ue}),a.jsx("p",{className:"text-[9px] sm:text-[10px] font-bold text-slate-400 uppercase",children:(Ne==null?void 0:Ne.description)||"Sin descripcin"})]}),a.jsx("td",{className:"px-4 py-3 sm:px-6 sm:py-4 text-center font-black text-slate-800 text-xs sm:text-sm",children:ge}),a.jsxs("td",{className:"px-4 py-3 sm:px-6 sm:py-4 text-right font-bold text-slate-500 text-xs sm:text-sm",children:["$",rt.toLocaleString()]}),a.jsxs("td",{className:"px-4 py-3 sm:px-6 sm:py-4 text-right font-black text-slate-800 text-xs sm:text-sm",children:["$",Ye.toLocaleString()]})]},ue)})}),a.jsx("tfoot",{children:a.jsxs("tr",{className:"bg-slate-50/80 border-t border-slate-100",children:[a.jsx("td",{className:"px-4 py-4 sm:px-6 sm:py-6 font-black text-slate-400 text-[9px] sm:text-[10px] uppercase tracking-widest text-right",children:"TOTALES DESPACHO"}),a.jsx("td",{className:"px-4 py-4 sm:px-6 sm:py-6 text-center font-black text-slate-900 text-lg sm:text-xl",children:A}),a.jsx("td",{}),a.jsxs("td",{className:"px-4 py-4 sm:px-6 sm:py-6 text-right font-black text-pink-600 text-xl sm:text-2xl",children:["$",oe.items.reduce((ue,ge)=>{var Ne;return ue+(((Ne=h.find(rt=>rt.id===ge.reference))==null?void 0:Ne.price)||0)*ge.quantity},0).toLocaleString()]})]})})]})})})]})]},oe.id)}),a.jsx("div",{className:"mt-6",children:a.jsx(Ca,{currentPage:z.pagination.page,totalPages:z.pagination.totalPages,pageSize:z.pagination.limit,onPageChange:z.goToPage,onPageSizeChange:z.setLimit})})]})})]})},Zh=({value:d,correrias:c,onChange:u,search:o,setSearch:h,showDropdown:y,setShowDropdown:B})=>{const _=Et.useRef(null),p=Et.useRef(),v=c.find(m=>m.id===d),C=v?`${v.name} ${v.year}`:d,S=c.filter(m=>m.name.toLowerCase().includes(o.toLowerCase())||m.year.toString().includes(o)),J=()=>{p.current=setTimeout(()=>B(!1),300)},H=m=>{p.current&&clearTimeout(p.current),u(m),B(!1),h("")};return a.jsxs("div",{className:"relative",ref:_,children:[a.jsx("input",{type:"text",value:y?o:C,onChange:m=>h(m.target.value),onFocus:()=>{B(!0),h("")},onBlur:J,placeholder:"Buscar...",className:"w-full px-6 py-3.5 bg-slate-50 border-none rounded-2xl font-bold text-slate-900 focus:ring-4 focus:ring-blue-100 transition-all"}),y&&a.jsxs("div",{className:"absolute top-full left-0 w-full mt-2 bg-white border border-slate-100 rounded-2xl shadow-2xl max-h-60 overflow-y-auto z-50",onMouseDown:m=>m.preventDefault(),children:[S.map(m=>a.jsxs("button",{onMouseDown:()=>H(m.id),className:"w-full px-6 py-4 text-left hover:bg-slate-50 transition-colors border-b border-slate-50 last:border-0",children:[a.jsx("p",{className:"font-black text-slate-800",children:m.name}),a.jsx("p",{className:"text-[10px] text-slate-400 font-bold",children:m.year})]},m.id)),S.length===0&&a.jsx("p",{className:"px-6 py-4 text-slate-400 font-bold italic text-sm",children:"No se encontraron correrias"})]})]})},Ih=({receptions:d=[],dispatches:c=[],references:u=[]})=>{const[o,h]=b.useState(""),y=b.useMemo(()=>{const p={};return u.forEach(v=>{p[v.id]=v.description}),p},[u]),B=b.useMemo(()=>{const p={};return d.forEach(v=>{v.items.forEach(S=>{p[S.reference]||(p[S.reference]={received:0,dispatched:0,available:0,lotsCount:0}),p[S.reference].received+=S.quantity,p[S.reference].available+=S.quantity}),new Set(v.items.map(S=>S.reference)).forEach(S=>{p[S]&&(p[S].lotsCount+=1)})}),c.forEach(v=>{v.items.forEach(C=>{p[C.reference]&&(p[C.reference].dispatched+=C.quantity,p[C.reference].available-=C.quantity)})}),p},[d,c]),_=b.useMemo(()=>Object.entries(B).filter(([p])=>!o.trim()||p.toUpperCase().includes(o.toUpperCase())).sort(([p],[v])=>p.localeCompare(v)),[B,o]);return a.jsxs("div",{className:"space-y-6 pb-20",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl sm:text-4xl font-black text-slate-800 tracking-tighter",children:"Inventario"}),a.jsx("p",{className:"text-slate-400 font-medium text-sm sm:text-base",children:"Existencias actuales por referencia"})]}),a.jsx("div",{className:"w-full sm:max-w-md",children:a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",value:o,onChange:p=>h(p.target.value),placeholder:"Buscar referencia...",className:"w-full px-6 py-4 bg-white border border-slate-200 rounded-[24px] focus:ring-4 focus:ring-blue-100 transition-all font-bold text-slate-900 shadow-sm text-sm"}),a.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-300",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})})})]})})]}),a.jsx("div",{className:"grid grid-cols-1 gap-2 sm:gap-3",children:_.length===0?a.jsx("div",{className:"bg-white p-12 sm:p-24 rounded-[32px] sm:rounded-[48px] border-2 border-dashed border-slate-200 text-center text-slate-400 font-bold italic",children:o?`No se encontraron resultados para "${o}"`:"No hay mercanca registrada en bodega"}):_.map(([p,v])=>a.jsxs("div",{className:"bg-white rounded-[20px] sm:rounded-[24px] shadow-sm border border-slate-100 overflow-hidden hover:shadow-md transition-all border-l-4 border-l-blue-500",children:[a.jsxs("div",{className:"px-4 py-1 sm:py-1.5 flex flex-col sm:flex-row sm:items-center justify-between gap-1 sm:gap-2 bg-slate-50/40",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h3",{className:"text-base sm:text-lg font-black text-slate-800 tracking-tight leading-none",children:p}),a.jsxs("span",{className:"px-1 py-0 bg-blue-100 text-blue-600 text-[6px] sm:text-[7px] font-black uppercase tracking-widest rounded leading-none",children:["Lotes: ",v.lotsCount]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsxs("div",{className:"px-2 py-1 bg-white rounded-lg shadow-xs border border-slate-100 text-center min-w-[60px]",children:[a.jsx("p",{className:"text-[5px] sm:text-[6px] font-black text-slate-400 uppercase tracking-widest mb-0 leading-none",children:"Stock"}),a.jsx("p",{className:"text-sm sm:text-base font-black text-blue-600 leading-none",children:v.available})]}),a.jsxs("div",{className:"px-2 py-1 bg-white rounded-lg shadow-xs border border-slate-100 text-center min-w-[60px]",children:[a.jsx("p",{className:"text-[5px] sm:text-[6px] font-black text-slate-400 uppercase tracking-widest mb-0 leading-none",children:"Recib."}),a.jsx("p",{className:"text-sm sm:text-base font-black text-slate-800 leading-none",children:v.received})]})]})]}),y[p]&&a.jsx("div",{className:"px-4 py-0.5 bg-white border-b border-slate-50",children:a.jsx("p",{className:"text-[10px] sm:text-xs font-medium text-slate-500 leading-tight",children:y[p]})}),a.jsx("div",{className:"px-4 py-1 sm:py-1.5 grid grid-cols-1 lg:grid-cols-12 gap-1 items-center",children:a.jsxs("div",{className:"lg:col-span-12 flex gap-1",children:[a.jsxs("div",{className:"flex-1 p-2 bg-blue-50/50 rounded text-center",children:[a.jsx("p",{className:"text-[4px] font-black text-blue-400 uppercase leading-none",children:"Ingresos"}),a.jsxs("p",{className:"text-[10px] sm:text-sm font-black text-blue-600 leading-none",children:["+",v.received]})]}),a.jsxs("div",{className:"flex-1 p-2 bg-pink-50/50 rounded text-center",children:[a.jsx("p",{className:"text-[4px] font-black text-pink-400 uppercase leading-none",children:"Despachos"}),a.jsxs("p",{className:"text-[10px] sm:text-sm font-black text-pink-600 leading-none",children:["-",v.dispatched]})]})]})})]},p))})]})};function kn(d){return d?d.role===_e.ADMIN:!1}function Sn(d){return d?d.role===_e.ADMIN:!1}const Jh={[_e.ADMIN]:{backgroundColor:"bg-pink-500",label:"Admin",show:!0},[_e.OBSERVER]:{backgroundColor:"bg-purple-500",label:"Observador",show:!0},[_e.GENERAL]:{backgroundColor:"bg-blue-500",label:"General",show:!0},[_e.DISEADORA]:{backgroundColor:"bg-green-400",label:"Diseadora",show:!0}},Kh=({role:d,className:c=""})=>{if(!d)return console.warn("RoleBadge: role prop is required"),null;const u=Jh[d];return u?u.show?a.jsx("div",{className:`absolute top-0 right-0 p-2 ${c}`,children:a.jsx("span",{className:`text-[8px] font-black ${u.backgroundColor} text-white px-3 py-1 rounded-bl-2xl uppercase tracking-widest`,children:u.label})}):null:(console.warn(`RoleBadge: Unknown role "${d}". Valid roles are: ${Object.keys(_e).join(", ")}`),null)},Es=({active:d,onClick:c,label:u})=>a.jsx("button",{onClick:c,className:`px-8 py-3 rounded-2xl text-xs font-black transition-all ${d?"bg-blue-600 text-white shadow-xl":"text-slate-400 hover:bg-slate-50"}`,children:u}),Ds=({children:d,title:c})=>a.jsxs("div",{className:"bg-white p-8 rounded-[32px] shadow-sm border border-slate-100 space-y-6",children:[a.jsx("h3",{className:"text-xl font-black text-slate-800",children:c}),d]}),no=({children:d,title:c})=>a.jsxs("div",{className:"bg-white rounded-[32px] shadow-sm border border-slate-100 overflow-hidden",children:[a.jsx("div",{className:"p-6 bg-slate-50 border-b border-slate-100 font-black text-slate-700",children:c}),d]}),ot=({label:d,value:c,onChange:u,type:o="text",className:h="",disabled:y=!1,maxLength:B})=>a.jsxs("div",{className:`space-y-1.5 ${h}`,children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-4",children:d}),a.jsx("input",{type:o,value:c||"",onChange:_=>u(_.target.value),disabled:y,maxLength:B,className:"w-full px-6 py-3.5 bg-slate-50 border-none rounded-2xl font-bold text-slate-900 focus:ring-4 focus:ring-blue-100 transition-all disabled:opacity-50"})]}),Fh=({user:d,state:c,updateState:u,onAddReference:o,onUpdateReference:h,onDeleteReference:y,onAddClient:B,onUpdateClient:_,onDeleteClient:p,onAddConfeccionista:v,onUpdateConfeccionista:C,onDeleteConfeccionista:S,onAddUser:J,onUpdateUser:H,onDeleteUser:m,onAddSeller:z,onUpdateSeller:F,onDeleteSeller:ae,onAddCorreria:ne,onUpdateCorreria:le,onDeleteCorreria:ee})=>{var pa;const[te,D]=b.useState("clients"),f=b.useRef(null),O=b.useRef(null),re=b.useRef(null),fe=Dt(1,50),P=Dt(1,50),j=Dt(1,50),Z=Dt(1,50),he=Dt(1,50),Q=Dt(1,50);Et.useEffect(()=>{fe.pagination.total=c.clients.length,fe.pagination.totalPages=Math.ceil(c.clients.length/fe.pagination.limit)},[c.clients.length,fe.pagination.limit]),Et.useEffect(()=>{P.pagination.total=(c.confeccionistas||[]).length,P.pagination.totalPages=Math.ceil((c.confeccionistas||[]).length/P.pagination.limit)},[(pa=c.confeccionistas)==null?void 0:pa.length,P.pagination.limit]),Et.useEffect(()=>{j.pagination.total=c.references.length,j.pagination.totalPages=Math.ceil(c.references.length/j.pagination.limit)},[c.references.length,j.pagination.limit]),Et.useEffect(()=>{Z.pagination.total=c.sellers.length,Z.pagination.totalPages=Math.ceil(c.sellers.length/Z.pagination.limit)},[c.sellers.length,Z.pagination.limit]),Et.useEffect(()=>{he.pagination.total=c.correrias.length,he.pagination.totalPages=Math.ceil(c.correrias.length/he.pagination.limit)},[c.correrias.length,he.pagination.limit]),Et.useEffect(()=>{Q.pagination.total=c.users.length,Q.pagination.totalPages=Math.ceil(c.users.length/Q.pagination.limit)},[c.users.length,Q.pagination.limit]);const E=d.role===_e.ADMIN,[q,N]=b.useState(""),[G,I]=b.useState(""),[g,L]=b.useState(""),[T,K]=b.useState(""),[ie,be]=b.useState(""),[oe,xe]=b.useState(""),[w,A]=b.useState(""),[V,ue]=b.useState(0),[ge,Ne]=b.useState(""),[rt,Ye]=b.useState(""),[Pe,Tt]=b.useState(0),[ye,Oe]=b.useState(""),[dt,At]=b.useState(0),[kt,Ie]=b.useState([]),[$t,pe]=b.useState(new Date().getFullYear().toString()),[Me,Ot]=b.useState(""),[$l,Ka]=b.useState(_e.GENERAL),[Yl,kl]=b.useState("NA"),[sa,St]=b.useState(""),[Yt,bt]=b.useState(!0),[Ee,zt]=b.useState(null),[at,Je]=b.useState(!1),[Fa,Wa]=b.useState(""),[Ea,ja]=b.useState(!1),[ya,Sl]=b.useState(""),[En,Da]=b.useState(!1),ct=()=>{N(""),I(""),L(""),K(""),be(""),xe(""),A(""),ue(0),Ne(""),Ye(""),Tt(0),Oe(""),At(0),pe(new Date().getFullYear().toString()),Ot(""),Ka(_e.GENERAL),kl("NA"),St(""),bt(!0),Ie([]),zt(null),Wa(""),ja(!1),Sl(""),Da(!1)};Et.useEffect(()=>{const M=me=>{const ke=me.target,Qe=ke.closest("[data-correria-dropdown]"),Rt=ke.closest("[data-seller-dropdown]");Qe||ja(!1),Rt||Da(!1)};return document.addEventListener("mousedown",M),()=>document.removeEventListener("mousedown",M)},[]);const Ms=async(M,me)=>{var Rt;const ke=(Rt=me.target.files)==null?void 0:Rt[0];if(!ke)return;const Qe=new FileReader;Qe.onload=async Qr=>{var Pa,Xl,Ra,Ma;const Ql=(Pa=Qr.target)==null?void 0:Pa.result;Je(!0);try{if(M==="clients")try{const $e=await(await fetch("/api/clients/bulk-import",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({csvContent:Ql})})).json();if($e.success){const ma=await(await fetch("/api/clients",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();ma.success&&u(el=>({...el,clients:ma.data})),alert(` ${$e.message}`)}else{const et=((Xl=$e.errors)==null?void 0:Xl.length)>0?`Errores encontrados:
${$e.errors.slice(0,5).join(`
`)}${$e.errors.length>5?`
... y ${$e.errors.length-5} errores ms`:""}`:$e.message;alert(` Error en importacin:
${et}`)}}catch(Vt){console.error("Error en carga masiva:",Vt),alert(" Error de conexin al importar clientes")}else if(M==="references")try{const $e=await(await fetch("/api/references/bulk-import",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({csvContent:Ql})})).json();if($e.success){const ma=await(await fetch("/api/references",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();ma.success&&u(el=>({...el,references:ma.data})),alert(` ${$e.message}`)}else{const et=((Ra=$e.errors)==null?void 0:Ra.length)>0?`Errores encontrados:
${$e.errors.slice(0,5).join(`
`)}${$e.errors.length>5?`
... y ${$e.errors.length-5} errores ms`:""}`:$e.message;alert(` Error en importacin:
${et}`)}}catch(Vt){console.error("Error en carga masiva:",Vt),alert(" Error de conexin al importar referencias")}else if(M==="confeccionistas")try{const $e=await(await fetch("/api/confeccionistas/bulk-import",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({csvContent:Ql})})).json();if($e.success){const ma=await(await fetch("/api/confeccionistas",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();ma.success&&u(el=>({...el,confeccionistas:ma.data})),alert(` ${$e.message}`)}else{const et=((Ma=$e.errors)==null?void 0:Ma.length)>0?`Errores encontrados:
${$e.errors.slice(0,5).join(`
`)}${$e.errors.length>5?`
... y ${$e.errors.length-5} errores ms`:""}`:$e.message;alert(` Error en importacin:
${et}`)}}catch(Vt){console.error("Error en carga masiva:",Vt),alert(" Error de conexin al importar confeccionistas")}}catch(Vt){console.error("Error en importacin:",Vt),alert("Error durante la importacin. Revisa la consola para ms detalles.")}finally{Je(!1),me.target&&(me.target.value="")}},Qe.readAsText(ke)},Dn=async()=>{if(!q||!G)return alert("ID y Nombre son obligatorios");if(!oe)return alert("Debe seleccionar un vendedor");const M={id:q,name:G,nit:g,address:T,city:ie,sellerId:oe};Je(!0);try{let me;Ee?me=await _(Ee,M):me=await B(M),me.success?(ct(),alert("Cliente guardado correctamente")):alert("Error al guardar cliente")}catch(me){console.error("Error guardando cliente:",me),alert("Error de conexin al guardar cliente")}finally{Je(!1)}},An=async()=>{if(!q||!G)return alert("Cdula y Nombre son obligatorios");const M={id:q,name:G,address:T,city:ie,phone:sa,score:Yl,active:Yt};Je(!0);try{let me;Ee?me=await C(Ee,M):me=await v(M),me.success?(ct(),alert("Confeccionista guardado correctamente")):alert("Error al guardar confeccionista")}catch(me){console.error("Error guardando confeccionista:",me),alert("Error de conexin al guardar confeccionista")}finally{Je(!1)}},Rn=async()=>{if(!E)return;if(!G)return alert("Nombre obligatorio");if(!q)return alert("Cdigo de usuario obligatorio");if(!Me)return alert("PIN obligatorio");const M=$l.toLowerCase(),me={name:G,loginCode:q,pin:Me,role:M};Je(!0);try{let ke;Ee?ke=await H(Ee,me):ke=await J(me),ke.success?(ct(),alert("Usuario guardado correctamente")):alert("Error al guardar usuario")}catch(ke){console.error("Error guardando usuario:",ke),alert("Error de conexin al guardar usuario")}finally{Je(!1)}},Ts=async()=>{if(!q||!w)return alert("Referencia y Descripcin son obligatorias");if(kt.length===0)return alert("Debe asignar al menos una correra a la referencia");const M={id:q,description:w,price:V,designer:ge,cloth1:rt,avgCloth1:Pe,cloth2:ye,avgCloth2:dt,correrias:kt};Je(!0);try{let me;Ee?me=await h(Ee,M):me=await o(M),me.success?(ct(),alert("Referencia guardada correctamente")):alert("Error al guardar referencia")}catch(me){console.error("Error guardando referencia:",me),alert("Error de conexin al guardar referencia")}finally{Je(!1)}},Os=async()=>{if(!E)return;if(!G)return alert("Nombre obligatorio");const M={id:Ee||Math.random().toString(36).substr(2,9),name:G};Je(!0);try{let me;Ee?me=await F(Ee,M):me=await z(M),me.success?(ct(),alert("Vendedor guardado correctamente")):alert("Error al guardar vendedor")}catch(me){console.error("Error guardando vendedor:",me),alert("Error de conexin al guardar vendedor")}finally{Je(!1)}},Mn=async()=>{if(!G||!$t)return alert("Nombre y Ao obligatorios");const M={id:Ee||Math.random().toString(36).substr(2,9),name:G,year:$t};Je(!0);try{let me;Ee?(me=await le(Ee,M),me.success&&u(ke=>({...ke,correrias:ke.correrias.map(Qe=>Qe.id===Ee?M:Qe)}))):(me=await ne(M),me.success&&u(ke=>({...ke,correrias:[...ke.correrias,M]}))),me.success?(ct(),alert("Correra guardada correctamente")):alert("Error al guardar correra")}catch(me){console.error("Error guardando correra:",me),alert("Error de conexin al guardar correra")}finally{Je(!1)}},Aa=async(M,me)=>{if(!(!E&&(M==="user"||M==="seller"||M==="confeccionista"||M==="correria"))&&confirm("Seguro que desea eliminar este registro?")){Je(!0);try{let ke;if(M==="client")ke=await p(me),ke!=null&&ke.success&&u(Qe=>({...Qe,clients:Qe.clients.filter(Rt=>Rt.id!==me)}));else if(M==="confeccionista")ke=await S(me),ke!=null&&ke.success&&u(Qe=>({...Qe,confeccionistas:(Qe.confeccionistas||[]).filter(Rt=>Rt.id!==me)}));else if(M==="reference")ke=await y(me),ke!=null&&ke.success&&u(Qe=>({...Qe,references:Qe.references.filter(Rt=>Rt.id!==me)}));else if(M==="seller")ke=await ae(me),ke!=null&&ke.success&&u(Qe=>({...Qe,sellers:Qe.sellers.filter(Rt=>Rt.id!==me)}));else if(M==="correria")ke=await ee(me),ke!=null&&ke.success&&u(Qe=>({...Qe,correrias:Qe.correrias.filter(Rt=>Rt.id!==me)}));else if(M==="user"){if(me===d.id){alert("No puedes eliminar tu propio usuario"),Je(!1);return}ke=await m(me),ke!=null&&ke.success&&u(Qe=>({...Qe,users:Qe.users.filter(Rt=>Rt.id!==me)}))}ke!=null&&ke.success?alert("Registro eliminado correctamente"):alert("Error al eliminar el registro")}catch(ke){console.error("Error eliminando:",ke),alert("Error de conexin al eliminar")}finally{Je(!1)}}};return a.jsxs("div",{className:"space-y-8 pb-20",children:[a.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-black text-slate-800 tracking-tighter",children:"Maestros"}),a.jsx("p",{className:"text-slate-400 font-medium",children:"Configuracin de base de datos"})]})}),a.jsxs("div",{className:"flex flex-wrap gap-2 p-1.5 bg-white rounded-3xl shadow-sm border border-slate-100 w-fit",children:[a.jsx(Es,{active:te==="clients",onClick:()=>{D("clients"),ct()},label:"Clientes"}),a.jsx(Es,{active:te==="confeccionistas",onClick:()=>{D("confeccionistas"),ct()},label:"Confeccionistas"}),a.jsx(Es,{active:te==="references",onClick:()=>{D("references"),ct()},label:"Referencias"}),a.jsx(Es,{active:te==="sellers",onClick:()=>{D("sellers"),ct()},label:"Vendedores"}),a.jsx(Es,{active:te==="correrias",onClick:()=>{D("correrias"),ct()},label:"Correras"}),a.jsx(Es,{active:te==="users",onClick:()=>{D("users"),ct()},label:"Usuarios"})]}),te==="clients"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsxs(Ds,{title:Ee?"Editar Cliente":"Nuevo Cliente",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx(ot,{label:"ID Cliente",value:q,onChange:N,disabled:!!Ee}),a.jsx(ot,{label:"NIT",value:g,onChange:L}),a.jsx(ot,{label:"Nombre del Cliente",value:G,onChange:I}),a.jsx(ot,{label:"Direccin",value:T,onChange:K}),a.jsx(ot,{label:"Ciudad",value:ie,onChange:be}),a.jsxs("div",{className:"md:col-span-2 space-y-1.5 relative","data-seller-dropdown":!0,children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-4",children:"Vendedor"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",value:ya,onChange:M=>{Sl(M.target.value),Da(!0)},onFocus:()=>Da(!0),placeholder:"Buscar o seleccionar vendedor...",className:"w-full px-6 py-3.5 bg-slate-50 border-none rounded-2xl font-bold text-slate-900 focus:ring-4 focus:ring-blue-100 transition-all"}),ya&&a.jsx("button",{onClick:()=>{Sl(""),xe("")},className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 hover:text-red-500 font-black text-xl transition-colors",children:""})]}),En&&a.jsxs("div",{className:"absolute top-full left-0 mt-2 w-full bg-white border-2 border-slate-200 rounded-2xl shadow-lg z-50 max-h-60 overflow-y-auto",children:[c.sellers.filter(M=>M.name.toLowerCase().includes(ya.toLowerCase())).map(M=>a.jsx("button",{onClick:()=>{xe(M.id),Sl(M.name),Da(!1)},className:"w-full px-6 py-3 text-left hover:bg-blue-50 transition-colors border-b border-slate-100 last:border-b-0",children:a.jsx("p",{className:"font-black text-slate-800",children:M.name})},M.id)),c.sellers.filter(M=>M.name.toLowerCase().includes(ya.toLowerCase())).length===0&&a.jsx("div",{className:"px-6 py-4 text-center text-slate-400 font-bold",children:"No se encontraron vendedores"})]})]})]}),a.jsxs("div",{className:"flex gap-4 mt-6",children:[a.jsx("button",{onClick:Dn,disabled:at,className:"px-10 py-4 bg-blue-600 text-white font-black rounded-2xl shadow-lg hover:scale-105 transition-transform disabled:opacity-50 disabled:cursor-not-allowed",children:at?"GUARDANDO...":"GUARDAR CLIENTE"}),Ee&&a.jsx("button",{onClick:ct,className:"px-6 py-4 bg-slate-100 text-slate-400 font-bold rounded-2xl",children:"CANCELAR"})]})]})}),a.jsx("div",{className:"lg:col-span-1",children:a.jsxs("div",{className:"bg-white p-8 rounded-[32px] shadow-sm border border-slate-100 space-y-4",children:[a.jsx("h3",{className:"text-xl font-black text-slate-800",children:"Importar Clientes"}),a.jsxs("p",{className:"text-[10px] font-bold text-slate-400 leading-relaxed",children:["CSV: ",a.jsx("span",{className:"text-blue-500",children:"id,name,nit,address,city,seller"})]}),a.jsxs("p",{className:"text-[9px] font-bold text-slate-500 italic mt-2",children:["Ejemplo:",a.jsx("br",{}),a.jsx("span",{className:"font-mono text-slate-600",children:"C001,Acme Inc,123456,Cra 5 #10,Bogot,Juan Prez"}),a.jsx("br",{}),a.jsx("span",{className:"font-mono text-slate-600",children:"C002,Tech Ltd,789012,Cra 7 #20,Medelln,Mara Garca"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"file",ref:f,onChange:M=>Ms("clients",M),accept:".csv",className:"hidden"}),a.jsx("button",{onClick:()=>{var M;return(M=f.current)==null?void 0:M.click()},className:"flex-1 py-4 bg-slate-50 text-slate-500 font-black rounded-2xl border-2 border-dashed border-slate-200 hover:bg-blue-50 transition-colors",children:"SUBIR CSV"}),a.jsx("a",{href:"/ejemplo_clientes.csv",download:!0,className:"flex-1 py-4 bg-blue-50 text-blue-600 font-black rounded-2xl border-2 border-blue-200 hover:bg-blue-100 transition-colors text-center",children:"DESCARGAR EJEMPLO"})]})]})})]}),a.jsxs(no,{title:"Listado de Clientes",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-slate-50/50",children:[a.jsx("th",{className:"px-8 py-4 text-[10px] font-black text-slate-400 uppercase",children:"ID"}),a.jsx("th",{className:"px-8 py-4 text-[10px] font-black text-slate-400 uppercase",children:"NIT"}),a.jsx("th",{className:"px-8 py-4 text-[10px] font-black text-slate-400 uppercase",children:"Cliente"}),a.jsx("th",{className:"px-8 py-4 text-[10px] font-black text-slate-400 uppercase",children:"Vendedor"}),a.jsx("th",{className:"px-8 py-4 text-right",children:"Accin"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:c.clients.sort((M,me)=>M.id.localeCompare(me.id)).slice((fe.pagination.page-1)*fe.pagination.limit,fe.pagination.page*fe.pagination.limit).map(M=>{const me=c.sellers.find(ke=>ke.id===M.sellerId);return a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[a.jsx("td",{className:"px-8 py-4 font-bold text-blue-500",children:M.id}),a.jsx("td",{className:"px-8 py-4 font-bold text-slate-500",children:M.nit}),a.jsx("td",{className:"px-8 py-4 font-black text-slate-800",children:M.name}),a.jsx("td",{className:"px-8 py-4 font-bold text-pink-500 uppercase text-[10px]",children:(me==null?void 0:me.name)||M.sellerId||"Sin vendedor"}),a.jsxs("td",{className:"px-8 py-4 text-right flex justify-end gap-2",children:[a.jsx("button",{disabled:!kn(d),onClick:()=>{zt(M.id),N(M.id),L(M.nit),I(M.name),K(M.address),be(M.city),xe(M.sellerId),Sl((me==null?void 0:me.name)||"")},className:"p-2.5 bg-blue-50 text-blue-600 rounded-xl disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(ve.Edit,{})}),a.jsx("button",{disabled:!Sn(d),onClick:()=>Aa("client",M.id),className:"p-2.5 bg-red-50 text-red-600 rounded-xl disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(ve.Delete,{})})]})]},M.id)})})]})}),a.jsx(Ca,{currentPage:fe.pagination.page,totalPages:fe.pagination.totalPages,pageSize:fe.pagination.limit,onPageChange:fe.goToPage,onPageSizeChange:fe.setLimit})]})]}),te==="confeccionistas"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsxs(Ds,{title:Ee?"Editar Confeccionista":"Nuevo Confeccionista",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx(ot,{label:"Cdula",value:q,onChange:N,disabled:!!Ee}),a.jsx(ot,{label:"Nombre / Razn Social",value:G,onChange:I}),a.jsx(ot,{label:"Direccin",value:T,onChange:K}),a.jsx(ot,{label:"Ciudad",value:ie,onChange:be}),a.jsx(ot,{label:"Celular",value:sa,onChange:St}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-4",children:"Puntaje"}),a.jsxs("select",{value:Yl,onChange:M=>kl(M.target.value),className:"w-full px-6 py-3.5 bg-slate-50 border-none rounded-2xl font-bold text-slate-900 focus:ring-4 focus:ring-blue-100 transition-all",children:[a.jsx("option",{value:"NA",children:"NA"}),a.jsx("option",{value:"A",children:"A"}),a.jsx("option",{value:"AA",children:"AA"}),a.jsx("option",{value:"AAA",children:"AAA"})]})]}),a.jsxs("div",{className:"space-y-1.5 md:col-span-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-4",children:"Estado Activo"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>bt(!0),className:`flex-1 py-3.5 rounded-2xl font-bold transition-all ${Yt?"bg-blue-600 text-white shadow-lg":"bg-slate-100 text-slate-400"}`,children:"S (Activo)"}),a.jsx("button",{onClick:()=>bt(!1),className:`flex-1 py-3.5 rounded-2xl font-bold transition-all ${Yt?"bg-slate-100 text-slate-400":"bg-red-500 text-white shadow-lg"}`,children:"NO (Inactivo)"})]})]})]}),a.jsxs("div",{className:"flex gap-4 mt-6",children:[a.jsx("button",{onClick:An,disabled:at,className:"px-10 py-4 bg-blue-600 text-white font-black rounded-2xl shadow-lg hover:scale-105 transition-transform disabled:opacity-50 disabled:cursor-not-allowed",children:at?"GUARDANDO...":"GUARDAR CONFECCIONISTA"}),Ee&&a.jsx("button",{onClick:ct,className:"px-6 py-4 bg-slate-100 text-slate-400 font-bold rounded-2xl",children:"CANCELAR"})]})]})}),a.jsx("div",{className:"lg:col-span-1",children:a.jsxs("div",{className:"bg-white p-8 rounded-[32px] shadow-sm border border-slate-100 space-y-4",children:[a.jsx("h3",{className:"text-xl font-black text-slate-800",children:"Importar Confeccionistas"}),a.jsxs("p",{className:"text-[10px] font-bold text-slate-400 leading-relaxed italic",children:["CSV: ",a.jsx("span",{className:"text-indigo-500 font-black",children:"id,name,address,city,phone,score,active"})]}),a.jsx("p",{className:"text-[9px] font-bold text-slate-500 italic",children:"Score: A/AA/AAA/NA | Activo: 1/0"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"file",ref:re,onChange:M=>Ms("confeccionistas",M),accept:".csv",className:"hidden"}),a.jsx("button",{onClick:()=>{var M;return(M=re.current)==null?void 0:M.click()},className:"flex-1 py-4 bg-slate-50 text-slate-500 font-black rounded-2xl border-2 border-dashed border-slate-200 hover:bg-indigo-50 transition-colors",children:"SUBIR CSV"}),a.jsx("a",{href:"/ejemplo_confeccionistas.csv",download:!0,className:"flex-1 py-4 bg-indigo-50 text-indigo-600 font-black rounded-2xl border-2 border-indigo-200 hover:bg-indigo-100 transition-colors text-center",children:"DESCARGAR EJEMPLO"})]})]})})]}),a.jsxs(no,{title:"Listado de Confeccionistas",children:[a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-slate-50/50",children:[a.jsx("th",{className:"px-8 py-4 text-[10px] font-black text-slate-400 uppercase",children:"Cdula"}),a.jsx("th",{className:"px-8 py-4 text-[10px] font-black text-slate-400 uppercase",children:"Nombre"}),a.jsx("th",{className:"px-8 py-4 text-[10px] font-black text-slate-400 uppercase",children:"Celular"}),a.jsx("th",{className:"px-8 py-4 text-[10px] font-black text-slate-400 uppercase text-center",children:"Score"}),a.jsx("th",{className:"px-8 py-4 text-[10px] font-black text-slate-400 uppercase text-center",children:"Estado"}),a.jsx("th",{className:"px-8 py-4 text-right",children:"Accin"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:(c.confeccionistas||[]).sort((M,me)=>M.name.localeCompare(me.name)).slice((P.pagination.page-1)*P.pagination.limit,P.pagination.page*P.pagination.limit).map(M=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[a.jsx("td",{className:"px-8 py-4 font-bold text-slate-400",children:M.id}),a.jsx("td",{className:"px-8 py-4 font-black text-slate-800",children:M.name}),a.jsx("td",{className:"px-8 py-4 font-bold text-slate-600",children:M.phone}),a.jsx("td",{className:"px-8 py-4 text-center font-black text-blue-600",children:M.score}),a.jsx("td",{className:"px-8 py-4 text-center",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-widest ${M.active?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:M.active?"Activo":"Inactivo"})}),a.jsxs("td",{className:"px-8 py-4 text-right flex justify-end gap-2",children:[a.jsx("button",{disabled:!kn(d),onClick:()=>{zt(M.id),N(M.id),I(M.name),K(M.address),be(M.city),St(M.phone),kl(M.score),bt(M.active)},className:"p-2.5 bg-blue-50 text-blue-600 rounded-xl disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(ve.Edit,{})}),a.jsx("button",{disabled:!Sn(d),onClick:()=>Aa("confeccionista",M.id),className:"p-2.5 bg-red-50 text-red-600 rounded-xl disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(ve.Delete,{})})]})]},M.id))})]}),a.jsx(Ca,{currentPage:P.pagination.page,totalPages:P.pagination.totalPages,pageSize:P.pagination.limit,onPageChange:P.goToPage,onPageSizeChange:P.setLimit})]})]}),te==="references"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsxs(Ds,{title:Ee?"Editar Referencia":"Nueva Referencia",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsx(ot,{label:"Referencia",value:q,onChange:N,disabled:!!Ee}),a.jsx(ot,{label:"Descripcin",value:w,onChange:A,className:"md:col-span-3"}),a.jsx(ot,{label:"Precio Venta",type:"number",value:V,onChange:M=>ue(Number(M))}),a.jsx(ot,{label:"Diseadora",value:ge,onChange:Ne}),a.jsx(ot,{label:"Tela 1",value:rt,onChange:Ye}),a.jsx(ot,{label:"Prom. Tela 1",type:"number",value:Pe,onChange:M=>Tt(Number(M))}),a.jsx(ot,{label:"Tela 2",value:ye,onChange:Oe}),a.jsx(ot,{label:"Prom. Tela 2",type:"number",value:dt,onChange:M=>At(Number(M))}),a.jsxs("div",{className:"md:col-span-4 space-y-3",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-4",children:"Correras (Maleta) *"}),a.jsxs("div",{className:"relative","data-correria-dropdown":!0,children:[a.jsx("input",{type:"text",value:Fa,onChange:M=>{Wa(M.target.value),ja(!0)},onFocus:()=>ja(!0),placeholder:"Buscar correra (ej: Mad, Navidad)...",className:"w-full px-6 py-3.5 bg-slate-50 border-2 border-slate-200 rounded-2xl font-bold text-slate-900 focus:ring-4 focus:ring-blue-100 focus:border-blue-300 transition-all placeholder:text-slate-300"}),Ea&&a.jsxs("div",{className:"absolute top-full left-0 mt-2 w-full bg-white border-2 border-slate-200 rounded-2xl shadow-lg z-50 max-h-60 overflow-y-auto",children:[c.correrias.filter(M=>`${M.name} ${M.year}`.toLowerCase().includes(Fa.toLowerCase())).map(M=>a.jsxs("button",{onClick:()=>{kt.includes(M.id)||Ie([...kt,M.id]),Wa(""),ja(!1)},className:"w-full px-6 py-3 text-left hover:bg-blue-50 transition-colors border-b border-slate-100 last:border-b-0 flex items-center justify-between group",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-black text-slate-800",children:M.name}),a.jsx("p",{className:"text-[10px] font-bold text-slate-400",children:M.year})]}),kt.includes(M.id)&&a.jsx("span",{className:"text-blue-600 font-black",children:""})]},M.id)),c.correrias.filter(M=>`${M.name} ${M.year}`.toLowerCase().includes(Fa.toLowerCase())).length===0&&a.jsx("div",{className:"px-6 py-4 text-center text-slate-400 font-bold",children:"No se encontraron correras"})]})]}),a.jsx("div",{className:"bg-blue-50 p-4 rounded-2xl border-2 border-blue-200 min-h-[60px]",children:kt.length>0?a.jsx("div",{className:"flex flex-wrap gap-2",children:kt.map(M=>{const me=c.correrias.find(ke=>ke.id===M);return me?a.jsxs("div",{className:"flex items-center gap-2 bg-white px-4 py-2 rounded-xl border-2 border-blue-300 shadow-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-black text-xs text-slate-800",children:me.name}),a.jsx("p",{className:"text-[9px] font-bold text-slate-400",children:me.year})]}),a.jsx("button",{onClick:()=>{Ie(kt.filter(ke=>ke!==M))},className:"ml-2 text-red-500 hover:text-red-700 font-black text-lg leading-none hover:bg-red-50 rounded-full w-6 h-6 flex items-center justify-center transition-colors",children:""})]},M):null})}):a.jsx("p",{className:"text-xs text-red-500 font-bold text-center",children:" Debe seleccionar al menos una correra"})})]})]}),a.jsxs("div",{className:"flex gap-4 mt-6",children:[a.jsx("button",{onClick:Ts,disabled:at,className:"px-10 py-4 bg-blue-600 text-white font-black rounded-2xl shadow-lg hover:scale-105 transition-transform disabled:opacity-50 disabled:cursor-not-allowed",children:at?"GUARDANDO...":"GUARDAR REFERENCIA"}),Ee&&a.jsx("button",{onClick:ct,className:"px-6 py-4 bg-slate-100 text-slate-400 font-bold rounded-2xl",children:"CANCELAR"})]})]})}),a.jsx("div",{className:"lg:col-span-1",children:a.jsxs("div",{className:"bg-white p-8 rounded-[32px] shadow-sm border border-slate-100 space-y-4",children:[a.jsx("h3",{className:"text-xl font-black text-slate-800",children:"Importar Referencias"}),a.jsxs("p",{className:"text-[10px] font-bold text-slate-400 leading-relaxed",children:["CSV: ",a.jsx("span",{className:"text-indigo-500",children:"id,description,price,designer,cloth1,avgCloth1,cloth2,avgCloth2,correrias"})]}),a.jsx("p",{className:"text-[9px] font-bold text-slate-500 italic mt-1",children:"Correras separadas por | (ej: Madres2026|Padres2026|Navidad2026)"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"file",ref:O,onChange:M=>Ms("references",M),accept:".csv",className:"hidden"}),a.jsx("button",{onClick:()=>{var M;return(M=O.current)==null?void 0:M.click()},className:"flex-1 py-4 bg-slate-50 text-slate-500 font-black rounded-2xl border-2 border-dashed border-slate-200 hover:bg-indigo-50 transition-colors",children:"SUBIR CSV"}),a.jsx("a",{href:"/ejemplo_referencias.csv",download:!0,className:"flex-1 py-4 bg-indigo-50 text-indigo-600 font-black rounded-2xl border-2 border-indigo-200 hover:bg-indigo-100 transition-colors text-center",children:"DESCARGAR EJEMPLO"})]})]})})]}),a.jsxs(no,{title:"Listado de Referencias",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left min-w-[800px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-slate-50/50",children:[a.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase",children:"Ref"}),a.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase",children:"Descripcin"}),a.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase",children:"Precio"}),a.jsx("th",{className:"px-6 py-4 text-[10px] font-black text-slate-400 uppercase",children:"Telas / Prom"}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Accin"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:c.references.sort((M,me)=>M.id.localeCompare(me.id)).slice((j.pagination.page-1)*j.pagination.limit,j.pagination.page*j.pagination.limit).map(M=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4 font-black text-indigo-600",children:M.id}),a.jsx("td",{className:"px-6 py-4 font-black text-slate-900",children:M.description}),a.jsxs("td",{className:"px-6 py-4 font-bold text-slate-400",children:["$",M.price.toLocaleString()]}),a.jsxs("td",{className:"px-6 py-4 text-[10px] space-y-1",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("span",{className:"font-black text-slate-700",children:[M.cloth1,":"]})," ",a.jsx("span",{children:M.avgCloth1})]}),M.cloth2&&a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("span",{className:"font-black text-slate-700",children:[M.cloth2,":"]})," ",a.jsx("span",{children:M.avgCloth2})]})]}),a.jsxs("td",{className:"px-6 py-4 text-right flex justify-end gap-2",children:[a.jsx("button",{disabled:!kn(d),onClick:()=>{zt(M.id),N(M.id),A(M.description),ue(M.price),Ne(M.designer),Ye(M.cloth1||""),Tt(M.avgCloth1||0),Oe(M.cloth2||""),At(M.avgCloth2||0),Ie(M.correrias||[])},className:"p-2.5 bg-indigo-50 text-indigo-600 rounded-xl disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(ve.Edit,{})}),a.jsx("button",{disabled:!Sn(d),onClick:()=>Aa("reference",M.id),className:"p-2.5 bg-red-50 text-red-600 rounded-xl disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(ve.Delete,{})})]})]},M.id))})]})}),a.jsx(Ca,{currentPage:j.pagination.page,totalPages:j.pagination.totalPages,pageSize:j.pagination.limit,onPageChange:j.goToPage,onPageSizeChange:j.setLimit})]})]}),te==="sellers"&&a.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[E?a.jsx(Ds,{title:Ee?"Editar Vendedor":"Nuevo Vendedor",children:a.jsxs("div",{className:"max-w-md space-y-4",children:[a.jsx(ot,{label:"Nombre del Vendedor",value:G,onChange:I}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:Os,disabled:at,className:"px-10 py-4 bg-blue-600 text-white font-black rounded-2xl shadow-lg hover:scale-105 transition-transform disabled:opacity-50 disabled:cursor-not-allowed",children:at?"GUARDANDO...":"GUARDAR VENDEDOR"}),Ee&&a.jsx("button",{onClick:ct,className:"px-6 py-4 bg-slate-100 text-slate-400 font-bold rounded-2xl",children:"CANCELAR"})]})]})}):a.jsxs("div",{className:"bg-amber-50 border border-amber-200 p-6 rounded-3xl flex items-center gap-4 text-amber-700 font-bold",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m0-10.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.75c0 5.592 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.57-.598-3.75h-.152c-3.196 0-6.1-1.249-8.25-3.286zm0 13.036h.008v.008H12v-.008z"})}),"Se requiere acceso de administrador para crear o editar vendedores."]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:c.sellers.map(M=>a.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 flex items-center justify-between shadow-sm",children:[a.jsx("p",{className:"font-black text-slate-800",children:M.name}),E&&a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{disabled:!kn(d),onClick:()=>{zt(M.id),I(M.name)},className:"p-2 text-pink-400 hover:bg-pink-50 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(ve.Edit,{})}),a.jsx("button",{disabled:!Sn(d),onClick:()=>Aa("seller",M.id),className:"p-2 text-red-400 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(ve.Delete,{})})]})]},M.id))})]}),te==="correrias"&&a.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[E?a.jsxs(Ds,{title:Ee?"Editar Correra":"Nueva Correra",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 max-w-xl",children:[a.jsx(ot,{label:"Nombre de Campaa",value:G,onChange:I}),a.jsx(ot,{label:"Ao",value:$t,onChange:pe,type:"number"})]}),a.jsxs("div",{className:"flex gap-4 mt-6",children:[a.jsx("button",{onClick:Mn,disabled:at,className:"px-10 py-4 bg-blue-600 text-white font-black rounded-2xl shadow-lg hover:scale-105 transition-transform disabled:opacity-50 disabled:cursor-not-allowed",children:at?"GUARDANDO...":"GUARDAR CORRERA"}),Ee&&a.jsx("button",{onClick:ct,className:"px-6 py-4 bg-slate-100 text-slate-400 font-bold rounded-2xl",children:"CANCELAR"})]})]}):a.jsxs("div",{className:"bg-amber-50 border border-amber-200 p-6 rounded-3xl flex items-center gap-4 text-amber-700 font-bold",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m0-10.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.75c0 5.592 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.57-.598-3.75h-.152c-3.196 0-6.1-1.249-8.25-3.286zm0 13.036h.008v.008H12v-.008z"})}),"Se requiere acceso de administrador para crear o editar correras."]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:c.correrias.sort((M,me)=>me.year.localeCompare(M.year)).map(M=>a.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 flex items-center justify-between shadow-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest",children:M.year}),a.jsx("p",{className:"font-black text-slate-800",children:M.name})]}),E&&a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{disabled:!kn(d),onClick:()=>{zt(M.id),I(M.name),pe(M.year)},className:"p-2 text-blue-400 hover:bg-blue-50 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(ve.Edit,{})}),a.jsx("button",{disabled:!Sn(d),onClick:()=>Aa("correria",M.id),className:"p-2 text-red-400 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(ve.Delete,{})})]})]},M.id))})]}),te==="users"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[E?a.jsxs(Ds,{title:Ee?"Editar Usuario":"Nuevo Usuario",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx(ot,{label:"Nombre del Usuario",value:G,onChange:I}),a.jsx(ot,{label:"Cdigo (3 Letras)",value:q,onChange:N,maxLength:3,disabled:!!Ee}),a.jsx(ot,{label:"PIN (4 Nmeros)",value:Me,onChange:Ot,maxLength:4,type:"password"}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-4",children:"Rol del Usuario"}),a.jsxs("select",{value:$l,onChange:M=>Ka(M.target.value),className:"w-full px-6 py-3.5 bg-slate-50 border-none rounded-2xl font-bold text-slate-900 focus:ring-4 focus:ring-blue-100 transition-all",children:[a.jsx("option",{value:_e.GENERAL,children:"General"}),a.jsx("option",{value:_e.OBSERVER,children:"Observador"}),a.jsx("option",{value:_e.DISEADORA,children:"Diseadora"}),a.jsx("option",{value:_e.ADMIN,children:"Administrador"})]})]})]}),a.jsxs("div",{className:"flex gap-4 mt-6",children:[a.jsx("button",{onClick:Rn,disabled:at,className:"px-10 py-4 bg-blue-600 text-white font-black rounded-2xl shadow-lg hover:scale-105 transition-transform disabled:opacity-50 disabled:cursor-not-allowed",children:at?"GUARDANDO...":"GUARDAR USUARIO"}),Ee&&a.jsx("button",{onClick:ct,className:"px-6 py-4 bg-slate-100 text-slate-400 font-bold rounded-2xl",children:"CANCELAR"})]})]}):a.jsxs("div",{className:"bg-amber-50 border border-amber-200 p-6 rounded-3xl flex items-center gap-4 text-amber-700 font-bold",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m0-10.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.75c0 5.592 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.57-.598-3.75h-.152c-3.196 0-6.1-1.249-8.25-3.286zm0 13.036h.008v.008H12v-.008z"})}),"Solo los admins pueden crear o editar usuarios"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:c.users.slice((Q.pagination.page-1)*Q.pagination.limit,Q.pagination.page*Q.pagination.limit).map(M=>a.jsxs("div",{className:"bg-white p-8 rounded-[40px] border border-slate-100 flex flex-col items-center text-center space-y-4 shadow-sm hover:shadow-md transition-shadow relative overflow-hidden",children:[a.jsx(Kh,{role:M.role}),a.jsx("div",{className:`w-16 h-16 rounded-3xl flex items-center justify-center text-white font-black text-xl shadow-inner ${M.role===_e.ADMIN?"bg-gradient-to-br from-pink-500 to-pink-400":M.role===_e.OBSERVER?"bg-gradient-to-br from-purple-500 to-purple-400":M.role===_e.DISEADORA?"bg-gradient-to-br from-green-400 to-green-300":"bg-gradient-to-br from-blue-500 to-blue-400"}`,children:M.loginCode}),a.jsxs("div",{children:[a.jsx("p",{className:"font-black text-slate-800 text-lg leading-none mb-1",children:M.name}),a.jsx("p",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest",children:"PIN: ****"})]}),E&&a.jsxs("div",{className:"flex gap-3 w-full pt-4 border-t border-slate-50",children:[a.jsx("button",{onClick:()=>{zt(M.id),I(M.name),N(M.loginCode),Ot(M.pin),Ka(M.role)},className:"flex-1 py-2 bg-blue-50 text-blue-600 font-black rounded-xl text-[10px] uppercase tracking-widest hover:bg-blue-100 transition-colors",children:"Editar"}),M.id!==d.id&&a.jsx("button",{onClick:()=>Aa("user",M.id),className:"p-2 bg-red-50 text-red-600 rounded-xl hover:bg-red-100 transition-colors",children:a.jsx(ve.Delete,{})})]})]},M.id))}),a.jsx(Ca,{currentPage:Q.pagination.page,totalPages:Q.pagination.totalPages,pageSize:Q.pagination.limit,onPageChange:Q.goToPage,onPageSizeChange:Q.setLimit})]})]})},Wh=({user:d,state:c})=>{const[u,o]=b.useState("kardex"),[h,y]=b.useState(""),[B,_]=b.useState(""),[p,v]=b.useState(""),[C,S]=b.useState("active"),[J,H]=b.useState("global");Dt(1,50),Dt(1,50),Dt(1,50),Dt(1,50),Dt(1,50),Dt(1,50);const m=b.useMemo(()=>{const D={};return c.receptions.forEach(f=>{const O=new Set;f.items.forEach(re=>{D[re.reference]||(D[re.reference]={in:0,out:0,av:0,lots:0}),D[re.reference].in+=re.quantity,D[re.reference].av+=re.quantity,O.add(re.reference)}),O.forEach(re=>{D[re]&&(D[re].lots+=1)})}),c.dispatches.forEach(f=>f.items.forEach(O=>{D[O.reference]||(D[O.reference]={in:0,out:0,av:0,lots:0}),D[O.reference].out+=O.quantity,D[O.reference].av-=O.quantity})),D},[c.receptions,c.dispatches]),z=(D,f,O)=>{const re=[f.join(";"),...O.map(Z=>Z.join(";"))].join(`
`),fe=new Blob([re],{type:"text/csv;charset=utf-8;"}),P=document.createElement("a"),j=URL.createObjectURL(fe);P.setAttribute("href",j),P.setAttribute("download",`${D}_${new Date().toLocaleDateString()}.csv`),P.style.visibility="hidden",document.body.appendChild(P),P.click(),document.body.removeChild(P)},F=()=>{const D=Object.entries(m).sort((f,O)=>f[0].localeCompare(O[0]));return a.jsxs("div",{className:"bg-white rounded-[40px] shadow-sm border border-slate-100 overflow-hidden animate-in fade-in",children:[a.jsxs("div",{className:"p-10 bg-blue-50 border-b border-slate-100 flex justify-between items-center",children:[a.jsx("h3",{className:"text-2xl font-black text-blue-900 tracking-tighter",children:"Kardex Global"}),a.jsx("button",{onClick:()=>z("Kardex",["Referencia","Lotes","Entradas","Salidas","Stock"],D.map(([f,O])=>[f,O.lots.toString(),O.in.toString(),O.out.toString(),O.av.toString()])),className:"px-4 py-2 bg-white text-blue-600 rounded-xl font-bold text-[10px] uppercase shadow-sm border border-blue-100",children:"Excel (CSV)"})]}),a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-slate-50",children:[a.jsx("th",{className:"px-10 py-6 text-[10px] font-black uppercase text-slate-700",children:"Referencia"}),a.jsx("th",{className:"px-6 py-6 text-center text-[10px] font-black uppercase text-slate-700",children:"Lots"}),a.jsx("th",{className:"px-10 py-6 text-right text-[10px] font-black uppercase text-slate-700",children:"Entradas"}),a.jsx("th",{className:"px-10 py-6 text-right text-[10px] font-black uppercase text-slate-700",children:"Salidas"}),a.jsx("th",{className:"px-10 py-6 text-right text-[10px] font-black uppercase text-slate-700",children:"Stock"})]})}),a.jsx("tbody",{children:D.map(([f,O])=>a.jsxs("tr",{className:"hover:bg-slate-50 border-b border-slate-50 last:border-0",children:[a.jsx("td",{className:"px-10 py-6 font-black text-slate-800",children:f}),a.jsx("td",{className:"px-6 py-6 text-center font-bold text-slate-600",children:O.lots}),a.jsx("td",{className:"px-10 py-6 text-right font-bold text-slate-500",children:O.in}),a.jsx("td",{className:"px-10 py-6 text-right font-bold text-pink-400",children:O.out}),a.jsx("td",{className:"px-10 py-6 text-right",children:a.jsx("span",{className:"px-4 py-1.5 bg-blue-100 text-blue-600 font-black rounded-xl",children:O.av})})]},f))})]})]})},ae=()=>{let D=c.references.sort((f,O)=>f.id.localeCompare(O.id));return h&&(D=D.filter(f=>f.id.includes(h.toUpperCase()))),a.jsx("div",{className:"space-y-6",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:D.map(f=>{const O=m[f.id]||{in:0,out:0};return a.jsxs("div",{className:"bg-white p-8 rounded-[32px] border border-slate-100 shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("h4",{className:"text-2xl font-black text-indigo-600 tracking-tighter",children:f.id}),a.jsx("span",{className:"text-[9px] font-black bg-slate-50 px-3 py-1 rounded-full uppercase text-slate-400",children:f.designer})]}),a.jsx("p",{className:"text-xs font-bold text-slate-600 mb-6 uppercase",children:f.description}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl",children:[a.jsx("p",{className:"text-[8px] font-black text-slate-400 uppercase mb-1",children:"Entradas"}),a.jsx("p",{className:"font-black text-slate-800",children:O.in})]}),a.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl",children:[a.jsx("p",{className:"text-[8px] font-black text-slate-400 uppercase mb-1",children:"Salidas"}),a.jsx("p",{className:"font-black text-pink-500",children:O.out})]})]})]},f.id)})})})},ne=()=>{let D=(c.confeccionistas||[]).sort((f,O)=>f.name.localeCompare(O.name));return C==="active"&&(D=D.filter(f=>f.active)),a.jsxs("div",{className:"bg-white rounded-[40px] shadow-sm border border-slate-100 overflow-hidden animate-in fade-in",children:[a.jsxs("div",{className:"p-10 bg-indigo-50 border-b border-slate-100 flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-indigo-900 tracking-tighter",children:"Maestro de Confeccionistas"}),a.jsxs("p",{className:"text-indigo-400 text-xs font-bold uppercase mt-1",children:["Total listados: ",D.length]})]}),a.jsx("button",{onClick:()=>z("Confeccionistas",["Cdula","Nombre","Direccin","Ciudad","Celular","Score","Activo"],D.map(f=>[f.id,f.name,f.address,f.city,f.phone,f.score,f.active?"S":"NO"])),className:"px-6 py-3 bg-indigo-600 text-white rounded-2xl font-black text-[10px] uppercase shadow-lg shadow-indigo-100 hover:scale-105 transition-transform",children:"Descargar Excel"})]}),a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-slate-50",children:[a.jsx("th",{className:"px-10 py-6 text-[10px] font-black uppercase text-slate-700",children:"Cdula"}),a.jsx("th",{className:"px-10 py-6 text-[10px] font-black uppercase text-slate-700",children:"Nombre"}),a.jsx("th",{className:"px-6 py-6 text-[10px] font-black uppercase text-slate-700",children:"Celular"}),a.jsx("th",{className:"px-6 py-6 text-center text-[10px] font-black uppercase text-slate-700",children:"Puntaje"}),a.jsx("th",{className:"px-10 py-6 text-center text-[10px] font-black uppercase text-slate-700",children:"Estado"})]})}),a.jsx("tbody",{children:D.map(f=>a.jsxs("tr",{className:"hover:bg-slate-50 border-b border-slate-50 last:border-0",children:[a.jsx("td",{className:"px-10 py-6 font-bold text-slate-500",children:f.id}),a.jsx("td",{className:"px-10 py-6 font-black text-slate-800",children:f.name}),a.jsx("td",{className:"px-6 py-6 font-bold text-slate-600",children:f.phone||"-"}),a.jsx("td",{className:"px-6 py-6 text-center font-black text-blue-600",children:f.score}),a.jsx("td",{className:"px-10 py-6 text-center",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-widest ${f.active?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:f.active?"Activo":"Inactivo"})})]},f.id))})]})]})},le=()=>{const D=(c.confeccionistas||[]).map(f=>{const O=c.receptions.filter(P=>P.confeccionista===f.name),re=O.reduce((P,j)=>P+j.items.reduce((Z,he)=>Z+he.quantity,0),0),fe=O.length;return{...f,units:re,batches:fe}}).filter(f=>f.units>0).sort((f,O)=>O.units-f.units);return a.jsxs("div",{className:"bg-white rounded-[40px] shadow-sm border border-slate-100 overflow-hidden animate-in fade-in",children:[a.jsxs("div",{className:"p-10 bg-pink-50 border-b border-slate-100 flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-pink-900 tracking-tighter",children:"Produccin por Taller"}),a.jsx("p",{className:"text-pink-400 text-xs font-bold uppercase mt-1",children:"Resumen de ingresos histricos"})]}),a.jsx("button",{onClick:()=>z("Produccion_Por_Taller",["Taller","Lotes Recibidos","Unidades Totales"],D.map(f=>[f.name,f.batches.toString(),f.units.toString()])),className:"px-6 py-3 bg-pink-600 text-white rounded-2xl font-black text-[10px] uppercase shadow-lg shadow-pink-100",children:"Exportar Excel"})]}),a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-slate-50",children:[a.jsx("th",{className:"px-10 py-6 text-[10px] font-black uppercase text-slate-700",children:"Taller / Confeccionista"}),a.jsx("th",{className:"px-10 py-6 text-center text-[10px] font-black uppercase text-slate-700",children:"Lotes"}),a.jsx("th",{className:"px-10 py-6 text-right text-[10px] font-black uppercase text-slate-700",children:"Unidades Recibidas"})]})}),a.jsx("tbody",{children:D.map(f=>a.jsxs("tr",{className:"hover:bg-slate-50 border-b border-slate-50 last:border-0",children:[a.jsx("td",{className:"px-10 py-6 font-black text-slate-800",children:f.name}),a.jsx("td",{className:"px-10 py-6 text-center font-bold text-slate-500",children:f.batches}),a.jsx("td",{className:"px-10 py-6 text-right",children:a.jsx("span",{className:"px-4 py-1.5 bg-pink-100 text-pink-600 font-black rounded-xl",children:f.units.toLocaleString()})})]},f.id))})]})]})},ee=()=>{let D=c.clients.sort((f,O)=>f.id.localeCompare(O.id));return B&&(D=D.filter(f=>f.id.includes(B.toUpperCase())||f.name.toUpperCase().includes(B.toUpperCase()))),a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex justify-end bg-white p-4 rounded-3xl border mb-6",children:a.jsxs("select",{value:J,onChange:f=>H(f.target.value),className:"bg-transparent border-none text-xs font-black",children:[a.jsx("option",{value:"global",children:"Histrico Global"}),c.correrias.map(f=>a.jsxs("option",{value:f.id,children:[f.name," ",f.year]},f.id))]})}),a.jsx("div",{className:"grid grid-cols-1 gap-4",children:D.map(f=>{const O=c.orders.filter(j=>j.clientId===f.id&&(J==="global"||j.correriaId===J)),re=c.dispatches.filter(j=>j.clientId===f.id&&J==="global"),fe=O.reduce((j,Z)=>j+Z.items.reduce((he,Q)=>he+Q.quantity,0),0),P=re.reduce((j,Z)=>j+Z.items.reduce((he,Q)=>he+Q.quantity,0),0);return a.jsxs("div",{className:"bg-white p-6 rounded-[24px] border border-slate-100 flex flex-col md:flex-row justify-between items-center gap-6 shadow-sm",children:[a.jsxs("div",{children:[a.jsx("h5",{className:"text-xl font-black text-slate-800 leading-none",children:f.name}),a.jsxs("p",{className:"text-[10px] font-bold text-slate-600 mt-2",children:["ID: ",f.id,"  VENDEDOR: ",a.jsx("span",{className:"text-pink-500 uppercase",children:f.seller})]})]}),a.jsxs("div",{className:"flex gap-8 text-center",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[8px] font-black text-slate-400 uppercase mb-1",children:"Pedidas"}),a.jsx("p",{className:"text-xl font-black text-blue-600",children:fe})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[8px] font-black text-slate-400 uppercase mb-1",children:"Despachadas"}),a.jsx("p",{className:"text-xl font-black text-pink-600",children:P})]}),a.jsxs("div",{className:"border-l pl-8",children:[a.jsx("p",{className:"text-[8px] font-black text-slate-400 uppercase mb-1",children:"Pendientes"}),a.jsx("p",{className:"text-xl font-black text-red-500",children:Math.max(0,fe-P)})]})]})]},f.id)})})]})},te=()=>{let D=Array.from(new Set(c.clients.map(f=>f.seller))).sort();return p&&(D=D.filter(f=>f.toUpperCase().includes(p.toUpperCase()))),a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex justify-end bg-white p-4 rounded-3xl border mb-6",children:a.jsxs("select",{value:J,onChange:f=>H(f.target.value),className:"bg-transparent border-none text-xs font-black",children:[a.jsx("option",{value:"global",children:"Histrico Global"}),c.correrias.map(f=>a.jsxs("option",{value:f.id,children:[f.name," ",f.year]},f.id))]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:D.map(f=>{const O=c.orders.filter(P=>{var j;return P.sellerId===((j=c.sellers.find(Z=>Z.name===f))==null?void 0:j.id)&&(J==="global"||P.correriaId===J)}),re=O.reduce((P,j)=>P+j.items.reduce((Z,he)=>Z+he.quantity,0),0),fe=O.reduce((P,j)=>P+j.totalValue,0);return a.jsxs("div",{className:"bg-white p-8 rounded-[32px] border border-slate-100 shadow-sm flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-indigo-400 uppercase tracking-widest",children:"Vendedor"}),a.jsx("h5",{className:"text-2xl font-black text-slate-800",children:f})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-2xl font-black text-indigo-600",children:["$",fe.toLocaleString()]}),a.jsxs("p",{className:"text-[10px] font-black text-slate-600 uppercase",children:[re," Unidades"]})]})]},f)})})]})};return a.jsxs("div",{className:"space-y-8 pb-20",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 no-print",children:[a.jsx("h2",{className:"text-4xl font-black text-slate-800 tracking-tighter",children:"Reportes"}),a.jsx("div",{className:"flex gap-2",children:a.jsx("button",{onClick:()=>window.print(),className:"px-6 py-3 bg-blue-600 text-white font-bold rounded-2xl text-[10px] uppercase",children:"Imprimir / PDF"})})]}),a.jsxs("div",{className:"flex flex-wrap gap-4 no-print items-center",children:[a.jsxs("div",{className:"flex gap-2 p-1 bg-white rounded-2xl border shadow-sm",children:[a.jsx(As,{active:u==="kardex",onClick:()=>o("kardex"),label:"Kardex"}),a.jsx(As,{active:u==="ref",onClick:()=>o("ref"),label:"Referencias"}),a.jsx(As,{active:u==="client",onClick:()=>o("client"),label:"Clientes"}),a.jsx(As,{active:u==="seller",onClick:()=>o("seller"),label:"Vendedores"}),a.jsx(As,{active:u==="conf",onClick:()=>o("conf"),label:"Confeccionistas"}),a.jsx(As,{active:u==="prod_conf",onClick:()=>o("prod_conf"),label:"Taller (Prod)"})]}),u==="ref"&&a.jsx("input",{value:h,onChange:D=>y(D.target.value),placeholder:"Ref...",className:"px-4 py-2 bg-white border rounded-xl text-xs font-bold"}),u==="client"&&a.jsx("input",{value:B,onChange:D=>_(D.target.value),placeholder:"Cliente ID/Nombre...",className:"px-4 py-2 bg-white border rounded-xl text-xs font-bold"}),u==="seller"&&a.jsx("input",{value:p,onChange:D=>v(D.target.value),placeholder:"Vendedor...",className:"px-4 py-2 bg-white border rounded-xl text-xs font-bold"}),u==="conf"&&a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>S("all"),className:`px-4 py-2 text-[10px] font-black rounded-xl border transition-all ${C==="all"?"bg-indigo-600 text-white":"bg-white text-slate-400"}`,children:"TODOS"}),a.jsx("button",{onClick:()=>S("active"),className:`px-4 py-2 text-[10px] font-black rounded-xl border transition-all ${C==="active"?"bg-green-600 text-white":"bg-white text-slate-400"}`,children:"SLO ACTIVOS"})]})]}),a.jsxs("div",{className:"mt-4",children:[u==="kardex"&&F(),u==="ref"&&ae(),u==="client"&&ee(),u==="seller"&&te(),u==="conf"&&ne(),u==="prod_conf"&&le()]})]})},As=({active:d,onClick:c,label:u})=>a.jsx("button",{onClick:c,className:`px-6 py-2 rounded-xl text-[10px] font-black transition-all ${d?"bg-indigo-600 text-white shadow-md":"text-slate-500 hover:bg-slate-50"}`,children:u}),Ph=({user:d,state:c,updateState:u,onUnsavedChanges:o})=>{var E,q;const[h,y]=b.useState(((E=c.correrias[0])==null?void 0:E.id)||""),[B,_]=b.useState(""),[p,v]=b.useState(!1),[C,S]=b.useState(""),[J,H]=b.useState(!1),[m,z]=b.useState({}),[F,ae]=b.useState(null),[ne,le]=b.useState({}),[ee,te]=b.useState({}),[D,f]=b.useState([]),[O,re]=b.useState(!1),fe=b.useRef(!1),P=(d==null?void 0:d.role)===_e.ADMIN||(d==null?void 0:d.role)==="admin";b.useEffect(()=>{const N=c.productionTracking.filter(G=>G.correriaId===h);f(N),fe.current=!1,o&&o(!1)},[h]),b.useEffect(()=>{if(c.productionTracking.length>0){const N=c.productionTracking.filter(G=>G.correriaId===h);D.length===0&&f(N)}},[]),b.useEffect(()=>{const N=G=>{fe.current&&(G.preventDefault(),G.returnValue="")};return window.addEventListener("beforeunload",N),()=>{window.removeEventListener("beforeunload",N)}},[]),b.useEffect(()=>{const N=G=>{G.target.closest("[data-filter-menu]")||ae(null)};if(F){const G=setTimeout(()=>{document.addEventListener("click",N)},0);return()=>{clearTimeout(G),document.removeEventListener("click",N)}}},[F]);const j=b.useMemo(()=>{var G,I,g,L,T,K,ie,be,oe,xe,w,A,V,ue,ge,Ne,rt,Ye,Pe,Tt,ye,Oe,dt,At,kt,Ie,$t;if(!h)return[];let N=c.references.filter(pe=>pe.correrias.includes(h)).map(pe=>{const Me=c.orders.filter(Ee=>Ee.correriaId===h),Ot=Me.reduce((Ee,zt)=>{const at=zt.items.find(Je=>Je.reference===pe.id);return Ee+((at==null?void 0:at.quantity)||0)},0),$l=new Set(Me.filter(Ee=>Ee.items.some(zt=>zt.reference===pe.id)).map(Ee=>Ee.clientId)),Ka=c.receptions.reduce((Ee,zt)=>Ee+zt.items.filter(at=>at.reference===pe.id).reduce((at,Je)=>at+Je.quantity,0),0),Yl=c.dispatches.reduce((Ee,zt)=>Ee+zt.items.filter(at=>at.reference===pe.id).reduce((at,Je)=>at+Je.quantity,0),0),kl=Ka-Yl,sa=c.productionTracking.find(Ee=>Ee.refId===pe.id&&Ee.correriaId===h)||{programmed:0,cut:0},St=Ot-sa.cut,Yt=(pe.avgCloth1||0)*Ot,bt=(pe.avgCloth2||0)*Ot;return{...pe,totalSold:Ot,stock:kl,programmed:sa.programmed,cut:sa.cut,pending:Math.max(0,St),clientCount:$l.size,totalCloth1:Yt,totalCloth2:bt}});if(B&&(N=N.filter(pe=>pe.id.includes(B.toUpperCase()))),p&&(N=N.filter(pe=>pe.totalSold>0)),((G=m.vendido)==null?void 0:G.type)==="greater"&&m.vendido.value!==void 0&&(N=N.filter(pe=>pe.totalSold>m.vendido.value)),((I=m.vendido)==null?void 0:I.type)==="less"&&m.vendido.value!==void 0&&(N=N.filter(pe=>pe.totalSold<m.vendido.value)),((g=m.vendido)==null?void 0:g.type)==="equals"&&m.vendido.value!==void 0&&(N=N.filter(pe=>pe.totalSold===m.vendido.value)),((L=m.stock)==null?void 0:L.type)==="greater"&&m.stock.value!==void 0&&(N=N.filter(pe=>pe.stock>m.stock.value)),((T=m.stock)==null?void 0:T.type)==="less"&&m.stock.value!==void 0&&(N=N.filter(pe=>pe.stock<m.stock.value)),((K=m.stock)==null?void 0:K.type)==="equals"&&m.stock.value!==void 0&&(N=N.filter(pe=>pe.stock===m.stock.value)),((ie=m.programmed)==null?void 0:ie.type)==="greater"&&m.programmed.value!==void 0&&(N=N.filter(pe=>pe.programmed>m.programmed.value)),((be=m.programmed)==null?void 0:be.type)==="less"&&m.programmed.value!==void 0&&(N=N.filter(pe=>pe.programmed<m.programmed.value)),((oe=m.programmed)==null?void 0:oe.type)==="equals"&&m.programmed.value!==void 0&&(N=N.filter(pe=>pe.programmed===m.programmed.value)),((xe=m.cut)==null?void 0:xe.type)==="greater"&&m.cut.value!==void 0&&(N=N.filter(pe=>pe.cut>m.cut.value)),((w=m.cut)==null?void 0:w.type)==="less"&&m.cut.value!==void 0&&(N=N.filter(pe=>pe.cut<m.cut.value)),((A=m.cut)==null?void 0:A.type)==="equals"&&m.cut.value!==void 0&&(N=N.filter(pe=>pe.cut===m.cut.value)),((V=m.pending)==null?void 0:V.type)==="greater"&&m.pending.value!==void 0&&(N=N.filter(pe=>pe.pending>m.pending.value)),((ue=m.pending)==null?void 0:ue.type)==="less"&&m.pending.value!==void 0&&(N=N.filter(pe=>pe.pending<m.pending.value)),((ge=m.pending)==null?void 0:ge.type)==="equals"&&m.pending.value!==void 0&&(N=N.filter(pe=>pe.pending===m.pending.value)),((Ne=m.vendido)==null?void 0:Ne.type)==="asc"&&N.sort((pe,Me)=>pe.totalSold-Me.totalSold),((rt=m.vendido)==null?void 0:rt.type)==="desc"&&N.sort((pe,Me)=>Me.totalSold-pe.totalSold),((Ye=m.stock)==null?void 0:Ye.type)==="asc"&&N.sort((pe,Me)=>pe.stock-Me.stock),((Pe=m.stock)==null?void 0:Pe.type)==="desc"&&N.sort((pe,Me)=>Me.stock-pe.stock),((Tt=m.programmed)==null?void 0:Tt.type)==="asc"&&N.sort((pe,Me)=>pe.programmed-Me.programmed),((ye=m.programmed)==null?void 0:ye.type)==="desc"&&N.sort((pe,Me)=>Me.programmed-pe.programmed),((Oe=m.cut)==null?void 0:Oe.type)==="asc"&&N.sort((pe,Me)=>pe.cut-Me.cut),((dt=m.cut)==null?void 0:dt.type)==="desc"&&N.sort((pe,Me)=>Me.cut-pe.cut),((At=m.pending)==null?void 0:At.type)==="asc"&&N.sort((pe,Me)=>pe.pending-Me.pending),((kt=m.pending)==null?void 0:kt.type)==="desc"&&N.sort((pe,Me)=>Me.pending-pe.pending),((Ie=m.cloth1)==null?void 0:Ie.type)==="contains"&&m.cloth1.value){const pe=m.cloth1.value.toUpperCase();N=N.filter(Me=>(Me.cloth1?Me.cloth1.toUpperCase():"").includes(pe))}if((($t=m.cloth2)==null?void 0:$t.type)==="contains"&&m.cloth2.value){const pe=m.cloth2.value.toUpperCase();N=N.filter(Me=>(Me.cloth2?Me.cloth2.toUpperCase():"").includes(pe))}return N},[h,c.orders,c.references,c.receptions,c.dispatches,c.productionTracking,B,p,m]),Z=(N,G,I)=>{u(g=>{const L=g.productionTracking.findIndex(K=>K.refId===N&&K.correriaId===h),T=[...g.productionTracking];return L>-1?T[L]={...T[L],[G]:I}:T.push({refId:N,correriaId:h,programmed:0,cut:0,[G]:I}),fe.current=!0,o&&o(!0),{...g,productionTracking:T}})},he=async()=>{if(!P){alert("No tienes permisos para guardar cambios");return}console.log(" DEBUGGING:"),console.log("1. initialProductionData:",D);const N=c.productionTracking.filter(G=>G.correriaId===h);console.log("2. currentCorreriaData:",N),re(!0);try{const G=c.productionTracking.filter(L=>L.correriaId===h),I=G.filter(L=>{const T=D.find(K=>K.refId===L.refId&&K.correriaId===L.correriaId);return T?T.programmed!==L.programmed||T.cut!==L.cut:!0});if(console.log("3. changedData:",I),console.log("4. changedData.length:",I.length),I.length===0){alert("No hay cambios para guardar"),re(!1);return}const g=await De.saveProductionBatch(I);g.success?(f(G),fe.current=!1,o&&o(!1),alert(` ${I.length} registro(s) guardado(s) exitosamente`)):alert(` Error al guardar: ${g.message||"Error desconocido"}`)}catch(G){console.error("Error al guardar produccin:",G),alert(" Error de conexin al guardar")}finally{re(!1)}},Q=Et.memo(({columnKey:N,color:G,isTextFilter:I=!1})=>{const g=m[N],L=g&&g.type!=="none";return a.jsxs("div",{className:"relative","data-filter-menu":!0,children:[a.jsx("button",{onClick:()=>ae(F===N?null:N),className:`p-1.5 rounded-lg transition-all ${L?`bg-${G}-200 text-${G}-700`:"bg-transparent text-slate-400 hover:bg-slate-100"}`,children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:"w-4 h-4",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 4a1 1 0 00-1 1v2.586a1 1 0 00.293.707l6.414 6.414v7.586a1 1 0 001 1h2a1 1 0 001-1v-7.586l6.414-6.414A1 1 0 0021 7.586V5a1 1 0 00-1-1h-16z"})})}),F===N&&a.jsx("div",{className:"absolute top-full right-0 mt-2 bg-white border border-slate-200 rounded-lg shadow-lg z-50 min-w-[200px]","data-filter-menu":!0,onMouseDown:T=>T.stopPropagation(),children:a.jsxs("div",{className:"p-3 space-y-2",children:[a.jsx("button",{onClick:()=>{z(T=>({...T,[N]:{type:"none"}})),le(T=>({...T,[N]:""})),te(T=>({...T,[N]:""})),ae(null)},className:"w-full text-left px-3 py-2 text-xs font-bold text-slate-600 hover:bg-slate-100 rounded",children:"Limpiar filtro"}),!I&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"border-t border-slate-100 pt-2",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase mb-2",children:"Ordenar"}),a.jsxs("button",{onClick:()=>{z(T=>({...T,[N]:{type:"asc"}})),ae(null)},className:"w-full text-left px-3 py-2 text-xs font-bold text-slate-600 hover:bg-slate-100 rounded flex items-center gap-2",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-3 h-3",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 4.5h14.25M3 9h9.75M3 13.5h5.25m5.25-.75L17.25 9m0 0L21 5.25M17.25 9v12"})}),"Menor a Mayor"]}),a.jsxs("button",{onClick:()=>{z(T=>({...T,[N]:{type:"desc"}})),ae(null)},className:"w-full text-left px-3 py-2 text-xs font-bold text-slate-600 hover:bg-slate-100 rounded flex items-center gap-2",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-3 h-3",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 4.5h14.25M3 9h9.75M3 13.5h5.25m5.25.75L17.25 15m0 0L21 18.75M17.25 15v-12"})}),"Mayor a Menor"]})]}),a.jsxs("div",{className:"border-t border-slate-100 pt-2",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase mb-2",children:"Filtrar"}),a.jsx("input",{type:"number",placeholder:"Valor",value:ee[N]||"",className:"w-full px-2 py-1.5 text-xs border border-slate-200 rounded mb-2 focus:ring-2 focus:ring-blue-100",onMouseDown:T=>T.stopPropagation(),autoFocus:!0,onChange:T=>{te(K=>({...K,[N]:T.target.value}))}}),a.jsx("button",{onClick:()=>{const T=ee[N];T&&(z(K=>({...K,[N]:{type:"equals",value:Number(T)}})),setTimeout(()=>ae(null),100))},className:"w-full text-left px-3 py-2 text-xs font-bold text-slate-600 hover:bg-slate-100 rounded mb-1",children:"Igual a"}),a.jsx("button",{onClick:()=>{const T=ee[N];T&&(z(K=>({...K,[N]:{type:"greater",value:Number(T)}})),setTimeout(()=>{te(K=>({...K,[N]:""})),ae(null)},100))},className:"w-full text-left px-3 py-2 text-xs font-bold text-slate-600 hover:bg-slate-100 rounded mb-1",children:"Mayor que"}),a.jsx("button",{onClick:()=>{const T=ee[N];T&&(z(K=>({...K,[N]:{type:"less",value:Number(T)}})),setTimeout(()=>{te(K=>({...K,[N]:""})),ae(null)},100))},className:"w-full text-left px-3 py-2 text-xs font-bold text-slate-600 hover:bg-slate-100 rounded",children:"Menor que"})]})]}),I&&a.jsxs("div",{className:"border-t border-slate-100 pt-2",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase mb-2",children:"Buscar"}),a.jsx("input",{type:"text",placeholder:"Ej: Burda",value:ne[N]||"",className:"w-full px-2 py-1.5 text-xs border border-slate-200 rounded focus:ring-2 focus:ring-blue-100",onMouseDown:T=>T.stopPropagation(),autoFocus:!0,onChange:T=>{const K=T.target.value;le(ie=>({...ie,[N]:K})),K.trim()?z(ie=>({...ie,[N]:{type:"contains",value:K}})):z(ie=>({...ie,[N]:{type:"none"}}))}})]})]})})]})});return a.jsxs("div",{className:"space-y-6 pb-20",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-black text-slate-800 tracking-tighter leading-none",children:"Ventas y produccin"}),a.jsxs("p",{className:"text-slate-500 font-bold text-xs mt-1",children:["Campaa: ",(q=c.correrias.find(N=>N.id===h))==null?void 0:q.name]})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 bg-white p-3 rounded-3xl border border-slate-100 shadow-sm items-center",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-[8px] font-black text-slate-600 uppercase ml-2 mb-1",children:"Referencia"}),a.jsx("input",{type:"text",value:B,onChange:N=>_(N.target.value),placeholder:"Ej: 10210",className:"px-3 py-1.5 bg-slate-50 rounded-xl text-xs font-bold w-28 border-none focus:ring-2 focus:ring-blue-100 placeholder:text-slate-300"})]}),a.jsxs("div",{className:"flex items-center gap-2 border-l border-slate-100 pl-3 h-10 mt-2",children:[a.jsx("input",{type:"checkbox",checked:p,onChange:N=>v(N.target.checked),id:"hz",className:"rounded text-blue-600 focus:ring-blue-500"}),a.jsx("label",{htmlFor:"hz",className:"text-[10px] font-black text-slate-600 uppercase cursor-pointer",children:"Ocultar 0"})]}),a.jsxs("div",{className:"flex flex-col border-l border-slate-100 pl-3",children:[a.jsx("span",{className:"text-[8px] font-black text-slate-600 uppercase mb-1",children:"Campaa"}),a.jsx(ep,{value:h,correrias:c.correrias,onChange:y,search:C,setSearch:S,showDropdown:J,setShowDropdown:H})]}),P&&a.jsxs("div",{className:"flex items-center border-l border-slate-100 pl-3 gap-2",children:[a.jsx("button",{onClick:he,disabled:O,className:"px-6 py-2.5 bg-gradient-to-r from-green-600 to-green-500 text-white font-black rounded-xl text-xs uppercase tracking-wider hover:shadow-lg hover:scale-105 transition-all disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 flex items-center gap-2",children:O?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Guardando..."]}):a.jsxs(a.Fragment,{children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:"w-4 h-4",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0111.186 0z"})}),"Guardar"]})}),a.jsxs("button",{onClick:()=>{z({}),le({}),te({})},className:"px-4 py-2.5 bg-slate-100 text-slate-600 font-black rounded-xl text-xs uppercase tracking-wider hover:bg-slate-200 transition-all flex items-center gap-2",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:"w-4 h-4",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),"Limpiar Filtros"]})]})]})]}),a.jsx("div",{className:"bg-white rounded-[32px] shadow-sm border border-slate-100 overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"w-full text-left text-[10px] min-w-[1250px] table-fixed",children:[a.jsx("thead",{className:"bg-slate-50",children:a.jsxs("tr",{className:"border-b border-slate-100",children:[a.jsx("th",{className:"px-4 py-3 font-black uppercase w-32 text-slate-700",children:"Referencia"}),a.jsx("th",{className:"px-2 py-3 font-black uppercase text-center w-16 text-blue-800",children:a.jsxs("div",{className:"flex items-center justify-center gap-1",children:["Vendido",a.jsx(Q,{columnKey:"vendido",color:"blue"})]})}),a.jsx("th",{className:"px-2 py-3 font-black uppercase text-center w-14 text-slate-700",children:a.jsxs("div",{className:"flex items-center justify-center gap-1",children:["Stock",a.jsx(Q,{columnKey:"stock",color:"slate"})]})}),a.jsx("th",{className:"px-2 py-3 font-black uppercase text-center w-24 text-indigo-700",children:a.jsxs("div",{className:"flex items-center justify-center gap-1",children:["Prog.",a.jsx(Q,{columnKey:"programmed",color:"indigo"})]})}),a.jsx("th",{className:"px-2 py-3 font-black uppercase text-center w-24 text-pink-700",children:a.jsxs("div",{className:"flex items-center justify-center gap-1",children:["Cortado",a.jsx(Q,{columnKey:"cut",color:"pink"})]})}),a.jsx("th",{className:"px-2 py-3 font-black uppercase text-center w-14 text-red-700",children:a.jsxs("div",{className:"flex items-center justify-center gap-1",children:["Pend.",a.jsx(Q,{columnKey:"pending",color:"red"})]})}),a.jsx("th",{className:"px-2 py-3 font-black uppercase text-center w-10 text-slate-700",children:"Clt"}),a.jsx("th",{className:"px-4 py-3 font-black uppercase text-center w-40 border-l border-slate-200 text-slate-700",children:a.jsxs("div",{className:"flex items-center justify-center gap-1",children:["Tela 1 / Prom / Total",a.jsx(Q,{columnKey:"cloth1",color:"blue",isTextFilter:!0})]})}),a.jsx("th",{className:"px-4 py-3 font-black uppercase text-center w-40 border-l border-slate-200 text-slate-700",children:a.jsxs("div",{className:"flex items-center justify-center gap-1",children:["Tela 2 / Prom / Total",a.jsx(Q,{columnKey:"cloth2",color:"pink",isTextFilter:!0})]})})]})}),a.jsx("tbody",{className:"divide-y divide-slate-50",children:j.map(N=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[a.jsxs("td",{className:"px-4 py-2",children:[a.jsx("p",{className:"font-black text-slate-800 text-sm leading-tight",children:N.id}),a.jsx("p",{className:"text-[9px] font-bold text-slate-500 uppercase truncate",children:N.description})]}),a.jsx("td",{className:"px-2 py-2 text-center",children:a.jsx("span",{className:`px-2 py-1 rounded-md font-black text-sm ${N.totalSold>0?"bg-blue-600 text-white shadow-sm":"bg-slate-100 text-slate-400"}`,children:N.totalSold})}),a.jsx("td",{className:"px-2 py-2 text-center font-bold text-slate-600 text-sm",children:N.stock}),a.jsx("td",{className:"px-2 py-2 text-center",children:a.jsx("input",{type:"number",value:N.programmed,onChange:G=>Z(N.id,"programmed",Number(G.target.value)),readOnly:!P,className:`w-16 px-2 py-1 bg-slate-50 border border-slate-200 rounded-lg font-black text-center text-indigo-700 text-sm focus:ring-2 focus:ring-indigo-100 ${P?"":"cursor-default"}`})}),a.jsx("td",{className:"px-2 py-2 text-center",children:a.jsx("input",{type:"number",value:N.cut,onChange:G=>Z(N.id,"cut",Number(G.target.value)),readOnly:!P,className:`w-16 px-2 py-1 bg-slate-50 border border-slate-200 rounded-lg font-black text-center text-pink-700 text-sm focus:ring-2 focus:ring-pink-100 ${P?"":"cursor-default"}`})}),a.jsx("td",{className:"px-2 py-2 text-center font-black text-red-600 text-sm",children:N.pending}),a.jsx("td",{className:"px-2 py-2 text-center font-bold text-slate-600 text-sm",children:N.clientCount}),a.jsx("td",{className:"px-4 py-2 border-l border-slate-100",children:N.cloth1?a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[a.jsx("span",{className:"font-black text-slate-800 truncate text-xs uppercase",children:N.cloth1}),a.jsxs("span",{className:"text-[9px] font-bold text-slate-500",children:["Prom: ",N.avgCloth1]})]}),a.jsx("div",{className:"bg-blue-50 px-2 py-1 rounded-lg border border-blue-100",children:a.jsxs("span",{className:"text-blue-700 font-black text-xs",children:[N.totalCloth1.toFixed(1),"m"]})})]}):a.jsx("div",{className:"text-center text-slate-300",children:"-"})}),a.jsx("td",{className:"px-4 py-2 border-l border-slate-100",children:N.cloth2?a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[a.jsx("span",{className:"font-black text-slate-800 truncate text-xs uppercase",children:N.cloth2}),a.jsxs("span",{className:"text-[9px] font-bold text-slate-500",children:["Prom: ",N.avgCloth2]})]}),a.jsx("div",{className:"bg-pink-50 px-2 py-1 rounded-lg border border-pink-100",children:a.jsxs("span",{className:"text-pink-700 font-black text-xs",children:[N.totalCloth2.toFixed(1),"m"]})})]}):a.jsx("div",{className:"text-center text-slate-300",children:"-"})})]},N.id))})]})})})]})},ep=({value:d,correrias:c,onChange:u,search:o,setSearch:h,showDropdown:y,setShowDropdown:B})=>{const _=b.useRef(null),p=b.useRef(),v=c.find(m=>m.id===d),C=v?`${v.name} ${v.year}`:d,S=c.filter(m=>m.name.toLowerCase().includes(o.toLowerCase())||m.year.toString().includes(o)),J=()=>{p.current=setTimeout(()=>B(!1),300)},H=m=>{p.current&&clearTimeout(p.current),u(m),B(!1),h("")};return a.jsxs("div",{className:"relative",ref:_,children:[a.jsx("input",{type:"text",value:y?o:C,onChange:m=>h(m.target.value),onFocus:()=>{B(!0),h("")},onBlur:J,placeholder:"Buscar...",className:"w-full px-2 py-1 bg-slate-50 border border-slate-200 rounded-lg font-bold text-slate-800 focus:ring-2 focus:ring-blue-100 placeholder:text-slate-300 text-xs"}),y&&a.jsx("div",{className:"absolute top-full left-0 w-full mt-1 bg-white border border-slate-200 rounded-lg shadow-2xl max-h-48 overflow-y-auto",style:{zIndex:9999,minWidth:"250px"},onMouseDown:m=>m.preventDefault(),children:S.map(m=>a.jsxs("button",{onMouseDown:()=>H(m.id),className:"w-full px-3 py-2 text-left hover:bg-blue-50 transition-colors border-b border-slate-50 last:border-0",children:[a.jsx("p",{className:"font-black text-slate-800 text-xs",children:m.name}),a.jsx("p",{className:"text-[9px] text-slate-400",children:m.year})]},m.id))})]})},tp=({user:d,state:c,updateState:u})=>{const[o,h]=b.useState(""),[y,B]=b.useState(""),[_,p]=b.useState(!1),[v,C]=b.useState(""),[S,J]=b.useState(""),[H,m]=b.useState(""),[z,F]=b.useState([]),ae=b.useRef(null),ne=c.clients.filter(f=>f.name.toLowerCase().includes(y.toLowerCase())||f.id.toLowerCase().includes(y.toLowerCase())),le=f=>{h(f.id),B(`${f.id} - ${f.name}`),p(!1)},ee=f=>{var fe;const O=(fe=f.target.files)==null?void 0:fe[0];if(!O)return;const re=new FileReader;re.onload=P=>{var Q;const Z=((Q=P.target)==null?void 0:Q.result).split(`
`).filter(E=>E.trim()!==""),he=[];for(let E=1;E<Z.length;E++){const q=Z[E].split(",").map(g=>g.trim()),[N,G,I]=q;N&&G&&I&&c.references.some(L=>L.id===N)&&he.push({reference:N,quantity:parseInt(G)||0,salePrice:parseFloat(I)||0})}F(he)},re.readAsText(O)},te=async()=>{if(!o||!v||!S){alert("Faltan campos obligatorios (Cliente, Vendedor o Campaa)");return}if(z.length===0){alert("No hay tems cargados");return}const f=z.reduce((re,fe)=>re+(fe.salePrice||0)*fe.quantity,0),O={id:Math.random().toString(36).substring(2,11),clientId:o,sellerId:v,correriaId:S,items:z,totalValue:f,createdAt:new Date().toLocaleString(),settledBy:d.name,orderNumber:H===""?void 0:H};try{const re=await De.createOrder(O);re.success?(u(fe=>({...fe,orders:[O,...fe.orders]})),alert(" Pedido asentado y guardado con xito"),F([]),h(""),B(""),m(""),ae.current&&(ae.current.value="")):alert(` Error al guardar: ${re.message}`)}catch(re){console.error("Error guardando pedido:",re),alert(" Error de conexin al guardar el pedido")}},D=z.reduce((f,O)=>f+O.quantity,0);return a.jsxs("div",{className:"space-y-8 pb-20",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-black text-slate-800 tracking-tighter",children:"Asentar Ventas"}),a.jsx("p",{className:"text-slate-400 font-medium",children:"Carga rpida de pedidos por cliente"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[a.jsxs("div",{className:"bg-white p-8 rounded-[32px] shadow-sm border border-slate-100 space-y-6",children:[a.jsx("h3",{className:"text-xl font-black text-slate-800",children:"1. Datos del Pedido"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-1 relative",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-4",children:"Buscador Cliente"}),a.jsx("input",{type:"text",value:y,onChange:f=>{B(f.target.value),p(!0),f.target.value||h("")},onFocus:()=>p(!0),placeholder:"ID o Nombre...",className:"w-full px-6 py-4 bg-slate-50 border-none rounded-2xl font-bold text-slate-900 focus:ring-4 focus:ring-blue-100 transition-all"}),_&&y.length>0&&a.jsx("div",{className:"absolute top-full left-0 w-full mt-2 bg-white rounded-2xl shadow-2xl border border-slate-100 z-50 max-h-60 overflow-y-auto custom-scrollbar",children:ne.map(f=>a.jsxs("button",{onClick:()=>le(f),className:"w-full text-left px-6 py-4 hover:bg-slate-50 transition-colors border-b border-slate-50 last:border-0",children:[a.jsx("p",{className:"font-black text-slate-800",children:f.name}),a.jsxs("p",{className:"text-[10px] text-slate-400 font-bold",children:["ID: ",f.id,"  ",f.city]})]},f.id))})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-4",children:"Vendedor"}),a.jsxs("select",{value:v,onChange:f=>C(f.target.value),className:"w-full px-6 py-4 bg-slate-50 border-none rounded-2xl font-bold text-slate-900",children:[a.jsx("option",{value:"",children:"-- Seleccionar --"}),c.sellers.map(f=>a.jsx("option",{value:f.id,children:f.name},f.id))]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-4",children:"Campaa"}),a.jsxs("select",{value:S,onChange:f=>J(f.target.value),className:"w-full px-6 py-4 bg-slate-50 border-none rounded-2xl font-bold text-slate-900",children:[a.jsx("option",{value:"",children:"-- Seleccionar --"}),c.correrias.map(f=>a.jsxs("option",{value:f.id,children:[f.name," ",f.year]},f.id))]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-4",children:"Nmero de Pedido"}),a.jsx("input",{type:"number",value:H,onChange:f=>m(f.target.value===""?"":parseInt(f.target.value)),placeholder:"Opcional",className:"w-full px-6 py-4 bg-slate-50 border-none rounded-2xl font-bold text-slate-900 focus:ring-4 focus:ring-blue-100 transition-all"})]})]})]}),a.jsxs("div",{className:"bg-white p-8 rounded-[32px] shadow-sm border border-slate-100 space-y-6",children:[a.jsx("h3",{className:"text-xl font-black text-slate-800",children:"2. Adjuntar Pedido"}),a.jsxs("p",{className:"text-[10px] text-slate-400 font-bold leading-relaxed px-2",children:["Formato CSV: ",a.jsx("span",{className:"text-blue-500",children:"referencia,cantidad,precio_venta"}),a.jsx("br",{}),"La primera fila se ignora (Cabecera)."]}),a.jsx("input",{type:"file",ref:ae,onChange:ee,accept:".csv,.txt",className:"hidden"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>{var f;return(f=ae.current)==null?void 0:f.click()},className:"flex-1 py-4 bg-slate-50 text-slate-500 font-black rounded-2xl border-2 border-dashed border-slate-200 hover:bg-blue-50 transition-colors",children:"CARGAR ARCHIVO"}),a.jsx("a",{href:"/ejemplo_pedidos.csv",download:!0,className:"flex-1 py-4 bg-blue-50 text-blue-600 font-black rounded-2xl border-2 border-blue-200 hover:bg-blue-100 transition-colors text-center",children:"DESCARGAR EJEMPLO"})]})]})]}),a.jsx("div",{className:"lg:col-span-2",children:a.jsxs("div",{className:"bg-white rounded-[32px] shadow-sm border border-slate-100 overflow-hidden h-full flex flex-col",children:[a.jsxs("div",{className:"p-6 bg-slate-50 border-b border-slate-100 flex items-center justify-between",children:[a.jsx("h3",{className:"font-black text-slate-700",children:"Vista Previa"}),z.length>0&&a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("span",{className:"text-[10px] font-black text-slate-400 uppercase",children:["Refs: ",z.length]}),a.jsxs("span",{className:"text-[10px] font-black text-blue-500 uppercase",children:["Total Unid: ",D]}),a.jsxs("span",{className:"text-[10px] font-black text-green-600 uppercase",children:["Total Valor: $",z.reduce((f,O)=>f+(O.salePrice||0)*O.quantity,0).toLocaleString()]})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:z.length===0?a.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-20 text-center space-y-4",children:[a.jsx("div",{className:"w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center text-slate-200",children:a.jsx(ve.Settle,{})}),a.jsx("p",{className:"text-slate-300 font-bold italic",children:"Sube un archivo para ver los detalles aqu"})]}):a.jsxs("table",{className:"w-full text-left text-xs",children:[a.jsx("thead",{className:"sticky top-0 bg-white",children:a.jsxs("tr",{className:"border-b border-slate-100 bg-slate-50/30",children:[a.jsx("th",{className:"px-8 py-4 font-black text-slate-400 uppercase",children:"Referencia"}),a.jsx("th",{className:"px-8 py-4 font-black text-slate-400 uppercase text-center",children:"Cantidad"}),a.jsx("th",{className:"px-8 py-4 font-black text-slate-400 uppercase text-right",children:"Precio Venta"}),a.jsx("th",{className:"px-8 py-4 font-black text-slate-400 uppercase text-right",children:"Subtotal"})]})}),a.jsxs("tbody",{className:"divide-y divide-slate-100",children:[z.map((f,O)=>{const re=c.references.find(P=>P.id===f.reference),fe=(f.salePrice||0)*f.quantity;return a.jsxs("tr",{className:"hover:bg-slate-50/50",children:[a.jsxs("td",{className:"px-8 py-4",children:[a.jsx("p",{className:"font-black text-slate-800",children:f.reference}),a.jsx("p",{className:"text-[9px] font-bold text-slate-400 uppercase",children:re==null?void 0:re.description})]}),a.jsx("td",{className:"px-8 py-4 text-center font-black text-blue-600",children:f.quantity}),a.jsxs("td",{className:"px-8 py-4 text-right font-bold text-slate-600",children:["$",(f.salePrice||0).toLocaleString()]}),a.jsxs("td",{className:"px-8 py-4 text-right font-bold text-slate-400",children:["$",fe.toLocaleString()]})]},O)}),a.jsxs("tr",{className:"bg-slate-50 border-t-2 border-slate-200 font-black",children:[a.jsx("td",{colSpan:2,className:"px-8 py-4 text-right text-slate-700",children:"TOTALES:"}),a.jsxs("td",{className:"px-8 py-4 text-right text-slate-700",children:[z.length," refs"]}),a.jsxs("td",{className:"px-8 py-4 text-right text-blue-600",children:["$",z.reduce((f,O)=>f+(O.salePrice||0)*O.quantity,0).toLocaleString()]})]})]})]})}),a.jsx("div",{className:"p-8 border-t border-slate-100 bg-slate-50/30",children:a.jsx("button",{onClick:te,disabled:z.length===0,className:"w-full py-5 bg-gradient-to-r from-blue-600 to-pink-600 text-white font-black text-xl rounded-3xl shadow-xl hover:scale-[1.01] transition-all disabled:opacity-50",children:"ASENTAR VENTA"})})]})})]})]})},ap=({state:d})=>{const[c,u]=b.useState(""),[o,h]=b.useState(""),[y,B]=b.useState(""),[_,p]=b.useState(""),[v,C]=b.useState(!1),[S,J]=b.useState(null),H=Dt(1,50),m=b.useMemo(()=>Array.from(new Set(d.correrias.map(F=>F.year))).sort(),[d.correrias]),z=b.useMemo(()=>d.orders.filter(F=>{const ae=d.correrias.find(ne=>ne.id===F.correriaId);return!(c&&F.sellerId!==c||o&&(ae==null?void 0:ae.year)!==o||y&&(ae==null?void 0:ae.id)!==y)}),[d.orders,d.correrias,c,o,y]);return a.jsxs("div",{className:"space-y-8 pb-20",children:[a.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-black text-slate-800 tracking-tighter",children:"Historial de Pedidos"}),a.jsx("p",{className:"text-slate-400 font-medium",children:"Registro global de ventas tabuladas"})]})}),a.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-pink-50 rounded-[32px] shadow-lg border-2 border-blue-200 p-6 md:p-8",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-pink-500 rounded-xl flex items-center justify-center text-white font-black",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:"w-5 h-5",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.75 7.707 2.122.98.566 1.766 1.423 2.228 2.45.461 1.026.696 2.189.696 3.428 0 3.623-2.343 6.723-5.656 7.972-.9.383-1.97.591-3.075.591-.703 0-1.386-.067-2.042-.2.537.406 1.522 1.064 2.687 1.84 1.165.777 2.527 1.694 3.528 2.848.501.577.978 1.196 1.422 1.858.444.662.852 1.365 1.22 2.105.368.74.694 1.52.973 2.325.279.805.506 1.636.676 2.485.17.849.28 1.723.325 2.607M12 3v18m0 0c-2.755 0-5.455-.75-7.707-2.122-.98-.566-1.766-1.423-2.228-2.45C.604 15.402.369 14.239.369 13c0-3.623 2.343-6.723 5.656-7.972.9-.383 1.97-.591 3.075-.591.703 0 1.386.067 2.042.2-.537-.406-1.522-1.064-2.687-1.84-1.165-.777-2.527-1.694-3.528-2.848-.501-.577-.978-1.196-1.422-1.858-.444-.662-.852-1.365-1.22-2.105-.368-.74-.694-1.52-.973-2.325-.279-.805-.506-1.636-.676-2.485-.17-.849-.28-1.723-.325-2.607"})})}),a.jsx("h3",{className:"text-lg md:text-xl font-black text-slate-800",children:"Filtrar Resultados"})]}),a.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-end gap-4",children:[a.jsxs("div",{className:"flex-1 min-w-[200px] space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-blue-600 uppercase tracking-widest px-4 block",children:" Vendedor"}),a.jsxs("select",{value:c,onChange:F=>u(F.target.value),className:"w-full px-4 py-3 bg-white border-2 border-blue-200 rounded-2xl font-bold text-sm text-slate-800 focus:ring-4 focus:ring-blue-100 focus:border-blue-400 transition-all shadow-sm hover:border-blue-300",children:[a.jsx("option",{value:"",children:"Todos los vendedores"}),d.sellers.map(F=>a.jsx("option",{value:F.id,children:F.name},F.id))]})]}),a.jsxs("div",{className:"flex-1 min-w-[150px] space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-pink-600 uppercase tracking-widest px-4 block",children:" Ao"}),a.jsxs("select",{value:o,onChange:F=>h(F.target.value),className:"w-full px-4 py-3 bg-white border-2 border-pink-200 rounded-2xl font-bold text-sm text-slate-800 focus:ring-4 focus:ring-pink-100 focus:border-pink-400 transition-all shadow-sm hover:border-pink-300",children:[a.jsx("option",{value:"",children:"Cualquier ao"}),m.map(F=>a.jsx("option",{value:F,children:F},F))]})]}),a.jsxs("div",{className:"flex-1 min-w-[200px] space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-purple-600 uppercase tracking-widest px-4 block",children:" Correra"}),a.jsx(lp,{value:y,correrias:d.correrias,onChange:B,search:_,setSearch:p,showDropdown:v,setShowDropdown:C})]}),a.jsx("button",{onClick:()=>{u(""),h(""),B("")},className:"px-8 py-3 bg-white text-slate-600 font-black rounded-2xl text-sm uppercase border-2 border-slate-200 hover:bg-slate-50 hover:border-slate-300 transition-all shadow-sm hover:shadow-md active:scale-95 whitespace-nowrap",children:" Limpiar"})]})]}),a.jsx("div",{className:"grid grid-cols-1 gap-4",children:z.length===0?a.jsxs("div",{className:"bg-white p-20 rounded-[40px] text-center border border-slate-100 flex flex-col items-center",children:[a.jsx("div",{className:"w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center text-slate-200 mb-4",children:a.jsx(ve.History,{})}),a.jsx("p",{className:"text-slate-400 font-bold italic",children:"No hay pedidos con los filtros seleccionados"})]}):a.jsxs(a.Fragment,{children:[z.slice((H.pagination.page-1)*H.pagination.limit,H.pagination.page*H.pagination.limit).map(F=>{const ae=d.clients.find(te=>te.id===F.clientId),ne=d.sellers.find(te=>te.id===F.sellerId),le=d.correrias.find(te=>te.id===F.correriaId),ee=S===F.id;return a.jsxs("div",{className:"bg-white rounded-[24px] shadow-sm border border-slate-100 overflow-hidden transition-all group",children:[a.jsxs("div",{className:"p-5 flex flex-col md:flex-row md:items-center justify-between gap-4 cursor-pointer hover:bg-slate-50/50",onClick:()=>J(ee?null:F.id),children:[a.jsxs("div",{className:"flex-1 space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"px-2 py-0.5 bg-blue-50 text-blue-600 rounded-md text-[9px] font-black uppercase",children:[le==null?void 0:le.name," ",le==null?void 0:le.year]}),a.jsx("span",{className:"text-[10px] text-slate-300 font-bold",children:F.createdAt})]}),a.jsx("h3",{className:"text-lg font-black text-slate-800",children:(ae==null?void 0:ae.name)||"Cliente"}),a.jsxs("p",{className:"text-[10px] font-black text-pink-500 uppercase tracking-widest",children:["Vendedor: ",ne==null?void 0:ne.name]})]}),a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-[9px] font-black text-slate-300 uppercase",children:"Resumen"}),a.jsxs("p",{className:"text-sm font-black text-slate-700",children:[F.items.length," Refs  ",F.items.reduce((te,D)=>te+D.quantity,0)," Unid."]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-[9px] font-black text-slate-300 uppercase",children:"Valor Total"}),a.jsxs("p",{className:"text-lg font-black text-blue-600",children:["$",F.totalValue.toLocaleString()]})]}),a.jsx("span",{className:`transition-transform duration-300 ${ee?"rotate-180":""}`,children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:"w-5 h-5 text-slate-300",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})})})]})]}),ee&&a.jsx("div",{className:"p-8 bg-slate-50/50 border-t border-slate-100 animate-in slide-in-from-top-2",children:a.jsx("div",{className:"bg-white rounded-3xl border border-slate-200 overflow-hidden shadow-sm",children:a.jsxs("table",{className:"w-full text-left text-xs",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-slate-50 border-b border-slate-100",children:[a.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase",children:"Referencia"}),a.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase text-center",children:"Cantidad"}),a.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase text-right",children:"Precio Unit."}),a.jsx("th",{className:"px-6 py-4 font-black text-slate-400 uppercase text-right",children:"Subtotal"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-50",children:F.items.map((te,D)=>{const f=d.references.find(O=>O.id===te.reference);return a.jsxs("tr",{children:[a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("p",{className:"font-black text-slate-800",children:te.reference}),a.jsx("p",{className:"text-[9px] font-bold text-slate-400 uppercase",children:f==null?void 0:f.description})]}),a.jsx("td",{className:"px-6 py-4 text-center font-black text-slate-700",children:te.quantity}),a.jsxs("td",{className:"px-6 py-4 text-right font-bold text-slate-500",children:["$",f==null?void 0:f.price.toLocaleString()]}),a.jsxs("td",{className:"px-6 py-4 text-right font-black text-blue-600",children:["$",(((f==null?void 0:f.price)||0)*te.quantity).toLocaleString()]})]},D)})}),a.jsx("tfoot",{children:a.jsxs("tr",{className:"bg-slate-50/80 font-black text-slate-800",children:[a.jsx("td",{className:"px-6 py-6 uppercase text-[9px] text-slate-400",children:"Totales Pedido"}),a.jsx("td",{className:"px-6 py-6 text-center",children:F.items.reduce((te,D)=>te+D.quantity,0)}),a.jsx("td",{}),a.jsxs("td",{className:"px-6 py-6 text-right text-blue-600 text-lg",children:["$",F.totalValue.toLocaleString()]})]})})]})})})]},F.id)}),a.jsx("div",{className:"mt-6",children:a.jsx(Ca,{currentPage:H.pagination.page,totalPages:H.pagination.totalPages,pageSize:H.pagination.limit,onPageChange:H.goToPage,onPageSizeChange:H.setLimit})})]})})]})},lp=({value:d,correrias:c,onChange:u,search:o,setSearch:h,showDropdown:y,setShowDropdown:B})=>{const _=Et.useRef(null),p=Et.useRef(),v=c.find(m=>m.id===d),C=v?`${v.name} ${v.year}`:d,S=c.filter(m=>m.name.toLowerCase().includes(o.toLowerCase())||m.year.toString().includes(o)),J=()=>{p.current=setTimeout(()=>B(!1),300)},H=m=>{p.current&&clearTimeout(p.current),u(m),B(!1),h("")};return a.jsxs("div",{className:"relative",ref:_,children:[a.jsx("input",{type:"text",value:y?o:C,onChange:m=>h(m.target.value),onFocus:()=>{B(!0),h("")},onBlur:J,placeholder:"Buscar...",className:"w-full px-4 py-3 bg-white border-2 border-purple-200 rounded-2xl font-bold text-sm text-slate-800 focus:ring-4 focus:ring-purple-100 focus:border-purple-400 transition-all shadow-sm hover:border-purple-300"}),y&&a.jsxs("div",{className:"absolute top-full left-0 w-full mt-2 bg-white border border-slate-100 rounded-2xl shadow-2xl max-h-60 overflow-y-auto z-50",onMouseDown:m=>m.preventDefault(),children:[S.map(m=>a.jsxs("button",{onMouseDown:()=>H(m.id),className:"w-full px-6 py-4 text-left hover:bg-slate-50 transition-colors border-b border-slate-50 last:border-0",children:[a.jsx("p",{className:"font-black text-slate-800",children:m.name}),a.jsx("p",{className:"text-[10px] text-slate-400 font-bold",children:m.year})]},m.id)),S.length===0&&a.jsx("p",{className:"px-6 py-4 text-slate-400 font-bold italic text-sm",children:"No se encontraron correrias"})]})]})},sp=({state:d,user:c})=>{var te;const[u,o]=b.useState(((te=d.correrias[0])==null?void 0:te.id)||""),[h,y]=b.useState(""),[B,_]=b.useState(!1),[p,v]=b.useState(""),[C,S]=b.useState(""),[J,H]=b.useState(!1),[m,z]=b.useState(!1),F=d.correrias.filter(D=>`${D.name} ${D.year}`.toLowerCase().includes(p.toLowerCase())),ae=d.references.filter(D=>D.id.toLowerCase().includes(C.toLowerCase())||D.description.toLowerCase().includes(C.toLowerCase())),ne=D=>{o(D.id),v(`${D.name} ${D.year}`),H(!1),y(""),S("")},le=D=>{y(D.id),S(`${D.id} - ${D.description}`),z(!1)};Et.useEffect(()=>{const D=f=>{f.target.closest("[data-dropdown-container]")||(H(!1),z(!1))};return document.addEventListener("mousedown",D),()=>document.removeEventListener("mousedown",D)},[]);const ee=b.useMemo(()=>{if(!u||!h)return null;const D=d.orders.filter(G=>G.correriaId===u&&G.items.some(I=>I.reference===h)),f=d.references.find(G=>G.id===h),O=(f==null?void 0:f.price)||0,re=D.map(G=>{var be;const I=d.clients.find(oe=>oe.id===G.clientId),L=G.items.filter(oe=>oe.reference===h).reduce((oe,xe)=>oe+xe.quantity,0),T=d.dispatches.filter(oe=>oe.clientId===G.clientId&&oe.correriaId===u),K=T.reduce((oe,xe)=>{const w=xe.items.filter(A=>A.reference===h);return oe+w.reduce((A,V)=>A+V.quantity,0)},0),ie=T[T.length-1];return{clientId:G.clientId,clientName:(I==null?void 0:I.name)||"Cliente Desconocido",clientAddress:(I==null?void 0:I.address)||"",seller:((be=d.sellers.find(oe=>oe.id===G.sellerId))==null?void 0:be.name)||(I==null?void 0:I.seller)||"-",totalSold:L,totalDispatched:K,price:O,invoiceNo:(ie==null?void 0:ie.invoiceNo)||"-",remissionNo:(ie==null?void 0:ie.remissionNo)||"-"}}),fe=B?re.filter(G=>G.totalSold>0):re,P=fe.reduce((G,I)=>G+I.totalSold,0),j=fe.reduce((G,I)=>G+I.totalDispatched,0),Z=d.receptions.reduce((G,I)=>G+I.items.filter(g=>g.reference===h).reduce((g,L)=>g+L.quantity,0),0),he=d.dispatches.reduce((G,I)=>G+I.items.filter(g=>g.reference===h).reduce((g,L)=>g+L.quantity,0),0),Q=Z-he,E=d.productionTracking.find(G=>G.refId===h&&G.correriaId===u)||{programmed:0,cut:0},q=Math.max(0,P-E.cut),N=P-j;return{clients:fe,totals:{totalVendidas:P,stock:Q,cortadas:E.cut,programadas:E.programmed,pendiente:q,faltanDespachar:N,totalDespachadas:j},reference:f}},[u,h,d,B]);return a.jsxs("div",{className:"space-y-6 pb-20",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-black text-slate-800 tracking-tighter leading-none",children:"Control de bodega para despachos"}),a.jsx("p",{className:"text-slate-500 font-bold text-xs mt-1",children:"Auxiliar de inventario y ventas para despacho de mercanca"})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 bg-white p-3 rounded-3xl border border-slate-100 shadow-sm items-center",children:[a.jsxs("div",{className:"flex flex-col relative","data-dropdown-container":!0,children:[a.jsx("span",{className:"text-[8px] font-black text-slate-600 uppercase ml-2 mb-1",children:"Correra"}),a.jsx("input",{type:"text",value:p,onChange:D=>{v(D.target.value),H(!0)},onFocus:()=>H(!0),placeholder:"Buscar correra...",className:"px-3 py-1.5 bg-slate-50 rounded-xl text-xs font-bold w-48 border-none focus:ring-2 focus:ring-blue-100 placeholder:text-slate-300"}),J&&F.length>0&&a.jsx("div",{className:"absolute top-full left-0 mt-1 w-full bg-white border border-slate-200 rounded-xl shadow-lg z-50 max-h-60 overflow-y-auto",children:F.map(D=>a.jsxs("button",{onClick:()=>ne(D),className:"w-full px-3 py-2 text-left text-xs font-bold hover:bg-blue-50 transition-colors border-b border-slate-100 last:border-b-0",children:[a.jsx("span",{className:"text-slate-800",children:D.name}),a.jsx("span",{className:"text-slate-400 ml-1",children:D.year})]},D.id))})]}),a.jsxs("div",{className:"flex flex-col relative","data-dropdown-container":!0,children:[a.jsx("span",{className:"text-[8px] font-black text-slate-600 uppercase ml-2 mb-1",children:"Referencia"}),a.jsx("input",{type:"text",value:C,onChange:D=>{S(D.target.value),z(!0)},onFocus:()=>z(!0),placeholder:"Buscar referencia...",disabled:!u,className:"px-3 py-1.5 bg-slate-50 rounded-xl text-xs font-bold w-48 border-none focus:ring-2 focus:ring-blue-100 placeholder:text-slate-300 disabled:opacity-50 disabled:cursor-not-allowed"}),m&&ae.length>0&&u&&a.jsx("div",{className:"absolute top-full left-0 mt-1 w-full bg-white border border-slate-200 rounded-xl shadow-lg z-50 max-h-60 overflow-y-auto",children:ae.map(D=>a.jsxs("button",{onClick:()=>le(D),className:"w-full px-3 py-2 text-left text-xs hover:bg-blue-50 transition-colors border-b border-slate-100 last:border-b-0",children:[a.jsx("span",{className:"font-black text-blue-600",children:D.id}),a.jsx("span",{className:"text-slate-500 ml-2 text-[10px]",children:D.description})]},D.id))})]}),a.jsxs("div",{className:"flex items-center gap-2 border-l border-slate-100 pl-3 h-10 mt-2",children:[a.jsx("input",{type:"checkbox",checked:B,onChange:D=>_(D.target.checked),id:"hideZero",className:"rounded text-blue-600 focus:ring-blue-500"}),a.jsx("label",{htmlFor:"hideZero",className:"text-[10px] font-black text-slate-600 uppercase cursor-pointer",children:"Filtrar vendidas en 0"})]})]})]}),!u||!h?a.jsxs("div",{className:"bg-white p-24 rounded-[48px] border-2 border-dashed border-slate-200 flex flex-col items-center text-center",children:[a.jsx("div",{className:"w-20 h-20 bg-slate-100 rounded-full flex items-center justify-center text-slate-300 mb-4",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-10 h-10",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 3v11.25A2.25 2.25 0 0 0 6 16.5h2.25M3.75 3h-1.5m1.5 0h16.5m0 0h1.5m-1.5 0v11.25A2.25 2.25 0 0 1 18 16.5h-2.25m-7.5 0h7.5m-7.5 0-1 3m8.5-3 1 3m0 0 .5 1.5m-.5-1.5h-9.5m0 0-.5 1.5M9 11.25v1.5M12 9v3.75m3-6v6"})})}),a.jsx("p",{className:"text-slate-400 font-bold text-lg",children:"Seleccione una correra y una referencia"}),a.jsx("p",{className:"text-slate-300 font-bold text-sm mt-2",children:"para ver el reporte de despachos"})]}):ee?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[a.jsx(Rs,{label:"Total Vendidas",value:ee.totals.totalVendidas,color:"slate"}),a.jsx(Rs,{label:"Stock",value:ee.totals.stock,color:"blue"}),a.jsx(Rs,{label:"Cortadas",value:ee.totals.cortadas,color:"purple"}),a.jsx(Rs,{label:"Programadas",value:ee.totals.programadas,color:"indigo"}),a.jsx(Rs,{label:"Pendiente",value:ee.totals.pendiente,color:"orange"}),a.jsx(Rs,{label:"Faltan Despachar",value:ee.totals.faltanDespachar,color:"red",highlight:!0})]}),ee.reference&&a.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-4 rounded-2xl border border-blue-100",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Referencia seleccionada"}),a.jsx("p",{className:"font-black text-slate-900 text-lg",children:ee.reference.id}),a.jsx("p",{className:"text-xs font-bold text-slate-500",children:ee.reference.description})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Precio"}),a.jsxs("p",{className:"font-black text-blue-600 text-xl",children:["$",ee.reference.price.toLocaleString()]})]})]})}),a.jsx("div",{className:"bg-white rounded-[32px] shadow-sm border border-slate-100 overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"w-full text-left text-[10px] min-w-[1000px]",children:[a.jsx("thead",{className:"bg-slate-50",children:a.jsxs("tr",{className:"border-b border-slate-100",children:[a.jsx("th",{className:"px-4 py-4 font-black uppercase text-slate-700",children:"Cliente / Direccin"}),a.jsx("th",{className:"px-2 py-4 font-black uppercase text-center text-blue-800",children:"Referencia"}),a.jsx("th",{className:"px-2 py-4 font-black uppercase text-center text-slate-700",children:"Precio"}),a.jsx("th",{className:"px-2 py-4 font-black uppercase text-center text-green-700",children:"Und Despachadas"}),a.jsx("th",{className:"px-2 py-4 font-black uppercase text-center text-indigo-700",children:"FV / Oficial"}),a.jsx("th",{className:"px-2 py-4 font-black uppercase text-center text-pink-700",children:"Remi / ML"}),a.jsx("th",{className:"px-2 py-4 font-black uppercase text-center text-slate-700",children:"Vendedor"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-50",children:ee.clients.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"px-4 py-12 text-center text-slate-400 font-bold",children:"No hay clientes con pedidos para esta referencia"})}):ee.clients.map((D,f)=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[a.jsxs("td",{className:"px-4 py-3",children:[a.jsx("p",{className:"font-black text-slate-800 text-[11px] leading-tight",children:D.clientName}),a.jsx("p",{className:"text-[8px] font-bold text-slate-500 truncate",children:D.clientAddress})]}),a.jsx("td",{className:"px-2 py-3 text-center",children:a.jsx("span",{className:`px-2 py-1 rounded-md font-black ${D.totalSold>0?"bg-blue-600 text-white shadow-sm":"bg-slate-100 text-slate-400"}`,children:D.totalSold})}),a.jsxs("td",{className:"px-2 py-3 text-center font-bold text-slate-600",children:["$",D.price.toLocaleString()]}),a.jsx("td",{className:"px-2 py-3 text-center",children:a.jsx("span",{className:`px-2 py-1 rounded-md font-black ${D.totalDispatched>0?"bg-green-600 text-white shadow-sm":"bg-slate-100 text-slate-400"}`,children:D.totalDispatched})}),a.jsx("td",{className:"px-2 py-3 text-center font-bold text-slate-600",children:D.invoiceNo}),a.jsx("td",{className:"px-2 py-3 text-center font-bold text-slate-600",children:D.remissionNo}),a.jsx("td",{className:"px-2 py-3 text-center font-bold text-pink-600 uppercase text-[9px]",children:D.seller})]},`${D.clientId}-${f}`))}),ee.clients.length>0&&a.jsx("tfoot",{className:"bg-slate-50 border-t-2 border-slate-200",children:a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-4 font-black text-slate-700 uppercase text-xs",children:"Totales"}),a.jsx("td",{className:"px-2 py-4 text-center font-black text-blue-800 text-base",children:ee.totals.totalVendidas}),a.jsx("td",{className:"px-2 py-4 text-center font-black text-slate-700",children:"Total"}),a.jsx("td",{className:"px-2 py-4 text-center font-black text-red-600 text-base bg-red-50",children:ee.totals.totalDespachadas}),a.jsx("td",{colSpan:3,className:"px-2 py-4 text-center",children:a.jsxs("div",{className:"inline-block bg-blue-600 text-white px-4 py-2 rounded-xl font-black text-xs",children:["FALTAN: ",ee.totals.faltanDespachar," UNIDADES"]})})]})})]})})})]}):a.jsx("div",{className:"bg-white p-24 rounded-[48px] border-2 border-dashed border-slate-200 flex flex-col items-center text-center",children:a.jsx("p",{className:"text-slate-400 font-bold text-lg",children:"No hay datos para mostrar"})})]})},Rs=({label:d,value:c,color:u,highlight:o=!1})=>{const h={slate:"text-slate-700",blue:"text-blue-600",purple:"text-purple-600",indigo:"text-indigo-600",orange:"text-orange-600",red:"text-red-600"}[u]||"text-slate-700",y=o?"bg-gradient-to-br from-blue-500 to-blue-600 shadow-lg shadow-blue-200":"bg-white",B=o?"text-white":"",_=o?"text-blue-100":"text-slate-400";return a.jsxs("div",{className:`${y} p-4 rounded-2xl border ${o?"border-blue-400":"border-slate-100"} transition-all hover:scale-105`,children:[a.jsx("p",{className:`text-[9px] font-black ${_} uppercase tracking-widest mb-2`,children:d}),a.jsx("p",{className:`font-black text-2xl ${B||h}`,children:c})]})},np=({state:d})=>{var v;const[c,u]=b.useState(((v=d.correrias[0])==null?void 0:v.id)||""),[o,h]=b.useState(""),[y,B]=b.useState(!1),_=b.useMemo(()=>c?d.references.filter(C=>C.correrias&&C.correrias.includes(c)):[],[c,d.references]),p=b.useMemo(()=>{if(!c)return null;const C=_.map(P=>P.id),S=d.orders.filter(P=>P.correriaId===c&&P.items.some(j=>C.includes(j.reference))),J=d.dispatches.filter(P=>P.correriaId===c&&P.items.some(j=>C.includes(j.reference))),H=S.reduce((P,j)=>P+j.items.filter(Z=>C.includes(Z.reference)).reduce((Z,he)=>Z+he.quantity,0),0),m=J.reduce((P,j)=>P+j.items.filter(Z=>C.includes(Z.reference)).reduce((Z,he)=>Z+he.quantity,0),0),z=C.filter(P=>S.some(j=>j.items.some(Z=>Z.reference===P&&Z.quantity>0))),F=_.length-z.length,ae=_.length>0?z.length/_.length*100:0,ne=H>0?m/H*100:0,le=S.reduce((P,j)=>P+j.items.filter(Z=>C.includes(Z.reference)).reduce((Z,he)=>{const Q=d.references.find(E=>E.id===he.reference);return Z+he.quantity*((Q==null?void 0:Q.price)||0)},0),0),ee=J.reduce((P,j)=>P+j.items.filter(Z=>C.includes(Z.reference)).reduce((Z,he)=>{const Q=d.references.find(E=>E.id===he.reference);return Z+he.quantity*((Q==null?void 0:Q.price)||0)},0),0),te=le-ee,D=le>0?ee/le*100:0,f=d.sellers.map(P=>{const j=S.filter(g=>g.sellerId===P.id),Z=j.reduce((g,L)=>g+L.items.filter(T=>C.includes(T.reference)).reduce((T,K)=>T+K.quantity,0),0),he=j.map(g=>g.clientId),Q=J.filter(g=>he.includes(g.clientId)).reduce((g,L)=>g+L.items.filter(T=>C.includes(T.reference)).reduce((T,K)=>T+K.quantity,0),0),E=j.reduce((g,L)=>g+L.items.filter(T=>C.includes(T.reference)).reduce((T,K)=>{const ie=d.references.find(be=>be.id===K.reference);return T+K.quantity*((ie==null?void 0:ie.price)||0)},0),0),q=Z>0?Q/Z*100:0,N=J.filter(g=>he.includes(g.clientId)).reduce((g,L)=>g+L.items.filter(T=>C.includes(T.reference)).reduce((T,K)=>{const ie=d.references.find(be=>be.id===K.reference);return T+K.quantity*((ie==null?void 0:ie.price)||0)},0),0),G=E>0?N/E*100:0,I=le>0?E/le*100:0;return{nombre:P.name,pedidos:j.length,vendidas:Z,despachadas:Q,ventas:E,cumplimientoUnd:q,cumplimientoValor:G,porcentajeVenta:I}}).filter(P=>P.pedidos>0),O=d.sellers.map(P=>{const j=S.filter(I=>I.sellerId===P.id),Z=j.map(I=>I.clientId),he=j.length,Q=j.reduce((I,g)=>I+g.items.filter(L=>C.includes(L.reference)).reduce((L,T)=>{const K=d.references.find(ie=>ie.id===T.reference);return L+T.quantity*((K==null?void 0:K.price)||0)},0),0),E=j.filter(I=>I.items.some(g=>C.includes(g.reference))).reduce((I,g)=>I+g.totalValue,0),q=Q-E,N=J.filter(I=>Z.includes(I.clientId)).reduce((I,g)=>I+g.items.filter(L=>C.includes(L.reference)).reduce((L,T)=>{let K=0,ie=0;for(const oe of j){const xe=oe.items.find(w=>w.reference===T.reference);xe&&xe.salePrice&&(K+=xe.salePrice,ie++)}const be=ie>0?K/ie:0;return L+T.quantity*be},0),0),G=E>0?N/E*100:0;return{nombre:P.name,pedidos:he,valorLista:Q,valorReal:E,diferencia:q,valorDespachado:N,cumplimientoReal:G}}).filter(P=>P.pedidos>0),fe=[...new Set(_.map(P=>P.designer))].filter(Boolean).map(P=>{const j=_.filter(G=>G.designer===P),Z=j.map(G=>G.id),he=Z.filter(G=>S.some(I=>I.items.some(g=>g.reference===G&&g.quantity>0))),Q=S.reduce((G,I)=>G+I.items.filter(g=>Z.includes(g.reference)).reduce((g,L)=>{const T=d.references.find(K=>K.id===L.reference);return g+L.quantity*((T==null?void 0:T.price)||0)},0),0),E=j.length>0?he.length/j.length*100:0,q=j.length-he.length,N=j.length>0?q/j.length*100:0;return{nombre:P,ventasGeneradas:Q,refsCreadas:j.length,refsVendidas:he.length,exitoPedido:E,refsEnCero:q,porcentajeEnCero:N}}).sort((P,j)=>j.ventasGeneradas-P.ventasGeneradas);return{totalRefsUnicas:_.length,refsEnCero:F,porcentajeEnCero:_.length>0?F/_.length*100:0,efectividad:ae,totalVendidas:H,totalDespachadas:m,cumplimientoUnidades:ne,totalVendidoValor:le,totalDespachadoValor:ee,diferenciaValor:te,porcentajeDiferencia:le>0?te/le*100:0,cumplimientoValor:D,vendedoresData:f,valoresVendidosData:O,disenadorasData:fe}},[c,d,_]);return d.correrias.find(C=>C.id===c),a.jsxs("div",{className:"space-y-6 pb-20",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-black text-slate-800 tracking-tighter leading-none",children:"Informes generales de ventas y despacho por correra"}),a.jsx("p",{className:"text-slate-500 font-bold text-xs mt-1",children:"Panel Ejecutivo de Ventas y Despachos"})]}),a.jsx("div",{className:"bg-white p-3 rounded-3xl border border-slate-100 shadow-sm",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Correra Seleccionada"}),a.jsx(rp,{value:c,correrias:d.correrias,onChange:u,search:o,setSearch:h,showDropdown:y,setShowDropdown:B})]})})]}),p?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 p-6 rounded-3xl border border-orange-200 shadow-sm",children:[a.jsx("p",{className:"text-[10px] font-black text-orange-600 uppercase tracking-widest mb-4",children:"Referencias (Maleta)"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-3xl font-black text-slate-800",children:p.totalRefsUnicas}),a.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-wider",children:"Total referencias nicas"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-3xl font-black text-slate-800",children:p.refsEnCero}),a.jsxs("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-wider",children:["Referencias en cero (",p.porcentajeEnCero.toFixed(0),"%)"]})]}),a.jsxs("div",{className:"pt-2 border-t border-orange-200",children:[a.jsx("div",{className:"w-full bg-orange-200 rounded-full h-2 mb-2",children:a.jsx("div",{className:"bg-orange-600 h-2 rounded-full transition-all",style:{width:`${p.efectividad}%`}})}),a.jsxs("p",{className:"text-[10px] font-black text-orange-600 uppercase",children:["Efectividad Ref: ",p.efectividad.toFixed(1),"%"]})]})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-3xl border border-blue-200 shadow-sm",children:[a.jsx("p",{className:"text-[10px] font-black text-blue-600 uppercase tracking-widest mb-4",children:"Ventas vs Despachos"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-3xl font-black text-slate-800",children:p.totalVendidas.toLocaleString()}),a.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-wider",children:"Unidades vendidas"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-3xl font-black text-slate-800",children:p.totalDespachadas.toLocaleString()}),a.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-wider",children:"Unidades despachadas"})]}),a.jsxs("div",{className:"pt-2 border-t border-blue-200",children:[a.jsx("div",{className:"w-full bg-blue-200 rounded-full h-2 mb-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all",style:{width:`${p.cumplimientoUnidades}%`}})}),a.jsxs("p",{className:"text-[10px] font-black text-blue-600 uppercase",children:["Cumplimiento: ",p.cumplimientoUnidades.toFixed(1),"%"]})]})]})]}),a.jsxs("div",{className:"md:col-span-2 bg-gradient-to-br from-green-50 to-green-100 p-6 rounded-3xl border border-green-200 shadow-sm",children:[a.jsx("p",{className:"text-[10px] font-black text-green-600 uppercase tracking-widest mb-4",children:"Resumen Financiero"}),a.jsxs("div",{className:"flex items-center justify-between gap-6",children:[a.jsxs("div",{className:"space-y-4 flex-1",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-3xl font-black text-slate-800",children:["$ ",p.totalVendidoValor.toLocaleString()]}),a.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-wider",children:"Total vendido"})]}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-3xl font-black text-slate-800",children:["$ ",p.totalDespachadoValor.toLocaleString()]}),a.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-wider",children:"Total despachado"})]})]}),a.jsxs("div",{className:"flex flex-col items-center justify-center border-l border-green-200 pl-6",children:[a.jsxs("p",{className:"text-3xl font-black text-red-600",children:["$ ",p.diferenciaValor.toLocaleString()]}),a.jsx("p",{className:"text-[10px] font-bold text-red-500 uppercase tracking-wider text-center",children:"Diferencia faltante"}),a.jsxs("p",{className:"text-[10px] font-bold text-red-500 uppercase tracking-wider text-center",children:[p.porcentajeDiferencia.toFixed(1),"% de venta"]})]})]}),a.jsxs("div",{className:"pt-4 border-t border-green-200 mt-4",children:[a.jsx("div",{className:"w-full bg-green-200 rounded-full h-2 mb-2",children:a.jsx("div",{className:"bg-green-600 h-2 rounded-full transition-all",style:{width:`${p.cumplimientoValor}%`}})}),a.jsxs("p",{className:"text-[10px] font-black text-green-600 uppercase text-center",children:["Cumplimiento: ",p.cumplimientoValor.toFixed(1),"%"]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-slate-100 overflow-hidden",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-500 px-8 py-4",children:a.jsx("h3",{className:"text-lg font-black text-white uppercase tracking-wide",children:"Anlisis de Vendedores"})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left text-xs min-w-[900px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-slate-50 border-b border-slate-100",children:[a.jsx("th",{className:"px-6 py-4 font-black text-slate-500 uppercase tracking-widest text-[10px]",children:"Vendedor"}),a.jsx("th",{className:"px-4 py-4 font-black text-slate-500 uppercase tracking-widest text-[10px] text-center",children:"Pedidos"}),a.jsx("th",{className:"px-4 py-4 font-black text-slate-500 uppercase tracking-widest text-[10px] text-center",children:"Vendidas vs Despachadas"}),a.jsx("th",{className:"px-4 py-4 font-black text-slate-500 uppercase tracking-widest text-[10px] text-center",children:"Ventas ($)"}),a.jsx("th",{className:"px-4 py-4 font-black text-slate-500 uppercase tracking-widest text-[10px] text-center",children:"Cumplimiento (UND)"}),a.jsx("th",{className:"px-4 py-4 font-black text-slate-500 uppercase tracking-widest text-[10px] text-center",children:"Cumplimiento (Valor)"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:p.vendedoresData.map((C,S)=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("p",{className:"font-black text-slate-800 text-sm",children:C.nombre}),a.jsxs("p",{className:"text-[10px] font-bold text-blue-500",children:[C.porcentajeVenta.toFixed(1),"% de la venta total"]})]}),a.jsx("td",{className:"px-4 py-4 text-center font-black text-slate-800",children:C.pedidos}),a.jsxs("td",{className:"px-4 py-4 text-center",children:[a.jsx("span",{className:"font-black text-slate-800",children:C.vendidas}),a.jsx("span",{className:"text-slate-400 mx-1",children:"/"}),a.jsx("span",{className:"font-black text-blue-600",children:C.despachadas})]}),a.jsxs("td",{className:"px-4 py-4 text-center font-black text-slate-800",children:["$ ",C.ventas.toLocaleString()]}),a.jsx("td",{className:"px-4 py-4 text-center",children:a.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[a.jsxs("span",{className:"font-black text-xs",children:[C.cumplimientoUnd.toFixed(1),"%"]}),a.jsx("div",{className:"w-16 bg-slate-200 rounded-full h-1.5",children:a.jsx("div",{className:"bg-green-500 h-1.5 rounded-full",style:{width:`${Math.min(C.cumplimientoUnd,100)}%`}})})]})}),a.jsx("td",{className:"px-4 py-4 text-center",children:a.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[a.jsxs("span",{className:"font-black text-xs",children:[C.cumplimientoValor.toFixed(1),"%"]}),a.jsx("div",{className:"w-16 bg-slate-200 rounded-full h-1.5",children:a.jsx("div",{className:"bg-blue-500 h-1.5 rounded-full",style:{width:`${Math.min(C.cumplimientoValor,100)}%`}})})]})})]},S))}),a.jsx("tfoot",{children:a.jsxs("tr",{className:"bg-slate-100 border-t-2 border-slate-300",children:[a.jsx("td",{className:"px-6 py-4 font-black text-slate-700 uppercase text-xs",children:"Totales Consolidado"}),a.jsx("td",{className:"px-4 py-4 text-center font-black text-slate-800",children:p.vendedoresData.reduce((C,S)=>C+S.pedidos,0)}),a.jsxs("td",{className:"px-4 py-4 text-center",children:[a.jsx("span",{className:"font-black text-slate-800",children:p.totalVendidas}),a.jsx("span",{className:"text-slate-400 mx-1",children:"/"}),a.jsx("span",{className:"font-black text-blue-600",children:p.totalDespachadas})]}),a.jsxs("td",{className:"px-4 py-4 text-center font-black text-slate-800",children:["$ ",p.totalVendidoValor.toLocaleString()]}),a.jsx("td",{className:"px-4 py-4 text-center",children:a.jsxs("span",{className:"inline-block px-3 py-1 bg-green-100 text-green-700 font-black text-xs rounded-full",children:[p.cumplimientoUnidades.toFixed(1),"% GLOBAL (UND)"]})}),a.jsx("td",{className:"px-4 py-4 text-center",children:a.jsxs("span",{className:"inline-block px-3 py-1 bg-blue-100 text-blue-700 font-black text-xs rounded-full",children:[p.cumplimientoValor.toFixed(1),"% GLOBAL (VALOR)"]})})]})})]})})]}),a.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-slate-100 overflow-hidden",children:[a.jsx("div",{className:"bg-gradient-to-r from-emerald-600 to-emerald-500 px-8 py-4",children:a.jsx("h3",{className:"text-lg font-black text-white uppercase tracking-wide",children:"Anlisis de Valores Vendidos"})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left text-xs min-w-[1100px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-slate-50 border-b border-slate-100",children:[a.jsx("th",{className:"px-6 py-4 font-black text-slate-500 uppercase tracking-widest text-[10px]",children:"Vendedor"}),a.jsx("th",{className:"px-4 py-4 font-black text-slate-500 uppercase tracking-widest text-[10px] text-center",children:"Pedidos"}),a.jsx("th",{className:"px-4 py-4 font-black text-slate-500 uppercase tracking-widest text-[10px] text-center",children:"Valor Lista"}),a.jsx("th",{className:"px-4 py-4 font-black text-slate-500 uppercase tracking-widest text-[10px] text-center",children:"Valor Real"}),a.jsx("th",{className:"px-4 py-4 font-black text-slate-500 uppercase tracking-widest text-[10px] text-center",children:"Diferencia"}),a.jsx("th",{className:"px-4 py-4 font-black text-slate-500 uppercase tracking-widest text-[10px] text-center",children:"Cumplimiento Real"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:p.valoresVendidosData.map((C,S)=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4 font-black text-slate-800 text-sm",children:C.nombre}),a.jsx("td",{className:"px-4 py-4 text-center font-black text-slate-800",children:C.pedidos}),a.jsxs("td",{className:"px-4 py-4 text-center font-black text-slate-800",children:["$ ",C.valorLista.toLocaleString()]}),a.jsxs("td",{className:"px-4 py-4 text-center font-black text-emerald-600",children:["$ ",C.valorReal.toLocaleString()]}),a.jsxs("td",{className:"px-4 py-4 text-center",children:[a.jsxs("span",{className:"font-black text-red-600",children:["$ ",C.diferencia.toLocaleString()]}),a.jsxs("p",{className:"text-[9px] text-red-500 font-bold",children:[C.valorLista>0?(C.diferencia/C.valorLista*100).toFixed(1):0,"% descuento"]})]}),a.jsx("td",{className:"px-4 py-4 text-center",children:a.jsxs("div",{className:"flex flex-col items-center gap-2",children:[a.jsxs("span",{className:"font-black text-emerald-600",children:["$ ",C.valorDespachado.toLocaleString()]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"font-black text-xs",children:[C.cumplimientoReal.toFixed(1),"%"]}),a.jsx("div",{className:"w-16 bg-slate-200 rounded-full h-1.5",children:a.jsx("div",{className:"bg-emerald-500 h-1.5 rounded-full",style:{width:`${Math.min(C.cumplimientoReal,100)}%`}})})]})]})})]},S))}),a.jsx("tfoot",{children:a.jsxs("tr",{className:"bg-slate-100 border-t-2 border-slate-300",children:[a.jsx("td",{className:"px-6 py-4 font-black text-slate-700 uppercase text-xs",children:"Totales Consolidado"}),a.jsx("td",{className:"px-4 py-4 text-center font-black text-slate-800",children:p.valoresVendidosData.reduce((C,S)=>C+S.pedidos,0)}),a.jsxs("td",{className:"px-4 py-4 text-center font-black text-slate-800",children:["$ ",p.valoresVendidosData.reduce((C,S)=>C+S.valorLista,0).toLocaleString()]}),a.jsxs("td",{className:"px-4 py-4 text-center font-black text-emerald-600",children:["$ ",p.valoresVendidosData.reduce((C,S)=>C+S.valorReal,0).toLocaleString()]}),a.jsx("td",{className:"px-4 py-4 text-center",children:a.jsxs("span",{className:"font-black text-red-600",children:["$ ",p.valoresVendidosData.reduce((C,S)=>C+S.diferencia,0).toLocaleString()]})}),a.jsx("td",{className:"px-4 py-4 text-center",children:a.jsxs("span",{className:"inline-block px-3 py-1 bg-emerald-100 text-emerald-700 font-black text-xs rounded-full",children:[p.valoresVendidosData.reduce((C,S)=>C+S.valorDespachado,0)>0?(p.valoresVendidosData.reduce((C,S)=>C+S.valorDespachado,0)/p.valoresVendidosData.reduce((C,S)=>C+S.valorReal,0)*100).toFixed(1):0,"% GLOBAL"]})})]})})]})})]}),a.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-slate-100 overflow-hidden",children:[a.jsx("div",{className:"bg-gradient-to-r from-slate-700 to-slate-600 px-8 py-4",children:a.jsx("h3",{className:"text-lg font-black text-white uppercase tracking-wide",children:"Performance de Diseadoras"})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left text-xs min-w-[800px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-slate-50 border-b border-slate-100",children:[a.jsx("th",{className:"px-6 py-4 font-black text-slate-500 uppercase tracking-widest text-[10px]",children:"Diseadora"}),a.jsx("th",{className:"px-4 py-4 font-black text-slate-500 uppercase tracking-widest text-[10px] text-center",children:"Ventas Generadas"}),a.jsx("th",{className:"px-4 py-4 font-black text-slate-500 uppercase tracking-widest text-[10px] text-center",children:"Ref. Creadas"}),a.jsx("th",{className:"px-4 py-4 font-black text-slate-500 uppercase tracking-widest text-[10px] text-center",children:"Ref. Vendidas"}),a.jsx("th",{className:"px-4 py-4 font-black text-slate-500 uppercase tracking-widest text-[10px] text-center",children:"% xito Pedido"}),a.jsx("th",{className:"px-4 py-4 font-black text-slate-500 uppercase tracking-widest text-[10px] text-center",children:"Refs en Cero"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:p.disenadorasData.map((C,S)=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4 font-black text-slate-800 text-sm uppercase",children:C.nombre}),a.jsxs("td",{className:"px-4 py-4 text-center font-black text-slate-800",children:["$ ",C.ventasGeneradas.toLocaleString()]}),a.jsx("td",{className:"px-4 py-4 text-center font-black text-slate-800",children:C.refsCreadas}),a.jsx("td",{className:"px-4 py-4 text-center font-black text-green-600",children:C.refsVendidas}),a.jsx("td",{className:"px-4 py-4 text-center",children:a.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[a.jsxs("span",{className:"font-black text-xs",children:[C.exitoPedido.toFixed(0),"%"]}),a.jsx("div",{className:"w-16 bg-slate-200 rounded-full h-1.5",children:a.jsx("div",{className:"bg-green-500 h-1.5 rounded-full",style:{width:`${C.exitoPedido}%`}})})]})}),a.jsx("td",{className:"px-4 py-4 text-center",children:a.jsxs("span",{className:"font-black text-red-600",children:[C.refsEnCero," (",C.porcentajeEnCero.toFixed(0),"%)"]})})]},S))})]})})]})]}):a.jsx("div",{className:"bg-white p-24 rounded-[48px] border-2 border-dashed border-slate-200 flex flex-col items-center text-center",children:a.jsx("p",{className:"text-slate-400 font-bold text-lg",children:"Seleccione una correra"})})]})},rp=({value:d,correrias:c,onChange:u,search:o,setSearch:h,showDropdown:y,setShowDropdown:B})=>{const _=b.useRef(null),p=b.useRef(),v=c.find(m=>m.id===d),C=v?`${v.name} ${v.year}`:d,S=c.filter(m=>m.name.toLowerCase().includes(o.toLowerCase())||m.year.toString().includes(o)),J=()=>{p.current=setTimeout(()=>B(!1),300)},H=m=>{p.current&&clearTimeout(p.current),u(m),B(!1),h("")};return a.jsxs("div",{className:"relative",ref:_,children:[a.jsx("input",{type:"text",value:y?o:C,onChange:m=>h(m.target.value),onFocus:()=>{B(!0),h("")},onBlur:J,placeholder:"Buscar...",className:"bg-transparent border-none font-black text-sm text-slate-800 focus:ring-0 pr-8 placeholder:text-slate-400"}),y&&a.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border border-slate-200 rounded-lg shadow-2xl max-h-48 overflow-y-auto",style:{zIndex:9999,minWidth:"250px"},onMouseDown:m=>m.preventDefault(),children:S.map(m=>a.jsxs("button",{onMouseDown:()=>H(m.id),className:"w-full px-3 py-2 text-left hover:bg-blue-50 transition-colors border-b border-slate-50 last:border-0",children:[a.jsx("p",{className:"font-black text-slate-800 text-xs",children:m.name}),a.jsx("p",{className:"text-[9px] text-slate-400",children:m.year})]},m.id))})]})},ix=(d,c)=>{switch(d){case"confeccionistaId":return!c||typeof c=="string"&&c.trim()===""?{isValid:!1,error:"Confeccionista es requerido"}:{isValid:!0};case"referenceId":return!c||typeof c=="string"&&c.trim()===""?{isValid:!1,error:"Referencia es requerida"}:{isValid:!0};case"quantity":return c==null||c===""?{isValid:!1,error:"Cantidad es requerida"}:Number(c)<=0?{isValid:!1,error:"Cantidad debe ser mayor a 0"}:Number.isInteger(Number(c))?{isValid:!0}:{isValid:!1,error:"Cantidad debe ser un nmero entero"};case"sendDate":return!c||typeof c=="string"&&c.trim()===""?{isValid:!1,error:"Fecha de envo es requerida"}:ro(c)?{isValid:!0}:{isValid:!1,error:`Fecha invlida: ${c} (formato: YYYY-MM-DD)`};case"expectedDate":return!c||typeof c=="string"&&c.trim()===""?{isValid:!1,error:"Fecha presupuestada es requerida"}:ro(c)?{isValid:!0}:{isValid:!1,error:`Fecha invlida: ${c} (formato: YYYY-MM-DD)`};case"deliveryDate":return c&&typeof c=="string"&&c.trim()!==""&&!ro(c)?{isValid:!1,error:`Fecha invlida: ${c} (formato: YYYY-MM-DD)`}:{isValid:!0};case"process":return c&&typeof c!="string"?{isValid:!1,error:"Proceso debe ser texto"}:{isValid:!0};case"observation":return c&&typeof c!="string"?{isValid:!1,error:"Observacin debe ser texto"}:{isValid:!0};default:return{isValid:!0}}},fx=d=>{const c={};return["confeccionistaId","referenceId","quantity","sendDate","expectedDate"].forEach(o=>{const h=ix(o,d[o]);h.isValid||(c[o]=h.error||"Campo invlido")}),["deliveryDate","process","observation"].forEach(o=>{const h=ix(o,d[o]);h.isValid||(c[o]=h.error||"Campo invlido")}),{isValid:Object.keys(c).length===0,errors:c}},cp=d=>{const c={};return d.forEach((u,o)=>{const h=fx(u);h.isValid||(c[o]=h.errors)}),{isValid:Object.keys(c).length===0,errors:c}};function ro(d){if(typeof d!="string"||!/^\d{4}-\d{2}-\d{2}$/.test(d))return!1;const u=new Date(d+"T00:00:00Z");return u instanceof Date&&!isNaN(u.getTime())}const ip=({state:d,updateState:c,user:u,onUnsavedChanges:o})=>{const[h,y]=b.useState([]),[B,_]=b.useState(!1),[p,v]=b.useState(!1),[C,S]=b.useState(""),[J,H]=b.useState(""),[m,z]=b.useState({}),[F,ae]=b.useState(!1),[ne,le]=b.useState(!1);Dt(1,20);const ee=b.useRef(!1);(u==null?void 0:u.role)===_e.ADMIN||(u==null||u.role),b.useEffect(()=>{y(d.deliveryDates),ee.current=!1,o&&o(!1)},[]),b.useEffect(()=>{const j=Z=>{ee.current&&(Z.preventDefault(),Z.returnValue="")};return window.addEventListener("beforeunload",j),()=>window.removeEventListener("beforeunload",j)},[]);const te=()=>{const j={id:`temp_${Date.now()}`,confeccionistaId:"",referenceId:"",quantity:0,sendDate:"",expectedDate:"",deliveryDate:null,process:"",observation:"",createdAt:new Date().toISOString(),createdBy:u.name};c(Z=>({...Z,deliveryDates:[j,...Z.deliveryDates]})),ee.current=!0,o&&o(!0)},D=(j,Z,he)=>{c(E=>({...E,deliveryDates:E.deliveryDates.map(q=>q.id===j?{...q,[Z]:he}:q)}));const Q=d.deliveryDates.find(E=>E.id===j);if(Q){const E={...Q,[Z]:he},q=fx(E);z(N=>{const G=d.deliveryDates.findIndex(I=>I.id===j);if(q.isValid){const I={...N};return delete I[G],I}else return{...N,[G]:q.errors}})}ee.current=!0,o&&o(!0)},f=async j=>{if(confirm("Eliminar este registro?"))if(j.startsWith("temp_"))c(Z=>({...Z,deliveryDates:Z.deliveryDates.filter(he=>he.id!==j)}));else try{(await De.deleteDeliveryDate(j)).success?c(he=>({...he,deliveryDates:he.deliveryDates.filter(Q=>Q.id!==j)})):alert("Error al eliminar")}catch(Z){console.error("Error:",Z),alert("Error de conexin")}},O=async()=>{var he;const j=d.deliveryDates.filter(Q=>{const E=h.find(q=>q.id===Q.id);return E?JSON.stringify(E)!==JSON.stringify(Q):!0});if(j.length===0){alert("No hay cambios para guardar");return}const Z=cp(j);if(!Z.isValid){const Q={};Object.entries(Z.errors).forEach(([q,N])=>{const G=d.deliveryDates.findIndex(I=>I.id===j[parseInt(q)].id);G>=0&&(Q[G]=N)}),z(Q);let E=` Errores de validacin:

`;Object.entries(Z.errors).forEach(([q,N])=>{const G=parseInt(q);E+=`Fila ${G+1}:
`,Object.entries(N).forEach(([I,g])=>{E+=`   ${I}: ${g}
`})}),alert(E);return}_(!0);try{const Q=await De.saveDeliveryDatesBatch(j);if((he=Q.data)!=null&&he.summary){const{summary:E,errors:q}=Q.data;let N=` Resultado: ${E.saved} guardado(s)`;if(E.failed>0&&(N+=`, ${E.failed} error(es)`),alert(N),E.saved>0&&(y(d.deliveryDates),ee.current=!1,o&&o(!1),z({})),q&&q.length>0){let G=` Errores encontrados:

`;q.forEach(I=>{G+=`Fila ${I.index+1}:
`,Object.entries(I.errors).forEach(([g,L])=>{G+=`   ${g}: ${L}
`})}),alert(G)}}else Q.success?(y(d.deliveryDates),ee.current=!1,o&&o(!1),z({}),alert(` ${j.length} registro(s) guardado(s)`)):alert(` Error: ${Q.message}`)}catch(Q){console.error("Error:",Q),alert(" Error de conexin")}finally{_(!1)}},re=(j,Z)=>{if(!j||!Z)return null;const he=new Date(j),Q=new Date(Z);return Math.round((Q.getTime()-he.getTime())/(1e3*60*60*24))},fe=b.useMemo(()=>{const j=d.deliveryDates.filter(q=>q.deliveryDate),Z=d.deliveryDates.filter(q=>!q.deliveryDate),he=Z.filter(q=>{const N=new Date(q.expectedDate);return Math.round((new Date().getTime()-N.getTime())/(1e3*60*60*24))>20}).length,Q=j.length>0?j.reduce((q,N)=>{const G=re(N.expectedDate,N.deliveryDate);return q+(G||0)},0)/j.length:0,E=d.deliveryDates.length>0?j.length/d.deliveryDates.length*100:0;return{highPriority:he,pending:Z.length,avgDelay:Q.toFixed(1),efficiency:E.toFixed(0)}},[d.deliveryDates]),P=b.useMemo(()=>{let j=d.deliveryDates;return p&&(j=j.filter(Z=>!Z.deliveryDate)),C&&(j=j.filter(Z=>Z.confeccionistaId===C)),J&&(j=j.filter(Z=>{var he;return Z.sendDate.includes(J)||Z.expectedDate.includes(J)||((he=Z.deliveryDate)==null?void 0:he.includes(J))})),j},[d.deliveryDates,p,C,J]);return a.jsxs("div",{className:"space-y-6 pb-20",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-black text-slate-800 tracking-tighter",children:"Control de fechas de entrega y produccin"}),a.jsx("p",{className:"text-slate-500 font-bold text-xs mt-1",children:"Gestin de lotes y cronogramas"})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 bg-white p-3 rounded-3xl border border-slate-100 shadow-sm items-center",children:[a.jsxs("div",{className:"flex flex-col w-48",children:[a.jsx("span",{className:"text-[8px] font-black text-slate-600 uppercase ml-2 mb-1",children:"Confeccionista"}),a.jsx(ox,{value:C,confeccionistas:d.confeccionistas,onChange:S,disabled:!1})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-[8px] font-black text-slate-600 uppercase ml-2 mb-1",children:"Fecha"}),a.jsx("input",{type:"date",value:J,onChange:j=>H(j.target.value),className:"px-3 py-1.5 bg-slate-50 rounded-xl text-xs font-bold w-36 border-none focus:ring-2 focus:ring-blue-100"})]}),a.jsxs("div",{className:"flex items-center gap-2 border-l border-slate-100 pl-3 h-10 mt-2",children:[a.jsx("input",{type:"checkbox",checked:p,onChange:j=>v(j.target.checked),id:"hideD",className:"rounded text-blue-600 focus:ring-blue-500"}),a.jsx("label",{htmlFor:"hideD",className:"text-[10px] font-black text-slate-600 uppercase cursor-pointer",children:"Ocultar entregados"})]}),a.jsx("div",{className:"flex items-center gap-2 border-l border-slate-100 pl-3",children:a.jsx("button",{onClick:O,disabled:B,className:"px-6 py-2.5 bg-gradient-to-r from-green-600 to-green-500 text-white font-black rounded-xl text-xs uppercase tracking-wider hover:shadow-lg hover:scale-105 transition-all disabled:opacity-50",children:B?"Guardando...":"Guardar"})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-red-100 p-6 rounded-3xl border border-red-200",children:[a.jsx("p",{className:"text-[10px] font-black text-red-600 uppercase tracking-widest mb-2",children:"Lotes de atencin prioritaria"}),a.jsx("p",{className:"text-5xl font-black text-red-700",children:fe.highPriority}),a.jsx("p",{className:"text-[10px] font-bold text-red-500 uppercase mt-1",children:"Lotes con 20 das de retraso"})]}),a.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 p-6 rounded-3xl border border-yellow-200",children:[a.jsx("p",{className:"text-[10px] font-black text-yellow-600 uppercase tracking-widest mb-2",children:"Lotes en proceso"}),a.jsx("p",{className:"text-5xl font-black text-yellow-700",children:fe.pending}),a.jsx("p",{className:"text-[10px] font-bold text-yellow-500 uppercase mt-1",children:"Pendientes por entregar"})]}),a.jsxs("div",{className:"bg-gradient-to-br from-pink-50 to-pink-100 p-6 rounded-3xl border border-pink-200",children:[a.jsx("p",{className:"text-[10px] font-black text-pink-600 uppercase tracking-widest mb-2",children:"Retraso promedio"}),a.jsx("p",{className:"text-5xl font-black text-pink-700",children:fe.avgDelay}),a.jsx("p",{className:"text-[10px] font-bold text-pink-500 uppercase mt-1",children:"Das respecto a fecha pactada"})]}),a.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-6 rounded-3xl border border-green-200",children:[a.jsx("p",{className:"text-[10px] font-black text-green-600 uppercase tracking-widest mb-2",children:"Eficiencia entrega"}),a.jsxs("p",{className:"text-5xl font-black text-green-700",children:[fe.efficiency,"%"]}),a.jsx("p",{className:"text-[10px] font-bold text-green-500 uppercase mt-1",children:"Cumplimiento de cronograma"})]})]}),a.jsxs("button",{onClick:te,className:"w-full py-4 bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-black rounded-2xl hover:shadow-lg transition-all flex items-center justify-center gap-2",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:3,stroke:"currentColor",className:"w-5 h-5",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),"AGREGAR NUEVA FILA"]}),a.jsx("div",{className:"bg-white rounded-3xl shadow-sm border border-slate-100",style:{overflow:"visible"},children:a.jsx("div",{style:{overflow:"visible"},children:a.jsxs("table",{className:"w-full text-left text-[10px] min-w-[1800px]",children:[a.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-4 font-black uppercase text-slate-700 w-48",children:"Confeccionista"}),a.jsx("th",{className:"px-3 py-4 font-black uppercase text-slate-700 text-center w-24",children:"Ref."}),a.jsx("th",{className:"px-3 py-4 font-black uppercase text-slate-700 text-center w-20",children:"Cant."}),a.jsx("th",{className:"px-3 py-4 font-black uppercase text-orange-700 text-center w-32 bg-yellow-50",children:"Fecha envo lote"}),a.jsx("th",{className:"px-3 py-4 font-black uppercase text-orange-700 text-center w-36 bg-yellow-50",children:"Fecha presup. entrega"}),a.jsx("th",{className:"px-3 py-4 font-black uppercase text-blue-700 text-center w-32 bg-blue-50",children:"Fecha entrega"}),a.jsx("th",{className:"px-3 py-4 font-black uppercase text-slate-700 text-center w-24",children:"Dif fechas"}),a.jsx("th",{className:"px-3 py-4 font-black uppercase text-slate-700 text-center w-24",children:"Rot. inicial"}),a.jsx("th",{className:"px-3 py-4 font-black uppercase text-slate-700 text-center w-24",children:"Rot. final"}),a.jsx("th",{className:"px-3 py-4 font-black uppercase text-slate-700 text-center w-28",children:"Rot final vs ini"}),a.jsx("th",{className:"px-4 py-4 font-black uppercase text-slate-700 w-32",children:"Proceso"}),a.jsx("th",{className:"px-4 py-4 font-black uppercase text-slate-700 w-40",children:"Observacin"}),a.jsx("th",{className:"px-3 py-4 text-center w-16"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-50",children:P.map((j,Z)=>{const he=d.deliveryDates.findIndex(I=>I.id===j.id),Q=m[he],E=re(j.expectedDate,j.deliveryDate),q=re(j.sendDate,j.expectedDate),N=re(j.sendDate,j.deliveryDate),G=q!==null&&N!==null?q-N:null;return a.jsxs("tr",{className:`hover:bg-slate-50 transition-colors ${Q?"bg-red-50":""}`,children:[a.jsx("td",{className:"px-4 py-2",children:a.jsxs("div",{children:[a.jsx(ox,{value:j.confeccionistaId,confeccionistas:d.confeccionistas,onChange:I=>D(j.id,"confeccionistaId",I),disabled:!1}),(Q==null?void 0:Q.confeccionistaId)&&a.jsx("p",{className:"text-[8px] text-red-600 font-bold mt-0.5",children:Q.confeccionistaId})]})}),a.jsx("td",{className:"px-3 py-2 text-center",children:a.jsxs("div",{children:[a.jsx("input",{type:"text",value:j.referenceId,onChange:I=>D(j.id,"referenceId",I.target.value),readOnly:!1,className:`w-full px-2 py-1 bg-slate-50 border rounded-lg font-black text-center text-blue-700 focus:ring-2 focus:ring-blue-100 ${Q!=null&&Q.referenceId?"border-red-500":"border-slate-200"}`}),(Q==null?void 0:Q.referenceId)&&a.jsx("p",{className:"text-[8px] text-red-600 font-bold mt-0.5",children:Q.referenceId})]})}),a.jsx("td",{className:"px-3 py-2 text-center",children:a.jsxs("div",{children:[a.jsx("input",{type:"number",value:j.quantity,onChange:I=>D(j.id,"quantity",Number(I.target.value)),readOnly:!1,className:`w-full px-2 py-1 bg-slate-50 border rounded-lg font-black text-center focus:ring-2 focus:ring-blue-100 ${Q!=null&&Q.quantity?"border-red-500":"border-slate-200"}`}),(Q==null?void 0:Q.quantity)&&a.jsx("p",{className:"text-[8px] text-red-600 font-bold mt-0.5",children:Q.quantity})]})}),a.jsx("td",{className:"px-3 py-2 text-center bg-yellow-50",children:a.jsxs("div",{children:[a.jsx("input",{type:"date",value:j.sendDate,onChange:I=>D(j.id,"sendDate",I.target.value),readOnly:!1,className:`w-full px-2 py-1 bg-white border rounded-lg font-bold text-center text-orange-700 focus:ring-2 focus:ring-orange-100 ${Q!=null&&Q.sendDate?"border-red-500":"border-orange-200"}`}),(Q==null?void 0:Q.sendDate)&&a.jsx("p",{className:"text-[8px] text-red-600 font-bold mt-0.5",children:Q.sendDate})]})}),a.jsx("td",{className:"px-3 py-2 text-center bg-yellow-50",children:a.jsxs("div",{children:[a.jsx("input",{type:"date",value:j.expectedDate,onChange:I=>D(j.id,"expectedDate",I.target.value),readOnly:!1,className:`w-full px-2 py-1 bg-white border rounded-lg font-bold text-center text-orange-700 focus:ring-2 focus:ring-orange-100 ${Q!=null&&Q.expectedDate?"border-red-500":"border-orange-200"}`}),(Q==null?void 0:Q.expectedDate)&&a.jsx("p",{className:"text-[8px] text-red-600 font-bold mt-0.5",children:Q.expectedDate})]})}),a.jsx("td",{className:"px-3 py-2 text-center bg-blue-50",children:a.jsx("input",{type:"date",value:j.deliveryDate||"",onChange:I=>D(j.id,"deliveryDate",I.target.value||null),readOnly:!1,className:"w-full px-2 py-1 bg-white border border-blue-200 rounded-lg font-bold text-center text-blue-700 focus:ring-2 focus:ring-blue-100"})}),a.jsx("td",{className:"px-3 py-2 text-center",children:a.jsx("span",{className:`font-black ${E&&E>0?"text-red-600":E&&E<0?"text-green-600":"text-slate-400"}`,children:E!==null?E:"-"})}),a.jsx("td",{className:"px-3 py-2 text-center",children:a.jsx("span",{className:"font-bold text-slate-700",children:q!==null?q:"-"})}),a.jsx("td",{className:"px-3 py-2 text-center",children:a.jsx("span",{className:"font-bold text-slate-700",children:N!==null?N:"-"})}),a.jsx("td",{className:"px-3 py-2 text-center",children:a.jsx("span",{className:`font-black ${G&&G>0?"text-red-600":G&&G<0?"text-green-600":"text-slate-400"}`,children:G!==null?G:"-"})}),a.jsx("td",{className:"px-4 py-2",children:a.jsx("input",{type:"text",value:j.process,onChange:I=>D(j.id,"process",I.target.value),readOnly:!1,placeholder:"Estado...",className:"w-full px-2 py-1 bg-slate-50 border border-slate-200 rounded-lg font-bold text-indigo-700 focus:ring-2 focus:ring-indigo-100 placeholder:text-slate-300"})}),a.jsx("td",{className:"px-4 py-2",children:a.jsx("input",{type:"text",value:j.observation,onChange:I=>D(j.id,"observation",I.target.value),readOnly:!1,placeholder:"Nota...",className:"w-full px-2 py-1 bg-slate-50 border border-slate-200 rounded-lg font-bold text-slate-700 focus:ring-2 focus:ring-blue-100 placeholder:text-slate-300"})}),a.jsx("td",{className:"px-3 py-2 text-center",children:a.jsx("button",{onClick:()=>f(j.id),className:"p-1.5 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})})})})]},j.id)})})]})})})]})},ox=({value:d,confeccionistas:c,onChange:u,disabled:o})=>{const[h,y]=b.useState(""),[B,_]=b.useState(!1),p=b.useRef(null),v=b.useRef(),C=c.find(z=>z.id===d),S=C?`${C.id} - ${C.name}`:d,J=c.filter(z=>z.active&&(z.name.toLowerCase().includes(h.toLowerCase())||z.id.toLowerCase().includes(h.toLowerCase()))),H=()=>{v.current=setTimeout(()=>_(!1),300)},m=z=>{v.current&&clearTimeout(v.current),u(z),_(!1),y("")};return a.jsxs("div",{className:"relative",ref:p,children:[a.jsx("input",{type:"text",value:B?h:S,onChange:z=>y(z.target.value),onFocus:()=>{_(!0),y("")},onBlur:H,readOnly:o,placeholder:"Buscar...",className:"w-full px-2 py-1 bg-slate-50 border border-slate-200 rounded-lg font-bold text-slate-800 focus:ring-2 focus:ring-blue-100 placeholder:text-slate-300 text-xs"}),B&&a.jsx("div",{className:"absolute top-full left-0 w-full mt-1 bg-white border border-slate-200 rounded-lg shadow-2xl max-h-48 overflow-y-auto",style:{zIndex:9999,minWidth:"250px"},onMouseDown:z=>z.preventDefault(),children:J.map(z=>a.jsxs("button",{onMouseDown:()=>m(z.id),className:"w-full px-3 py-2 text-left hover:bg-blue-50 transition-colors border-b border-slate-50 last:border-0",children:[a.jsx("p",{className:"font-black text-slate-800 text-xs",children:z.name}),a.jsx("p",{className:"text-[9px] text-slate-400",children:z.id})]},z.id))})]})},op=()=>{const[d,c]=b.useState([]),[u,o]=b.useState(null),[h,y]=b.useState(!1),[B,_]=b.useState(null),[p,v]=b.useState(!1),[C,S]=b.useState(null),[J,H]=b.useState(!1),m=Dt(1,50);b.useEffect(()=>{z(),F();const f=setInterval(()=>{z(),F()},300*1e3);return()=>clearInterval(f)},[]),b.useEffect(()=>{m.pagination.total=d.length,m.pagination.totalPages=Math.ceil(d.length/m.pagination.limit)},[d.length,m.pagination.limit]);const z=async()=>{var f,O;try{y(!0);const re=await De.getBackups();re.success&&(c(re.backups||[]),_(null))}catch(re){_("Error cargando backups: "+(((O=(f=re.response)==null?void 0:f.data)==null?void 0:O.error)||re.message))}finally{y(!1)}},F=async()=>{try{const f=await De.getBackupStats();f.success&&o(f.stats||null)}catch(f){console.error("Error cargando estadsticas:",f)}},ae=async()=>{var f,O;try{y(!0),(await De.executeManualBackup()).success&&(alert(" Backup ejecutado exitosamente"),z(),F())}catch(re){alert(" Error ejecutando backup: "+(((O=(f=re.response)==null?void 0:f.data)==null?void 0:O.error)||re.message))}finally{y(!1)}},ne=f=>{S(f),H(!0)},le=async()=>{var f,O;if(C)try{v(!0),H(!1),(await De.restoreBackup(C.filename)).success&&(alert(` Backup restaurado exitosamente

La aplicacin se recargar en 3 segundos...`),setTimeout(()=>{window.location.reload()},3e3))}catch(re){alert(" Error restaurando backup: "+(((O=(f=re.response)==null?void 0:f.data)==null?void 0:O.error)||re.message))}finally{v(!1),S(null)}},ee=f=>new Date(f).toLocaleString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}),te=f=>{switch(f){case"daily":return"bg-blue-100 text-blue-700";case"weekly":return"bg-green-100 text-green-700";case"monthly":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},D=f=>{switch(f){case"daily":return"Diario";case"weekly":return"Semanal";case"monthly":return"Mensual";default:return f}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center text-white shadow-lg",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-black text-slate-900",children:"Gestin de Backups"}),a.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Administra y restaura backups de la base de datos"})]})]}),u&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[a.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-slate-100 hover:shadow-md transition-shadow",children:[a.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Total de Backups"}),a.jsx("p",{className:"text-4xl font-black text-slate-900",children:u.totalBackups})]}),a.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-slate-100 hover:shadow-md transition-shadow",children:[a.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Almacenamiento Total"}),a.jsx("p",{className:"text-3xl font-black text-slate-900",children:u.totalSizeInMB}),a.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"MB"})]}),a.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-slate-100 hover:shadow-md transition-shadow",children:[a.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Diarios"}),a.jsx("p",{className:"text-3xl font-black text-blue-600",children:u.byType.daily.count}),a.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:[u.byType.daily.sizeInMB," MB"]})]}),a.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-slate-100 hover:shadow-md transition-shadow",children:[a.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Semanales"}),a.jsx("p",{className:"text-3xl font-black text-green-600",children:u.byType.weekly.count}),a.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:[u.byType.weekly.sizeInMB," MB"]})]}),a.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-slate-100 hover:shadow-md transition-shadow",children:[a.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Mensuales"}),a.jsx("p",{className:"text-3xl font-black text-red-600",children:u.byType.monthly.count}),a.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:[u.byType.monthly.sizeInMB," MB"]})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:ae,disabled:h||p,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-500 text-white font-bold rounded-2xl hover:shadow-lg hover:shadow-blue-200 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-md",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 16.5V9.75m0 0l3 3m-3-3l-3 3M6.75 19.5a4.5 4.5 0 01-1.41-8.775 5.25 5.25 0 0110.233-2.33A3 3 0 0116.5 19.5H6.75z"})}),h?" Ejecutando...":" Backup Manual"]}),a.jsxs("button",{onClick:z,disabled:h||p,className:"flex items-center gap-2 px-6 py-3 bg-white text-slate-700 font-bold rounded-2xl border border-slate-200 hover:bg-slate-50 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-5.971m0 0eqn.023-9.348h4.992m0 0a3.022 3.022 0 010 5.957m-2.165 2.756h5.338a3 3 0 00 3-3V5.359a3 3 0 00-3-3h-5.337a3 3 0 00-3 3v13.999a3 3 0 003 3z"})})," Recargar"]})]}),B&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-2xl p-4 text-red-700 font-semibold",children:B}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-slate-100",children:a.jsx("h2",{className:"text-xl font-black text-slate-900",children:" Backups Disponibles"})}),h?a.jsxs("div",{className:"p-12 text-center",children:[a.jsx("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-slate-600 font-semibold",children:"Cargando backups..."})]}):d.length===0?a.jsx("div",{className:"p-12 text-center",children:a.jsx("p",{className:"text-slate-500 font-semibold",children:"No hay backups disponibles"})}):a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 border-b border-slate-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-600 uppercase tracking-wider",children:"Tipo"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-600 uppercase tracking-wider",children:"Fecha"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-600 uppercase tracking-wider",children:"Tamao"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-600 uppercase tracking-wider",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:d.slice((m.pagination.page-1)*m.pagination.limit,m.pagination.page*m.pagination.limit).map(f=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-bold ${te(f.type)}`,children:D(f.type)})}),a.jsx("td",{className:"px-6 py-4 text-sm text-slate-700 font-medium",children:ee(f.createdAtISO)}),a.jsxs("td",{className:"px-6 py-4 text-sm text-slate-700 font-medium",children:[f.sizeInMB," MB"]}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("button",{onClick:()=>ne(f),disabled:p,className:"px-4 py-2 bg-green-600 text-white font-bold rounded-xl hover:bg-green-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed text-sm shadow-sm hover:shadow-md",children:" Restaurar"})})]},f.filename))})]}),a.jsx(Ca,{currentPage:m.pagination.page,totalPages:m.pagination.totalPages,pageSize:m.pagination.limit,onPageChange:m.goToPage,onPageSizeChange:m.setLimit})]})]}),J&&C&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/40 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6 text-yellow-600",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c.866 1.5 2.926 2.871 5.303 2.871s4.437-1.372 5.303-2.87m0 0a3.75 3.75 0 11-7.5 0m7.5 0a3.75 3.75 0 1-7.5 0"})})}),a.jsx("h2",{className:"text-2xl font-black text-slate-900",children:" Confirmar Restauracin"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("p",{className:"text-slate-700",children:["Ests seguro de que deseas restaurar el backup de"," ",a.jsx("strong",{children:ee(C.createdAtISO)}),"?"]}),a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-4",children:a.jsx("p",{className:"text-sm text-yellow-800 font-semibold",children:" Se perdern todos los cambios posteriores a esta fecha. Se crear automticamente un backup de seguridad del estado actual."})})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx("button",{onClick:()=>H(!1),disabled:p,className:"flex-1 px-4 py-3 bg-slate-100 text-slate-700 font-bold rounded-xl hover:bg-slate-200 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancelar"}),a.jsx("button",{onClick:le,disabled:p,className:"flex-1 px-4 py-3 bg-red-600 text-white font-bold rounded-xl hover:bg-red-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:p?" Restaurando...":" Restaurar"})]})]})})]})};function Yr(){var d;return(d=window.API_CONFIG)!=null&&d.getApiUrl?window.API_CONFIG.getApiUrl().replace("/api",""):`${window.location.protocol}//${window.location.hostname}:3000`}const dp=({state:d,user:c,updateState:u,onNavigate:o})=>{const[h,y]=b.useState(""),[B,_]=b.useState(!1),[p,v]=b.useState(""),[C,S]=b.useState(""),[J,H]=b.useState(!1),[m,z]=b.useState(""),[F,ae]=b.useState(""),[ne,le]=b.useState(""),ee=Dt(1,50),D=(c==null?void 0:c.role)==="diseadora"||(c==null?void 0:c.role)==="admin"||(c==null?void 0:c.role)==="general",f=Yr(),O=(d.fichasDiseno||[]).filter(j=>{if(!h)return!0;const Z=h.toLowerCase();return j.referencia.toLowerCase().includes(Z)||(j.descripcion||"").toLowerCase().includes(Z)||(j.marca||"").toLowerCase().includes(Z)});Et.useEffect(()=>{ee.pagination.total=O.length,ee.pagination.totalPages=Math.ceil(O.length/ee.pagination.limit)},[O.length,ee.pagination.limit]);const re=()=>{if(!p.trim()){alert("La referencia es obligatoria");return}if(!C){alert("Debe seleccionar una diseadora");return}if((d.fichasDiseno||[]).find(j=>j.referencia===p)){alert("Ya existe una ficha con esta referencia");return}_(!1),o("fichas-diseno-detalle",{referencia:p,nueva:!0,disenadoraId:C}),v(""),S("")},fe=async()=>{if(!m.trim()){alert("El nombre es obligatorio");return}try{const Z=await(await fetch(`${Yr()}/api/disenadoras`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`},body:JSON.stringify({nombre:m,cedula:F||null,telefono:ne||null,activa:!0})})).json();Z.success&&Z.data?(u(he=>({...he,disenadoras:[...he.disenadoras||[],Z.data]})),S(Z.data.id),H(!1),z(""),ae(""),le(""),alert("Diseadora creada exitosamente")):alert(Z.message||"Error al crear diseadora")}catch(j){console.error("Error:",j),alert("Error al crear diseadora")}},P=async(j,Z)=>{if(Z.stopPropagation(),!!window.confirm("Est seguro de que desea eliminar esta ficha?"))try{const Q=await(await fetch(`${Yr()}/api/fichas-diseno/${j}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}})).json();if(Q.success){alert(" Ficha eliminada exitosamente");const E=await fetch(`${Yr()}/api/fichas-diseno`,{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}}).then(q=>q.json()).then(q=>q.data||[]);u(q=>({...q,fichasDiseno:E}))}else alert(" Error: "+Q.message)}catch{alert(" Error de conexin")}};return a.jsxs("div",{className:"space-y-6 pb-20",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-black text-slate-800 tracking-tighter",children:"Fichas de Diseo"}),a.jsxs("p",{className:"text-slate-500 font-bold text-xs mt-1",children:[O.length," ficha",O.length!==1?"s":""]})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[a.jsxs("div",{className:"relative flex-1 min-w-[250px]",children:[a.jsx("input",{type:"text",value:h,onChange:j=>y(j.target.value),placeholder:"Buscar referencia, descripcin...",className:"w-full px-6 py-4 bg-white border border-slate-200 rounded-2xl focus:ring-4 focus:ring-blue-100 transition-all font-bold text-slate-900 shadow-sm"}),a.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-300",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})})})]}),D&&a.jsxs("button",{onClick:()=>_(!0),className:"px-8 py-4 bg-gradient-to-r from-pink-600 to-pink-500 text-white font-black rounded-2xl shadow-lg hover:shadow-xl hover:scale-105 transition-all flex items-center gap-2 uppercase tracking-wider text-sm",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:3,stroke:"currentColor",className:"w-5 h-5",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),"Crear Ficha Nueva"]})]})]}),O.length===0?a.jsxs("div",{className:"bg-white p-24 rounded-[48px] border-2 border-dashed border-slate-200 flex flex-col items-center text-center",children:[a.jsx("div",{className:"w-20 h-20 bg-slate-100 rounded-full flex items-center justify-center text-slate-300 mb-4",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-10 h-10",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})})}),a.jsx("p",{className:"text-slate-400 font-bold text-lg",children:h?`No se encontraron fichas con "${h}"`:"No hay fichas de diseo"}),D&&!h&&a.jsx("button",{onClick:()=>_(!0),className:"mt-6 px-6 py-3 bg-pink-500 text-white font-black rounded-xl hover:bg-pink-600 transition-colors",children:"Crear Primera Ficha"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:O.slice((ee.pagination.page-1)*ee.pagination.limit,ee.pagination.page*ee.pagination.limit).map(j=>a.jsxs("div",{className:"group bg-white rounded-2xl border border-slate-200 hover:border-pink-300 hover:shadow-lg transition-all overflow-hidden text-left cursor-pointer",onClick:()=>o("fichas-diseno-detalle",{referencia:j.referencia}),children:[a.jsxs("div",{className:"aspect-square bg-slate-100 relative overflow-hidden",children:[j.foto1?a.jsx("img",{src:`${f}${j.foto1}`,alt:j.referencia,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}):a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1,stroke:"currentColor",className:"w-12 h-12 text-slate-300",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"})})}),j.importada&&a.jsx("div",{className:"absolute top-2 right-2 px-2 py-1 bg-blue-500 text-white rounded-lg text-[9px] font-black uppercase",children:"Importada"}),(c==null?void 0:c.role)==="admin"&&!j.importada&&a.jsx("div",{onClick:Z=>P(j.referencia,Z),className:"absolute top-2 left-2 p-2 bg-red-500 text-white rounded-lg opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600 cursor-pointer",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("div",{className:"p-3",children:[a.jsx("p",{className:"font-black text-pink-600 text-sm mb-1",children:j.referencia}),a.jsx("p",{className:"text-xs font-bold text-slate-600 truncate mb-2",children:j.descripcion||"Sin descripcin"}),a.jsxs("div",{className:"flex items-center justify-between text-[10px]",children:[a.jsx("span",{className:"text-slate-400 font-bold",children:j.disenadoraNombre}),a.jsxs("span",{className:"font-black text-slate-700",children:["$",(j.costoTotal||0).toLocaleString()]})]})]})]},j.id))}),a.jsx("div",{className:"mt-6",children:a.jsx(Ca,{currentPage:ee.pagination.page,totalPages:ee.pagination.totalPages,pageSize:ee.pagination.limit,onPageChange:ee.goToPage,onPageSizeChange:ee.setLimit})})]}),B&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/40 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-md w-full p-8",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"w-16 h-16 bg-pink-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-8 h-8 text-pink-600",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m3.75 9v6m3-3H9m1.5-12H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})})}),a.jsx("h3",{className:"text-2xl font-black text-slate-800 mb-2",children:"Crear Ficha Nueva"}),a.jsx("p",{className:"text-sm text-slate-500 font-bold",children:"Ingrese la referencia y diseadora"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block mb-2",children:"Referencia"}),a.jsx("input",{type:"text",value:p,onChange:j=>v(j.target.value.toUpperCase()),placeholder:"Ej: 13011",autoFocus:!0,className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl font-bold focus:ring-4 focus:ring-pink-100 focus:border-pink-500"})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Diseadora"}),a.jsx("button",{onClick:()=>H(!0),className:"text-[10px] font-black text-pink-600 hover:text-pink-700 uppercase tracking-widest",children:"+ Nueva"})]}),a.jsxs("select",{value:C,onChange:j=>S(j.target.value),className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl font-bold focus:ring-4 focus:ring-pink-100 focus:border-pink-500",children:[a.jsx("option",{value:"",children:"Seleccionar..."}),(d.disenadoras||[]).filter(j=>j.activa).map(j=>a.jsx("option",{value:j.id,children:j.nombre},j.id))]})]})]}),a.jsxs("div",{className:"flex gap-3 mt-8",children:[a.jsx("button",{onClick:()=>{_(!1),v(""),S("")},className:"flex-1 px-6 py-3 bg-slate-100 text-slate-600 font-black rounded-xl hover:bg-slate-200 transition-colors uppercase tracking-wide text-sm",children:"Cancelar"}),a.jsx("button",{onClick:re,className:"flex-1 px-6 py-3 bg-gradient-to-r from-pink-600 to-pink-500 text-white font-black rounded-xl hover:shadow-lg transition-all uppercase tracking-wide text-sm",children:"Crear"})]})]})}),J&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/40 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-md w-full p-8",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-8 h-8 text-blue-600",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zM3 19.235v-.11a6.375 6.375 0 0112.75 0v.109A6.375 6.375 0 013 19.235z"})})}),a.jsx("h3",{className:"text-2xl font-black text-slate-800 mb-2",children:"Nueva Diseadora"}),a.jsx("p",{className:"text-sm text-slate-500 font-bold",children:"Ingrese los datos de la diseadora"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block mb-2",children:"Nombre *"}),a.jsx("input",{type:"text",value:m,onChange:j=>z(j.target.value),placeholder:"Ej: Mara Garca",autoFocus:!0,className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl font-bold focus:ring-4 focus:ring-blue-100 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block mb-2",children:"Cdula"}),a.jsx("input",{type:"text",value:F,onChange:j=>ae(j.target.value),placeholder:"Ej: 1234567890",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl font-bold focus:ring-4 focus:ring-blue-100 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block mb-2",children:"Telfono"}),a.jsx("input",{type:"text",value:ne,onChange:j=>le(j.target.value),placeholder:"Ej: 3001234567",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl font-bold focus:ring-4 focus:ring-blue-100 focus:border-blue-500"})]})]}),a.jsxs("div",{className:"flex gap-3 mt-8",children:[a.jsx("button",{onClick:()=>{H(!1),z(""),ae(""),le("")},className:"flex-1 px-6 py-3 bg-slate-100 text-slate-600 font-black rounded-xl hover:bg-slate-200 transition-colors uppercase tracking-wide text-sm",children:"Cancelar"}),a.jsx("button",{onClick:fe,className:"flex-1 px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-500 text-white font-black rounded-xl hover:shadow-lg transition-all uppercase tracking-wide text-sm",children:"Crear"})]})]})})]})};function ut(){var u;if((u=window.API_CONFIG)!=null&&u.getApiUrl)return window.API_CONFIG.getApiUrl();const d=window.location.protocol,c=window.location.hostname;return`${d}//${c}:3000/api`}function ht(){const d=localStorage.getItem("auth_token");return{"Content-Type":"application/json",...d&&{Authorization:`Bearer ${d}`}}}const up=async()=>(await(await fetch(`${ut()}/disenadoras`,{headers:ht()})).json()).data||[],xp=async d=>(await fetch(`${ut()}/disenadoras`,{method:"POST",headers:ht(),body:JSON.stringify(d)})).json(),fp=async(d,c)=>(await fetch(`${ut()}/disenadoras/${d}`,{method:"PUT",headers:ht(),body:JSON.stringify(c)})).json(),hp=async d=>(await fetch(`${ut()}/disenadoras/${d}`,{method:"DELETE",headers:ht()})).json(),pp=async()=>(await(await fetch(`${ut()}/fichas-diseno`,{headers:ht()})).json()).data||[],mp=async d=>(await(await fetch(`${ut()}/fichas-diseno/${d}`,{headers:ht()})).json()).data||null,gp=async(d,c)=>(await fetch(`${ut()}/fichas-diseno`,{method:"POST",headers:ht(),body:JSON.stringify({...d,createdBy:c})})).json(),bp=async(d,c)=>(await fetch(`${ut()}/fichas-diseno/${d}`,{method:"PUT",headers:ht(),body:JSON.stringify(c)})).json(),vp=async d=>(await fetch(`${ut()}/fichas-diseno/${d}`,{method:"DELETE",headers:ht()})).json(),jp=async d=>{const c=new FormData;c.append("foto",d);const u=localStorage.getItem("auth_token");return(await fetch(`${ut()}/fichas-diseno/upload-foto`,{method:"POST",headers:{...u&&{Authorization:`Bearer ${u}`}},body:c})).json()},yp=async()=>(await(await fetch(`${ut()}/fichas-costo`,{headers:ht()})).json()).data||[],Np=async d=>(await(await fetch(`${ut()}/fichas-costo/${d}`,{headers:ht()})).json()).data||null,wp=async(d,c)=>(await fetch(`${ut()}/fichas-costo/importar`,{method:"POST",headers:ht(),body:JSON.stringify({referencia:d,createdBy:c})})).json(),kp=async(d,c,u)=>(await fetch(`${ut()}/fichas-costo`,{method:"POST",headers:ht(),body:JSON.stringify({...d,rentabilidad:c,createdBy:u})})).json(),Sp=async(d,c,u,o)=>(await fetch(`${ut()}/fichas-costo/${d}`,{method:"PUT",headers:ht(),body:JSON.stringify({...c,precioVenta:u,rentabilidad:o})})).json(),Cp=async(d,c,u)=>(await fetch(`${ut()}/fichas-costo/${d}/cortes`,{method:"POST",headers:ht(),body:JSON.stringify({...c,createdBy:u})})).json(),Ep=async(d,c,u)=>(await fetch(`${ut()}/fichas-costo/${d}/cortes/${c}`,{method:"PUT",headers:ht(),body:JSON.stringify(u)})).json(),Dp=async()=>(await(await fetch(`${ut()}/maletas`,{headers:ht()})).json()).data||[],Ap=async d=>(await(await fetch(`${ut()}/maletas/${d}`,{headers:ht()})).json()).data||null,Rp=async(d,c,u,o)=>(await fetch(`${ut()}/maletas`,{method:"POST",headers:ht(),body:JSON.stringify({nombre:d,correriaId:c,referencias:u,createdBy:o})})).json(),Mp=async(d,c,u,o)=>(await fetch(`${ut()}/maletas/${d}`,{method:"PUT",headers:ht(),body:JSON.stringify({nombre:c,correriaId:u,referencias:o})})).json(),Tp=async d=>(await fetch(`${ut()}/maletas/${d}`,{method:"DELETE",headers:ht()})).json(),Op=async()=>(await(await fetch(`${ut()}/maletas/referencias-sin-correria`,{headers:ht()})).json()).data||[],gt={getDisenadoras:up,createDisenadora:xp,updateDisenadora:fp,deleteDisenadora:hp,getFichasDiseno:pp,getFichaDiseno:mp,createFichaDiseno:gp,updateFichaDiseno:bp,deleteFichaDiseno:vp,uploadFotoFicha:jp,getFichasCosto:yp,getFichaCosto:Np,importarFichaDiseno:wp,createFichaCosto:kp,updateFichaCosto:Sp,crearCorte:Cp,updateCorte:Ep,getMaletas:Dp,getMaleta:Ap,createMaleta:Rp,updateMaleta:Mp,deleteMaleta:Tp,getReferenciasSinCorreria:Op},Gt=({titulo:d,color:c,conceptos:u,onChange:o,readOnly:h,mostrarTipo:y=!1,totalesOtrosCostos:B})=>{const p={pink:{bg:"bg-pink-500",text:"text-pink-700",border:"border-pink-200",bgLight:"bg-pink-50"},blue:{bg:"bg-blue-600",text:"text-blue-700",border:"border-blue-200",bgLight:"bg-blue-50"},slate:{bg:"bg-slate-700",text:"text-slate-700",border:"border-slate-200",bgLight:"bg-slate-50"},orange:{bg:"bg-orange-600",text:"text-orange-700",border:"border-orange-200",bgLight:"bg-orange-50"},red:{bg:"bg-red-600",text:"text-red-700",border:"border-red-200",bgLight:"bg-red-50"}}[c];Et.useEffect(()=>{if(d==="PROVISIONES"&&B&&u.length>0){const H=()=>{const{totalMP:z,totalMO:F,totalID:ae,totalII:ne}=B,D=(z+F+ae+ne)*1.35*.7*.19;return Math.round(D)},m=u.findIndex(z=>z.concepto==="PROV. DSCTO CCIAL");if(m!==-1){const z=H();if(u[m].vlr_unit!==z){const F=[...u];F[m]={...F[m],vlr_unit:z,total:z*(F[m].cant||1)},o(F)}}}},[B,d,u,o]);const v=()=>{let H=[...u];if(d==="MANO DE OBRA")u.length===0?H=[{concepto:"EMPAQUE",um:"UNIDAD",vlr_unit:200,cant:1,total:200},{concepto:"CORTE",um:"UNIDAD",vlr_unit:500,cant:1,total:500}]:H.unshift({concepto:"NUEVO CONCEPTO",um:"UNIDAD",vlr_unit:0,cant:1,total:0});else if(d==="INSUMOS DIRECTOS")u.length===0?H=[{concepto:"MARQUILLA",um:"UNIDAD",vlr_unit:70,cant:1,total:70},{concepto:"MARQUILLA TECNICA",um:"UNIDAD",vlr_unit:10,cant:1,total:10},{concepto:"ETIQUETA",um:"UNIDAD",vlr_unit:90,cant:1,total:90},{concepto:"CODIGO BARRAS",um:"UNIDAD",vlr_unit:10,cant:2,total:20},{concepto:"BOLSA",um:"UNIDAD",vlr_unit:94,cant:1,total:94}]:H.unshift({concepto:"NUEVO CONCEPTO",um:"UNIDAD",vlr_unit:0,cant:1,total:0});else if(d==="PROVISIONES")if(u.length===0){const m=()=>{if(!B)return 0;const{totalMP:z,totalMO:F,totalID:ae,totalII:ne}=B,D=(z+F+ae+ne)*1.35*.7*.19;return Math.round(D)};H=[{concepto:"PROV. CARTERA",um:"UNIDAD",vlr_unit:200,cant:1,total:200},{concepto:"SERVICIOS CONFECCIONISTAS",um:"UNIDAD",vlr_unit:200,cant:1,total:200},{concepto:"TRANSPORTE",um:"UNIDAD",vlr_unit:0,cant:1,total:0},{concepto:"PROV. DSCTO CCIAL",um:"UNIDAD",vlr_unit:m(),cant:1,total:m()}]}else H.unshift({concepto:"NUEVO CONCEPTO",um:"UNIDAD",vlr_unit:0,cant:1,total:0});else H.unshift({concepto:"NUEVO CONCEPTO",tipo:y?"SESGO":void 0,um:"UNIDAD",vlr_unit:0,cant:1,total:0});o(H)},C=H=>o(u.filter((m,z)=>z!==H)),S=(H,m,z)=>{const F=[...u];F[H]={...F[H],[m]:z},(m==="vlr_unit"||m==="cant")&&(F[H].total=(F[H].vlr_unit||0)*(F[H].cant||0)),o(F)},J=u.reduce((H,m)=>H+(m.total||0),0);return a.jsxs("div",{className:"bg-white rounded-3xl border border-slate-100 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:`${p.bg} p-4 flex items-center justify-between`,children:[a.jsx("h3",{className:"text-white font-black uppercase tracking-wider text-sm",children:d}),!h&&a.jsxs("button",{onClick:v,className:"px-4 py-2 bg-white bg-opacity-20 hover:bg-opacity-30 rounded-xl font-black text-white text-xs uppercase tracking-wider transition-all flex items-center gap-2",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:3,stroke:"currentColor",className:"w-4 h-4",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),"Agregar"]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left text-xs",children:[a.jsx("thead",{children:a.jsxs("tr",{className:`${p.bgLight} border-b ${p.border}`,children:[a.jsx("th",{className:"px-4 py-3 font-black text-slate-600 uppercase tracking-widest",children:"Concepto"}),y&&a.jsx("th",{className:"px-3 py-3 font-black text-slate-600 uppercase tracking-widest w-32",children:"Tipo"}),a.jsx("th",{className:"px-3 py-3 font-black text-slate-600 uppercase tracking-widest w-28",children:"U/M"}),a.jsx("th",{className:"px-3 py-3 font-black text-slate-600 uppercase tracking-widest text-right w-32",children:"VLR. UNIT"}),a.jsx("th",{className:"px-3 py-3 font-black text-slate-600 uppercase tracking-widest text-center w-24",children:"CANT."}),a.jsx("th",{className:"px-3 py-3 font-black text-slate-600 uppercase tracking-widest text-right w-32",children:"TOTAL"}),!h&&a.jsx("th",{className:"px-3 py-3 w-16"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-50",children:u.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:y?7:6,className:"px-4 py-8 text-center text-slate-400 italic",children:"No hay conceptos agregados"})}):u.map((H,m)=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[a.jsx("td",{className:"px-4 py-3",children:a.jsx("input",{type:"text",value:H.concepto,onChange:z=>S(m,"concepto",z.target.value),readOnly:h,className:`w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg font-bold ${p.text} focus:ring-2 focus:ring-blue-100 ${h?"cursor-default":""}`})}),y&&a.jsx("td",{className:"px-3 py-3",children:a.jsxs("select",{value:H.tipo||"SESGO",onChange:z=>S(m,"tipo",z.target.value),disabled:h,className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg font-bold text-slate-700 focus:ring-2 focus:ring-blue-100",children:[a.jsx("option",{value:"TELA",children:"TELA"}),a.jsx("option",{value:"RESORTE",children:"RESORTE"}),a.jsx("option",{value:"SESGO",children:"SESGO"}),a.jsx("option",{value:"OTRO",children:"OTRO"})]})}),a.jsx("td",{className:"px-3 py-3",children:a.jsxs("select",{value:H.um,onChange:z=>S(m,"um",z.target.value),disabled:h,className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg font-bold text-slate-700 text-xs focus:ring-2 focus:ring-blue-100",children:[a.jsx("option",{value:"METRO",children:"METRO"}),a.jsx("option",{value:"UNIDAD",children:"UNIDAD"}),a.jsx("option",{value:"PRENDA",children:"PRENDA"}),a.jsx("option",{value:"KILOGRAMO",children:"KG"})]})}),a.jsx("td",{className:"px-3 py-3",children:a.jsx("input",{type:"number",value:H.vlr_unit,onChange:z=>S(m,"vlr_unit",Number(z.target.value)),readOnly:h,className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg font-black text-right focus:ring-2 focus:ring-blue-100"})}),a.jsx("td",{className:"px-3 py-3",children:a.jsx("input",{type:"text",inputMode:"decimal",value:H.cant,onChange:z=>{const F=z.target.value.replace(",","."),ae=parseFloat(F);(!isNaN(ae)||F===""||F===".")&&S(m,"cant",isNaN(ae)?0:ae)},readOnly:h,className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg font-black text-center focus:ring-2 focus:ring-blue-100"})}),a.jsx("td",{className:"px-3 py-3 text-right",children:a.jsxs("span",{className:`font-black ${p.text} text-base`,children:["$ ",H.total.toLocaleString()]})}),!h&&a.jsx("td",{className:"px-3 py-3 text-center",children:a.jsx("button",{onClick:()=>C(m),className:"p-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:"w-4 h-4",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})})]},m))}),a.jsx("tfoot",{children:a.jsxs("tr",{className:`${p.bgLight} border-t-2 ${p.border}`,children:[a.jsxs("td",{colSpan:y?5:4,className:"px-4 py-4 font-black text-slate-600 uppercase tracking-widest text-right text-sm",children:["Total ",d]}),a.jsx("td",{className:"px-3 py-4 text-right",children:a.jsxs("span",{className:`font-black ${p.text} text-xl`,children:["$ ",J.toLocaleString()]})}),!h&&a.jsx("td",{})]})})]})})]})},hx=({referencia:d,foto1:c,foto2:u,onFoto1Change:o,onFoto2Change:h,readOnly:y})=>{const[B,_]=b.useState(!1),[p,v]=b.useState(!1),[C,S]=b.useState(null),[J,H]=b.useState(null),[m,z]=b.useState(null),F=b.useRef(null),ae=b.useRef(null),ne=()=>{var D;return(D=window.API_CONFIG)!=null&&D.getApiUrl?window.API_CONFIG.getApiUrl().replace("/api",""):`${window.location.protocol}//${window.location.hostname}:3000`},le=async(D,f)=>{if(!D)return;if(!D.type.match(/image\/(jpeg|jpg|png)/)){alert("Solo se permiten imgenes JPG, JPEG o PNG");return}if(D.size>5*1024*1024){alert("La imagen no debe superar 5MB");return}const O=new FileReader;O.onload=j=>{var Z,he;f===1?S((Z=j.target)==null?void 0:Z.result):H((he=j.target)==null?void 0:he.result)},O.readAsDataURL(D);const re=D.name.split(".").pop(),fe=f===1?`${d}.${re}`:`${d}-2.${re}`,P=new File([D],fe,{type:D.type});f===1?_(!0):v(!0);try{const j=await gt.uploadFotoFicha(P);j.success?f===1?o(j.data.path):h(j.data.path):(alert("Error al subir foto: "+j.message),f===1?S(null):H(null))}catch{alert("Error de conexin al subir foto"),f===1?S(null):H(null)}finally{f===1?_(!1):v(!1)}},ee=D=>{D===1?(S(null),o(null),F.current&&(F.current.value="")):(H(null),h(null),ae.current&&(ae.current.value=""))},te=({numero:D,foto:f,preview:O,uploading:re,inputRef:fe})=>{const P=O||(f?`${ne()}${f}`:null);return a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"relative h-80 bg-slate-100 rounded-2xl overflow-hidden border-2 border-slate-200 group cursor-pointer",onClick:()=>P&&z(P),children:P?a.jsxs(a.Fragment,{children:[a.jsx("img",{src:P,alt:`Foto ${D}`,className:"w-full h-full object-cover group-hover:brightness-75 transition-all"}),!y&&a.jsx("button",{onClick:j=>{j.stopPropagation(),ee(D)},className:"absolute top-2 right-2 p-2 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity shadow-lg",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:"w-5 h-5",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-12 h-12 text-white",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})})})]}):re?a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-3"}),a.jsx("p",{className:"text-slate-500 font-bold text-sm",children:"Subiendo..."})]})}):a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-slate-200 rounded-full flex items-center justify-center mx-auto mb-3",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8 text-slate-400",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"})})}),a.jsx("p",{className:"text-slate-400 font-bold text-sm",children:"Sin foto"})]})})}),!y&&a.jsxs("div",{className:"mt-3",children:[a.jsx("input",{ref:fe,type:"file",accept:"image/jpeg,image/jpg,image/png",onChange:j=>{var he;const Z=(he=j.target.files)==null?void 0:he[0];Z&&le(Z,D)},className:"hidden",id:`foto-upload-${D}`}),a.jsxs("label",{htmlFor:`foto-upload-${D}`,className:"block w-full py-2 px-4 bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-black rounded-xl text-center cursor-pointer hover:shadow-lg transition-all text-sm uppercase tracking-wider",children:[P?"Cambiar":"Seleccionar"," Foto ",D]}),a.jsx("p",{className:"text-xs text-slate-400 font-bold mt-1 text-center",children:D===1?`${d}.jpg`:`${d}-2.jpg`})]})]})};return a.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("h3",{className:"text-sm font-black text-slate-600 uppercase tracking-widest",children:"Fotos de Referencia"}),a.jsx("p",{className:"text-xs text-slate-400 font-bold mt-1",children:"JPG, JPEG o PNG  Mximo 5MB por foto"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx(te,{numero:1,foto:c,preview:C,uploading:B,inputRef:F}),a.jsx(te,{numero:2,foto:u,preview:J,uploading:p,inputRef:ae})]}),m&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>z(null),children:a.jsxs("div",{className:"relative max-w-4xl max-h-[90vh] w-full h-full flex items-center justify-center",onClick:D=>D.stopPropagation(),children:[a.jsx("img",{src:m,alt:"Foto ampliada",className:"max-w-full max-h-full object-contain rounded-2xl shadow-2xl"}),a.jsx("button",{onClick:()=>z(null),className:"absolute top-4 right-4 p-3 bg-white rounded-full shadow-lg hover:bg-slate-100 transition-colors",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:"w-6 h-6 text-slate-800",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]})})]})},zp=({state:d,user:c,updateState:u,onNavigate:o,params:h})=>{var A;const y=(h==null?void 0:h.referencia)||"",B=(h==null?void 0:h.nueva)||!1,p=(c==null?void 0:c.role)==="diseadora"||(c==null?void 0:c.role)==="admin"||(c==null?void 0:c.role)==="general",[v,C]=b.useState(!1),[S,J]=b.useState(!1),[H,m]=b.useState((h==null?void 0:h.disenadoraId)||""),[z,F]=b.useState(""),[ae,ne]=b.useState(""),[le,ee]=b.useState(""),[te,D]=b.useState(""),[f,O]=b.useState(""),[re,fe]=b.useState(""),[P,j]=b.useState(null),[Z,he]=b.useState(null),[Q,E]=b.useState([]),[q,N]=b.useState([]),[G,I]=b.useState([]),[g,L]=b.useState([]),[T,K]=b.useState([]),ie=(d.fichasDiseno||[]).find(V=>V.referencia===y);b.useEffect(()=>{ie&&!B&&(m(ie.disenadoraId),F(ie.descripcion||""),ne(ie.marca||""),ee(ie.novedad||""),D(ie.muestra1||""),O(ie.muestra2||""),fe(ie.observaciones||""),j(ie.foto1),he(ie.foto2),E(ie.materiaPrima||[]),N(ie.manoObra||[]),I(ie.insumosDirectos||[]),L(ie.insumosIndirectos||[]),K(ie.provisiones||[]))},[ie==null?void 0:ie.referencia]),b.useEffect(()=>{if(B&&q.length===0&&G.length===0&&T.length===0){N([{concepto:"EMPAQUE",um:"UNIDAD",vlr_unit:200,cant:1,total:200},{concepto:"CORTE",um:"UNIDAD",vlr_unit:500,cant:1,total:500}]),I([{concepto:"MARQUILLA",um:"UNIDAD",vlr_unit:70,cant:1,total:70},{concepto:"MARQUILLA TECNICA",um:"UNIDAD",vlr_unit:10,cant:1,total:10},{concepto:"ETIQUETA",um:"UNIDAD",vlr_unit:90,cant:1,total:90},{concepto:"CODIGO BARRAS",um:"UNIDAD",vlr_unit:10,cant:2,total:20},{concepto:"BOLSA",um:"UNIDAD",vlr_unit:94,cant:1,total:94}]);const V=()=>Math.round(176.6772);K([{concepto:"PROV. CARTERA",um:"UNIDAD",vlr_unit:200,cant:1,total:200},{concepto:"SERVICIOS CONFECCIONISTAS",um:"UNIDAD",vlr_unit:200,cant:1,total:200},{concepto:"TRANSPORTE",um:"UNIDAD",vlr_unit:0,cant:1,total:0},{concepto:"PROV. DSCTO CCIAL",um:"UNIDAD",vlr_unit:V(),cant:1,total:V()}])}},[B]);const be=b.useMemo(()=>{const V=Pe=>Pe.reduce((Tt,ye)=>Tt+(ye.total||0),0),ue=V(Q),ge=V(q),Ne=V(G),rt=V(g),Ye=V(T);return{totalMP:ue,totalMO:ge,totalID:Ne,totalII:rt,totalProv:Ye,total:ue+ge+Ne+rt+Ye}},[Q,q,G,g,T]),oe=async()=>{if(!p){alert("No tienes permisos para guardar fichas de diseo");return}if(!y||!H){alert("Referencia y diseadora son obligatorios");return}C(!0);const V={referencia:y,disenadoraId:H,descripcion:z,marca:ae,novedad:le,muestra1:te,muestra2:f,observaciones:re,foto1:P,foto2:Z,materiaPrima:Q,manoObra:q,insumosDirectos:G,insumosIndirectos:g,provisiones:T};try{const ue=B||!ie?await gt.createFichaDiseno(V,c.name):await gt.updateFichaDiseno(y,V);if(ue.success){J(!1),alert(" Ficha guardada exitosamente");const ge=await gt.getFichasDiseno();u(Ne=>({...Ne,fichasDiseno:ge})),o("fichas-diseno")}else alert(" Error al guardar: "+ue.message)}catch{alert(" Error de conexin")}finally{C(!1)}},xe=((A=(d.disenadoras||[]).find(V=>V.id===H))==null?void 0:A.nombre)||"",w=V=>ue=>{V(ue),J(!0)};return a.jsxs("div",{className:"space-y-6 pb-20",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:()=>{S?confirm("Salir sin guardar?")&&o("fichas-diseno"):o("fichas-diseno")},className:"p-3 bg-slate-100 rounded-xl hover:bg-slate-200 transition-colors",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:"w-5 h-5",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-black text-slate-800 tracking-tighter",children:y}),a.jsxs("p",{className:"text-slate-500 font-bold text-xs mt-1",children:["Diseadora: ",xe,(ie==null?void 0:ie.importada)&&a.jsx("span",{className:"ml-2 text-blue-600",children:" Importada a Costos"})]})]})]}),S&&a.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-red-50 text-red-600 rounded-xl",children:[a.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),a.jsx("span",{className:"font-bold text-sm",children:"Cambios sin guardar"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsx(hx,{referencia:y,foto1:P,foto2:Z,onFoto1Change:w(j),onFoto2Change:w(he),readOnly:!p}),a.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm space-y-4",children:[a.jsx("h3",{className:"text-sm font-black text-slate-600 uppercase tracking-widest",children:"Informacin Bsica"}),[["Descripcin de Prenda",z,w(F)],["Marca",ae,w(ne)],["Novedad o Correra",le,w(ee)]].map(([V,ue,ge])=>a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block mb-2",children:V}),a.jsx("input",{type:"text",value:ue,onChange:Ne=>ge(Ne.target.value),readOnly:!p,className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl font-bold focus:ring-4 focus:ring-pink-100 focus:border-pink-500"})]},V)),a.jsx("div",{className:"grid grid-cols-2 gap-4",children:[["Muestra #1",te,w(D)],["Muestra #2",f,w(O)]].map(([V,ue,ge])=>a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block mb-2",children:V}),a.jsx("input",{type:"text",value:ue,onChange:Ne=>ge(Ne.target.value),readOnly:!p,className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl font-bold focus:ring-4 focus:ring-pink-100 focus:border-pink-500"})]},V))}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block mb-2",children:"Observaciones"}),a.jsx("textarea",{value:re,onChange:V=>{fe(V.target.value),J(!0)},readOnly:!p,rows:6,className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl font-bold focus:ring-4 focus:ring-pink-100 focus:border-pink-500 resize-none"})]})]})]}),a.jsxs("div",{className:"space-y-6 lg:col-span-2",children:[a.jsx(Gt,{titulo:"MATERIA PRIMA",color:"pink",conceptos:Q,onChange:w(E),readOnly:!p,mostrarTipo:!0}),a.jsx(Gt,{titulo:"MANO DE OBRA",color:"blue",conceptos:q,onChange:w(N),readOnly:!p}),a.jsx(Gt,{titulo:"INSUMOS DIRECTOS",color:"slate",conceptos:G,onChange:w(I),readOnly:!p}),a.jsx(Gt,{titulo:"INSUMOS INDIRECTOS",color:"orange",conceptos:g,onChange:w(L),readOnly:!p}),a.jsx(Gt,{titulo:"PROVISIONES",color:"red",conceptos:T,onChange:w(K),readOnly:!p,totalesOtrosCostos:{totalMP:be.totalMP,totalMO:be.totalMO,totalID:be.totalID,totalII:be.totalII}})]})]}),p&&a.jsx("button",{onClick:oe,disabled:v,className:"w-full py-6 bg-gradient-to-r from-pink-600 to-pink-500 text-white font-black text-2xl rounded-3xl shadow-2xl hover:shadow-pink-200 hover:scale-[1.01] transition-all disabled:opacity-50 disabled:cursor-not-allowed uppercase tracking-wider",children:v?"GUARDANDO...":"GUARDAR FICHA"})]})};function dx(){var d;return(d=window.API_CONFIG)!=null&&d.getApiUrl?window.API_CONFIG.getApiUrl().replace("/api",""):`${window.location.protocol}//${window.location.hostname}:3000`}const Lp=({state:d,user:c,updateState:u,onNavigate:o})=>{const[h,y]=b.useState(""),[B,_]=b.useState(!1),[p,v]=b.useState(""),[C,S]=b.useState(null),[J,H]=b.useState(!1),m=Dt(1,50),z=(c==null?void 0:c.role)==="admin",F=(c==null?void 0:c.role)==="general",ae=z||F,ne=dx(),le=(d.fichasCosto||[]).filter(f=>{if(!h)return!0;const O=h.toLowerCase();return f.referencia.toLowerCase().includes(O)||(f.descripcion||"").toLowerCase().includes(O)||(f.marca||"").toLowerCase().includes(O)});Et.useEffect(()=>{m.pagination.total=le.length,m.pagination.totalPages=Math.ceil(le.length/m.pagination.limit)},[le.length,m.pagination.limit]);const ee=()=>{if(!p.trim()){alert("Ingrese una referencia");return}if((d.fichasCosto||[]).find(O=>O.referencia===p)){alert("Esta ficha ya fue importada a costos");return}const f=(d.fichasDiseno||[]).find(O=>O.referencia===p);f?S(f):(alert("No existe ficha de diseo con esta referencia"),S(null))},te=async()=>{if(C){H(!0);try{const f=await gt.importarFichaDiseno(p,c.name);if(f.success){alert(" Ficha importada exitosamente");const[O,re]=await Promise.all([gt.getFichasCosto(),gt.getFichasDiseno()]);u(fe=>({...fe,fichasCosto:O,fichasDiseno:re})),_(!1),v(""),S(null),o("fichas-costo-detalle",{referencia:p})}else alert(" Error al importar: "+f.message)}catch{alert(" Error de conexin")}finally{H(!1)}}},D=async(f,O)=>{if(O.stopPropagation(),!!window.confirm("Est seguro de que desea eliminar esta ficha?"))try{const fe=await(await fetch(`${dx()}/api/fichas-costo/${f}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}})).json();if(fe.success){alert(" Ficha eliminada exitosamente");const P=await gt.getFichasCosto();u(j=>({...j,fichasCosto:P}))}else alert(" Error: "+fe.message)}catch{alert(" Error de conexin")}};return a.jsxs("div",{className:"space-y-6 pb-20",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-black text-slate-800 tracking-tighter",children:"Fichas de Costo"}),a.jsxs("p",{className:"text-slate-500 font-bold text-xs mt-1",children:[le.length," ficha",le.length!==1?"s":""]})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[a.jsx("div",{className:"relative flex-1 min-w-[250px]",children:a.jsx("input",{type:"text",value:h,onChange:f=>y(f.target.value),placeholder:"Buscar referencia, descripcin...",className:"w-full px-6 py-4 bg-white border border-slate-200 rounded-2xl focus:ring-4 focus:ring-blue-100 transition-all font-bold text-slate-900 shadow-sm"})}),ae&&a.jsxs("button",{onClick:()=>_(!0),className:"px-8 py-4 bg-gradient-to-r from-green-600 to-green-500 text-white font-black rounded-2xl shadow-lg hover:shadow-xl hover:scale-105 transition-all flex items-center gap-2 uppercase tracking-wider text-sm",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:"w-5 h-5",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 8.25H7.5a2.25 2.25 0 00-2.25 2.25v9a2.25 2.25 0 002.25 2.25h9a2.25 2.25 0 002.25-2.25v-9a2.25 2.25 0 00-2.25-2.25H15M9 12l3 3m0 0l3-3m-3 3V2.25"})}),"Importar Ficha"]})]})]}),le.length===0?a.jsxs("div",{className:"bg-white p-24 rounded-[48px] border-2 border-dashed border-slate-200 flex flex-col items-center text-center",children:[a.jsx("p",{className:"text-slate-400 font-bold text-lg",children:h?`No se encontraron fichas con "${h}"`:"No hay fichas de costo"}),ae&&!h&&a.jsx("button",{onClick:()=>_(!0),className:"mt-6 px-6 py-3 bg-green-500 text-white font-black rounded-xl hover:bg-green-600 transition-colors",children:"Importar Primera Ficha"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:le.slice((m.pagination.page-1)*m.pagination.limit,m.pagination.page*m.pagination.limit).map(f=>a.jsxs("div",{className:"group bg-white rounded-2xl border border-slate-200 hover:border-blue-300 hover:shadow-lg transition-all overflow-hidden text-left cursor-pointer",onClick:()=>o("fichas-costo-detalle",{referencia:f.referencia}),children:[a.jsxs("div",{className:"aspect-square bg-slate-100 relative overflow-hidden",children:[f.foto1?a.jsx("img",{src:`${ne}${f.foto1}`,alt:f.referencia,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}):a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1,stroke:"currentColor",className:"w-12 h-12 text-slate-300",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"})})}),(f.numCortes||0)>0&&a.jsxs("div",{className:"absolute top-2 right-2 px-2 py-1 bg-yellow-500 text-white rounded-lg text-[9px] font-black uppercase",children:[f.numCortes," Corte",f.numCortes!==1?"s":""]}),z&&a.jsx("div",{onClick:O=>D(f.referencia,O),className:"absolute top-2 left-2 p-2 bg-red-500 text-white rounded-lg opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600 cursor-pointer",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("div",{className:"p-3",children:[a.jsx("p",{className:"font-black text-blue-600 text-sm mb-1",children:f.referencia}),a.jsx("p",{className:"text-xs font-bold text-slate-600 truncate mb-2",children:f.descripcion||"Sin descripcin"}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center justify-between text-[10px]",children:[a.jsx("span",{className:"text-slate-400 font-bold",children:"Costo"}),a.jsxs("span",{className:"font-black text-slate-700",children:["$",(f.costoTotal||0).toLocaleString()]})]}),a.jsxs("div",{className:"flex items-center justify-between text-[10px]",children:[a.jsx("span",{className:"text-slate-400 font-bold",children:"Precio"}),a.jsxs("span",{className:"font-black text-green-600",children:["$",(f.precioVenta||0).toLocaleString()]})]}),a.jsxs("div",{className:"flex items-center justify-between text-[10px]",children:[a.jsx("span",{className:"text-slate-400 font-bold",children:"Rent."}),a.jsxs("span",{className:"font-black text-blue-600",children:[(f.rentabilidad||0).toFixed(1),"%"]})]})]})]})]},f.id))}),a.jsx("div",{className:"mt-6",children:a.jsx(Ca,{currentPage:m.pagination.page,totalPages:m.pagination.totalPages,pageSize:m.pagination.limit,onPageChange:m.goToPage,onPageSizeChange:m.setLimit})})]}),B&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/40 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-md w-full p-8",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-8 h-8 text-green-600",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 8.25H7.5a2.25 2.25 0 00-2.25 2.25v9a2.25 2.25 0 002.25 2.25h9a2.25 2.25 0 002.25-2.25v-9a2.25 2.25 0 00-2.25-2.25H15M9 12l3 3m0 0l3-3m-3 3V2.25"})})}),a.jsx("h3",{className:"text-2xl font-black text-slate-800 mb-2",children:"Importar Ficha"}),a.jsx("p",{className:"text-sm text-slate-500 font-bold",children:"Desde Fichas de Diseo"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block mb-2",children:"Referencia"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:p,onChange:f=>{v(f.target.value.toUpperCase()),S(null)},placeholder:"Ej: 13011",autoFocus:!0,className:"flex-1 px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl font-bold focus:ring-4 focus:ring-green-100 focus:border-green-500"}),a.jsx("button",{onClick:ee,className:"px-6 py-3 bg-slate-100 text-slate-600 font-black rounded-xl hover:bg-slate-200 transition-colors",children:"Buscar"})]})]}),C&&a.jsxs("div",{className:"p-4 bg-green-50 border-2 border-green-200 rounded-xl",children:[a.jsx("p",{className:"text-xs font-black text-green-700 uppercase mb-1",children:"Ficha Encontrada"}),a.jsx("p",{className:"font-bold text-slate-700 text-sm mb-2",children:C.descripcion}),a.jsxs("p",{className:"text-xs text-slate-500 font-bold",children:["Diseadora: ",a.jsx("span",{className:"text-green-600 font-black",children:C.disenadoraNombre})]}),a.jsxs("p",{className:"text-xs text-slate-500 font-bold",children:["Costo: ",a.jsxs("span",{className:"text-slate-700 font-black",children:["$",(C.costoTotal||0).toLocaleString()]})]})]})]}),a.jsxs("div",{className:"flex gap-3 mt-8",children:[a.jsx("button",{onClick:()=>{_(!1),v(""),S(null)},className:"flex-1 px-6 py-3 bg-slate-100 text-slate-600 font-black rounded-xl hover:bg-slate-200 transition-colors uppercase tracking-wide text-sm",children:"Cancelar"}),a.jsx("button",{onClick:te,disabled:!C||J,className:"flex-1 px-6 py-3 bg-gradient-to-r from-green-600 to-green-500 text-white font-black rounded-xl hover:shadow-lg transition-all uppercase tracking-wide text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:J?"IMPORTANDO...":"IMPORTAR"})]})]})})]})},Up=({state:d,user:c,updateState:u,onNavigate:o,params:h})=>{var Tt;const y=(h==null?void 0:h.referencia)||"",_=(c==null?void 0:c.role)==="admin",[p,v]=b.useState(!1),[C,S]=b.useState(!1),[J,H]=b.useState(!1),[m,z]=b.useState(""),[F,ae]=b.useState(""),[ne,le]=b.useState(""),[ee,te]=b.useState(""),[D,f]=b.useState(""),[O,re]=b.useState(""),[fe,P]=b.useState(null),[j,Z]=b.useState(null),[he,Q]=b.useState([]),[E,q]=b.useState([]),[N,G]=b.useState([]),[I,g]=b.useState([]),[L,T]=b.useState([]),[K,ie]=b.useState(0),[be,oe]=b.useState(49),xe=(d.fichasCosto||[]).find(ye=>ye.referencia===y),w=ye=>ye<=0?0:Math.ceil(ye/1e3)*1e3-100,A=(ye,Oe)=>w(ye/(1-Oe/100)),V=(ye,Oe)=>Oe===0?0:(1-Oe/ye)*100;b.useEffect(()=>{xe&&(z(xe.descripcion||""),ae(xe.marca||""),le(xe.novedad||""),te(xe.muestra1||""),f(xe.muestra2||""),re(xe.observaciones||""),P(xe.foto1),Z(xe.foto2),Q(xe.materiaPrima||[]),q(xe.manoObra||[]),G(xe.insumosDirectos||[]),g(xe.insumosIndirectos||[]),T(xe.provisiones||[]),ie(xe.precioVenta||0),oe(xe.rentabilidad||49))},[xe==null?void 0:xe.referencia]);const ue=b.useMemo(()=>{const ye=pe=>pe.reduce((Me,Ot)=>Me+(Ot.total||0),0),Oe=ye(he),dt=ye(E),At=ye(N),kt=ye(I),Ie=ye(L),$t=Oe+dt+At+kt+Ie;return{totalMP:Oe,totalMO:dt,totalID:At,totalII:kt,totalProv:Ie,total:$t,costoContabilizar:$t-Ie}},[he,E,N,I,L]),ge=b.useMemo(()=>{const ye=Oe=>{const dt=w(K*(1-Oe/100));return{precio:dt,rent:V(dt,ue.total)}};return{desc0:{precio:K,rent:be},desc5:ye(5),desc10:ye(10),desc15:ye(15)}},[K,be,ue.total]),Ne=b.useMemo(()=>w(K+K*.35),[K]),rt=async()=>{if(!_){alert("No tienes permisos para editar fichas de costo");return}v(!0);try{const ye=await gt.updateFichaCosto(y,{referencia:y,descripcion:m,marca:F,novedad:ne,muestra1:ee,muestra2:D,observaciones:O,foto1:fe,foto2:j||null,materiaPrima:he,manoObra:E,insumosDirectos:N,insumosIndirectos:I,provisiones:L},K,be);if(ye.success){S(!1),alert(" Ficha guardada exitosamente");const Oe=await gt.getFichasCosto();u(dt=>({...dt,fichasCosto:Oe}))}else alert(" Error al guardar: "+ye.message)}catch{alert(" Error de conexin")}finally{v(!1)}},Ye=((Tt=xe==null?void 0:xe.cortes)==null?void 0:Tt.length)||(xe==null?void 0:xe.numCortes)||0,Pe=ye=>Oe=>{ye(Oe),S(!0)};return a.jsxs("div",{className:"space-y-6 pb-20",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:()=>{C?confirm("Salir sin guardar?")&&o("fichas-costo"):o("fichas-costo")},className:"p-3 bg-slate-100 rounded-xl hover:bg-slate-200 transition-colors",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:"w-5 h-5",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-black text-slate-800 tracking-tighter",children:y}),a.jsxs("p",{className:"text-slate-500 font-bold text-xs mt-1",children:["Diseadora: ",(xe==null?void 0:xe.disenadoraNombre)||"N/A"]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[C&&a.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-red-50 text-red-600 rounded-xl",children:[a.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),a.jsx("span",{className:"font-bold text-sm",children:"Cambios sin guardar"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{className:"px-4 py-2 bg-yellow-500 text-white font-black rounded-xl uppercase text-xs",children:"Costeo Inicial"}),[1,2,3,4].map(ye=>a.jsxs("button",{onClick:()=>ye<=Ye?o("fichas-corte-detalle",{referencia:y,numeroCorte:ye}):ye===Ye+1?H(!0):null,disabled:ye>Ye+1,className:`px-4 py-2 font-black rounded-xl uppercase text-xs transition-all ${ye<=Ye?"bg-blue-500 text-white hover:bg-blue-600":ye===Ye+1?"bg-slate-200 text-slate-600 hover:bg-slate-300":"bg-slate-100 text-slate-300 opacity-50 cursor-not-allowed"}`,children:["Corte #",ye]},ye))]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsx(hx,{referencia:y,foto1:fe,foto2:j,onFoto1Change:Pe(P),onFoto2Change:Pe(Z),readOnly:!_}),a.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm space-y-4",children:[a.jsx("h3",{className:"text-sm font-black text-slate-600 uppercase tracking-widest",children:"Informacin Bsica"}),[["Descripcin",m,Pe(z)],["Marca",F,Pe(ae)],["Novedad",ne,Pe(le)]].map(([ye,Oe,dt])=>a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block mb-2",children:ye}),a.jsx("input",{type:"text",value:Oe,onChange:At=>dt(At.target.value),readOnly:!_,className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl font-bold focus:ring-4 focus:ring-blue-100 focus:border-blue-500"})]},ye)),a.jsx("div",{className:"grid grid-cols-2 gap-4",children:[["Muestra #1",ee,Pe(te)],["Muestra #2",D,Pe(f)]].map(([ye,Oe,dt])=>a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block mb-2",children:ye}),a.jsx("input",{type:"text",value:Oe,onChange:At=>dt(At.target.value),readOnly:!_,className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl font-bold focus:ring-4 focus:ring-blue-100 focus:border-blue-500"})]},ye))}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block mb-2",children:"Observaciones"}),a.jsx("textarea",{value:O,onChange:ye=>{re(ye.target.value),S(!0)},readOnly:!_,rows:6,className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl font-bold focus:ring-4 focus:ring-blue-100 focus:border-blue-500 resize-none"})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 p-6 rounded-3xl border-2 border-yellow-200 space-y-4",children:[a.jsx("h3",{className:"text-sm font-black text-yellow-700 uppercase tracking-widest",children:"Rentabilidad vs Precio"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black text-yellow-600 uppercase tracking-widest block mb-2",children:"Costo Total"}),a.jsx("div",{className:"px-4 py-3 bg-white rounded-xl",children:a.jsxs("p",{className:"font-black text-2xl text-slate-800",children:["$ ",ue.total.toLocaleString()]})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black text-yellow-600 uppercase tracking-widest block mb-2",children:"Costo Contabilizar"}),a.jsx("div",{className:"px-4 py-3 bg-white rounded-xl",children:a.jsxs("p",{className:"font-black text-2xl text-slate-800",children:["$ ",ue.costoContabilizar.toLocaleString()]})})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black text-yellow-600 uppercase tracking-widest block mb-2",children:"Precio de Venta"}),a.jsx("div",{className:"px-4 py-3 bg-white rounded-xl flex items-center justify-center",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-black text-lg text-yellow-600",children:"$"}),a.jsx("input",{type:"number",value:K,onChange:ye=>{const Oe=Number(ye.target.value);ie(Oe),oe(V(Oe,ue.total)),S(!0)},readOnly:!_,className:"font-black text-2xl text-slate-800 bg-white text-center border-0 focus:ring-0 w-32"})]})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black text-yellow-600 uppercase tracking-widest block mb-2",children:"Rentabilidad %"}),a.jsxs("div",{className:"px-4 py-3 bg-white rounded-xl flex items-center justify-center",children:[a.jsx("input",{type:"number",value:Math.round(be),onChange:ye=>{const Oe=Number(ye.target.value);oe(Oe),ie(A(ue.total,Oe)),S(!0)},readOnly:!_,className:"font-black text-2xl text-slate-800 bg-white text-center border-0 focus:ring-0 w-16"}),a.jsx("span",{className:"font-black text-lg text-yellow-600 ml-2",children:"%"})]})]})]}),a.jsx("p",{className:"text-xs text-yellow-700 font-bold italic",children:"Los precios se ajustan automticamente para terminar en 900"})]}),a.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 p-6 rounded-3xl border-2 border-purple-200 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-black text-purple-700 uppercase tracking-widest",children:"Cantidad Total Cortada"}),a.jsxs("p",{className:"text-xs text-purple-600 font-bold mt-2",children:[Ye," corte",Ye!==1?"s":""," asentado",Ye!==1?"s":""]})]}),a.jsx("p",{className:"text-6xl font-black text-purple-600",children:(xe==null?void 0:xe.cantidadTotalCortada)||0})]}),a.jsxs("div",{className:"bg-gradient-to-br from-pink-50 to-pink-100 p-4 rounded-2xl border-2 border-pink-200 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs font-black text-pink-700 uppercase tracking-widest",children:"Margen Ganancia Cliente"}),a.jsx("p",{className:"text-sm font-black text-pink-600",children:"35%"})]}),a.jsxs("p",{className:"text-3xl font-black text-pink-700",children:["$ ",Ne.toLocaleString()]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 p-6 rounded-3xl border-2 border-orange-200",children:[a.jsx("h3",{className:"text-sm font-black text-orange-700 uppercase tracking-widest mb-4",children:"Posibles Descuentos"}),a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b-2 border-orange-300",children:[a.jsx("th",{className:"py-2 text-left font-black text-orange-600 uppercase text-xs",children:"Desc"}),a.jsx("th",{className:"py-2 text-right font-black text-orange-600 uppercase text-xs",children:"Precio"}),a.jsx("th",{className:"py-2 text-right font-black text-orange-600 uppercase text-xs",children:"Rent %"})]})}),a.jsx("tbody",{className:"divide-y divide-orange-200",children:[["0%",ge.desc0],["5%",ge.desc5],["10%",ge.desc10],["15%",ge.desc15]].map(([ye,Oe])=>a.jsxs("tr",{children:[a.jsx("td",{className:"py-3 font-black text-slate-700",children:ye}),a.jsxs("td",{className:"py-3 text-right font-black text-slate-800",children:["$ ",(Oe.precio||0).toLocaleString()]}),a.jsxs("td",{className:"py-3 text-right font-black text-green-600",children:[(Oe.rent||0).toFixed(1),"%"]})]},ye))})]})]})]}),a.jsxs("div",{className:"space-y-6 lg:col-span-2",children:[a.jsx(Gt,{titulo:"MATERIA PRIMA",color:"pink",conceptos:he,onChange:Pe(Q),readOnly:!_,mostrarTipo:!0}),a.jsx(Gt,{titulo:"MANO DE OBRA",color:"blue",conceptos:E,onChange:Pe(q),readOnly:!_}),a.jsx(Gt,{titulo:"INSUMOS DIRECTOS",color:"slate",conceptos:N,onChange:Pe(G),readOnly:!_}),a.jsx(Gt,{titulo:"INSUMOS INDIRECTOS",color:"orange",conceptos:I,onChange:Pe(g),readOnly:!_}),a.jsx(Gt,{titulo:"PROVISIONES",color:"red",conceptos:L,onChange:Pe(T),readOnly:!_,totalesOtrosCostos:{totalMP:ue.totalMP,totalMO:ue.totalMO,totalID:ue.totalID,totalII:ue.totalII}})]})]}),_&&a.jsx("button",{onClick:rt,disabled:p,className:"w-full py-6 bg-gradient-to-r from-blue-600 to-blue-500 text-white font-black text-2xl rounded-3xl shadow-2xl hover:shadow-blue-200 hover:scale-[1.01] transition-all disabled:opacity-50 disabled:cursor-not-allowed uppercase tracking-wider",children:p?"GUARDANDO...":"GUARDAR FICHA"}),J&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/40 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-md w-full p-8",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsxs("h3",{className:"text-2xl font-black text-slate-800 mb-2",children:["Asentar Corte #",Ye+1,"?"]}),a.jsx("p",{className:"text-sm text-slate-500 font-bold",children:"Se copiarn todos los conceptos de la ficha inicial."})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>H(!1),className:"flex-1 px-6 py-3 bg-slate-100 text-slate-600 font-black rounded-xl hover:bg-slate-200 transition-colors uppercase tracking-wide text-sm",children:"Cancelar"}),a.jsx("button",{onClick:()=>{H(!1),o("fichas-corte-detalle",{referencia:y,numeroCorte:Ye+1,nuevo:!0})},className:"flex-1 px-6 py-3 bg-gradient-to-r from-yellow-600 to-yellow-500 text-white font-black rounded-xl hover:shadow-lg transition-all uppercase tracking-wide text-sm",children:"Asentar"})]})]})})]})},Bp=({state:d,user:c,updateState:u,onNavigate:o,params:h})=>{var L;const y=(h==null?void 0:h.referencia)||"",B=(h==null?void 0:h.numeroCorte)||1,_=(h==null?void 0:h.nuevo)||!1,p=(c==null?void 0:c.role)==="admin"||(c==null?void 0:c.role)==="general",[v,C]=b.useState(!1),[S,J]=b.useState(!1),[H,m]=b.useState(""),[z,F]=b.useState(new Date().toISOString().split("T")[0]),[ae,ne]=b.useState(0),[le,ee]=b.useState([]),[te,D]=b.useState([]),[f,O]=b.useState([]),[re,fe]=b.useState([]),[P,j]=b.useState([]),[Z,he]=b.useState(null);(d.fichasCosto||[]).find(T=>T.referencia===y),b.useEffect(()=>{y&&(async()=>{try{const ie=await(await fetch(`${window.location.protocol}//${window.location.hostname}:3000/api/fichas-costo/${y}`,{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}})).json();ie.success&&he(ie.data)}catch(K){console.error("Error fetching ficha:",K)}})()},[y]);const Q=(L=Z==null?void 0:Z.cortes)==null?void 0:L.find(T=>T.numeroCorte===Number(B));b.useEffect(()=>{_&&Z?(ee(Z.materiaPrima||[]),D(Z.manoObra||[]),O(Z.insumosDirectos||[]),fe(Z.insumosIndirectos||[]),j(Z.provisiones||[])):Q&&(m(Q.fichaCorte||""),F(Q.fechaCorte||new Date().toISOString().split("T")[0]),ne(Q.cantidadCortada||0),ee(Q.materiaPrima||[]),D(Q.manoObra||[]),O(Q.insumosDirectos||[]),fe(Q.insumosIndirectos||[]),j(Q.provisiones||[]))},[_,Q]);const E=b.useMemo(()=>{const T=ie=>ie.reduce((be,oe)=>be+(oe.total||0),0);return{costoReal:T(le)+T(te)+T(f)+T(re)+T(P)}},[le,te,f,re,P]),q=(Z==null?void 0:Z.costoTotal)||0,N=q-E.costoReal,G=E.costoReal!==0?N/E.costoReal*100:0,I=async()=>{if(!p){alert("No tienes permisos");return}if(ae<=0){alert("La cantidad cortada debe ser mayor a 0");return}C(!0);const T={numeroCorte:Number(B),fichaCorte:H,fechaCorte:z,cantidadCortada:ae,materiaPrima:le,manoObra:te,insumosDirectos:f,insumosIndirectos:re,provisiones:P};try{const K=_?await gt.crearCorte(y,T,c.name):await gt.updateCorte(y,Number(B),T);if(K.success){J(!1),alert(" Corte guardado");const ie=await gt.getFichasCosto();u(be=>({...be,fichasCosto:ie})),o("fichas-costo-detalle",{referencia:y})}else alert(" "+K.message)}catch{alert(" Error de conexin")}finally{C(!1)}},g=T=>K=>{T(K),J(!0)};return a.jsxs("div",{className:"space-y-6 pb-20",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:()=>{S?confirm("Salir sin guardar?")&&o("fichas-costo-detalle",{referencia:y}):o("fichas-costo-detalle",{referencia:y})},className:"p-3 bg-slate-100 rounded-xl hover:bg-slate-200 transition-colors",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:"w-5 h-5",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})})}),a.jsxs("div",{children:[a.jsxs("h2",{className:"text-3xl font-black text-slate-800 tracking-tighter",children:[y," - CORTE #",B]}),a.jsx("p",{className:"text-slate-500 font-bold text-xs mt-1",children:_?"Nuevo corte":"Editando corte existente"})]})]}),S&&a.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-red-50 text-red-600 rounded-xl",children:[a.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),a.jsx("span",{className:"font-bold text-sm",children:"Cambios sin guardar"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm space-y-4",children:[a.jsx("h3",{className:"text-sm font-black text-slate-600 uppercase tracking-widest",children:"Informacin del Corte"}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block mb-2",children:"Ficha de Corte"}),a.jsx("input",{type:"text",value:H,onChange:T=>{m(T.target.value),J(!0)},readOnly:!p,className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl font-bold focus:ring-4 focus:ring-blue-100 focus:border-blue-500",placeholder:"Ej: 349"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block mb-2",children:"Fecha de Corte"}),a.jsx("input",{type:"date",value:z,onChange:T=>{F(T.target.value),J(!0)},readOnly:!p,className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl font-bold focus:ring-4 focus:ring-blue-100 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block mb-2",children:"Cantidad Cortada"}),a.jsx("input",{type:"number",value:ae,onChange:T=>{ne(Number(T.target.value)),J(!0)},readOnly:!p,className:"w-full px-4 py-4 bg-slate-50 border-2 border-slate-200 rounded-xl font-black text-2xl focus:ring-4 focus:ring-blue-100 focus:border-blue-500"})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-3xl border-2 border-blue-200 space-y-4",children:[a.jsx("h3",{className:"text-sm font-black text-blue-700 uppercase tracking-widest",children:"Utilidad o Prdida"}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-blue-600 uppercase tracking-widest mb-1",children:"Costo Real"}),a.jsxs("p",{className:"text-2xl font-black text-blue-700",children:["$ ",E.costoReal.toLocaleString()]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-blue-600 uppercase tracking-widest mb-1",children:"Proyectado"}),a.jsxs("p",{className:"text-2xl font-black text-blue-700",children:["$ ",q.toLocaleString()]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-blue-600 uppercase tracking-widest mb-1",children:"Diferencia"}),a.jsxs("p",{className:`text-2xl font-black ${N>=0?"text-green-600":"text-red-600"}`,children:["$ ",N.toLocaleString()]})]})]}),a.jsxs("div",{className:"pt-4 border-t-2 border-blue-300",children:[a.jsx("p",{className:"text-[10px] font-black text-blue-600 uppercase tracking-widest mb-2",children:"M.R Utilidad"}),a.jsxs("div",{className:"flex items-end gap-3",children:[a.jsxs("p",{className:`text-6xl font-black ${G>=0?"text-green-600":"text-red-600"}`,children:[G.toFixed(2),"%"]}),a.jsx("div",{className:`mb-3 px-4 py-2 rounded-xl ${G>=0?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:a.jsx("p",{className:"text-xs font-black uppercase",children:G>=0?" Utilidad":" Prdida"})})]})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-purple-600 to-purple-500 p-6 rounded-3xl text-white shadow-lg",children:[a.jsx("p",{className:"text-sm font-black uppercase tracking-widest opacity-90 mb-2",children:"Costo Real del Corte"}),a.jsxs("p",{className:"text-5xl font-black",children:["$ ",E.costoReal.toLocaleString()]})]})]}),a.jsxs("div",{className:"space-y-6 lg:col-span-2",children:[a.jsx(Gt,{titulo:"MATERIA PRIMA",color:"pink",conceptos:le,onChange:g(ee),readOnly:!p,mostrarTipo:!0}),a.jsx(Gt,{titulo:"MANO DE OBRA",color:"blue",conceptos:te,onChange:g(D),readOnly:!p}),a.jsx(Gt,{titulo:"INSUMOS DIRECTOS",color:"slate",conceptos:f,onChange:g(O),readOnly:!p}),a.jsx(Gt,{titulo:"INSUMOS INDIRECTOS",color:"orange",conceptos:re,onChange:g(fe),readOnly:!p}),a.jsx(Gt,{titulo:"PROVISIONES",color:"red",conceptos:P,onChange:g(j),readOnly:!p})]})]}),p&&a.jsx("button",{onClick:I,disabled:v,className:"w-full py-6 bg-gradient-to-r from-purple-600 to-purple-500 text-white font-black text-2xl rounded-3xl shadow-2xl hover:shadow-purple-200 hover:scale-[1.01] transition-all disabled:opacity-50 disabled:cursor-not-allowed uppercase tracking-wider",children:v?"GUARDANDO...":`GUARDAR CORTE #${B}`})]})},_p=({state:d,user:c,updateState:u,onNavigate:o})=>{const[h,y]=b.useState(!1),[B,_]=b.useState(!1),[p,v]=b.useState(""),[C,S]=b.useState(""),[J,H]=b.useState(null),[m,z]=b.useState(!1),F=(c==null?void 0:c.role)==="admin"||(c==null?void 0:c.role)==="general",ae=async()=>{if(!p.trim()){alert("El nombre es obligatorio");return}z(!0);try{const le=await gt.createMaleta(p,C||null,[],c.name);if(le.success){const ee=await gt.getMaletas();u(te=>({...te,maletas:ee})),y(!1),v(""),S(""),o("maletas-asignar",{id:le.data.id})}else alert(" "+le.message)}catch{alert(" Error de conexin")}finally{z(!1)}},ne=async()=>{if(J){z(!0);try{const le=await gt.deleteMaleta(J);if(le.success){const ee=await gt.getMaletas();u(te=>({...te,maletas:ee})),_(!1),H(null),alert(" Maleta eliminada")}else alert(" "+le.message)}catch{alert(" Error de conexin")}finally{z(!1)}}};return a.jsxs("div",{className:"space-y-6 pb-20",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-black text-slate-800 tracking-tighter",children:"Maletas"}),a.jsxs("p",{className:"text-slate-500 font-bold text-xs mt-1",children:[(d.maletas||[]).length," maleta",(d.maletas||[]).length!==1?"s":""]})]}),F&&a.jsxs("button",{onClick:()=>y(!0),className:"px-8 py-4 bg-gradient-to-r from-purple-600 to-purple-500 text-white font-black rounded-2xl shadow-lg hover:shadow-xl hover:scale-105 transition-all flex items-center gap-2 uppercase tracking-wider text-sm",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:3,stroke:"currentColor",className:"w-5 h-5",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),"Crear Maleta"]})]}),(d.maletas||[]).length===0?a.jsxs("div",{className:"bg-white p-24 rounded-[48px] border-2 border-dashed border-slate-200 flex flex-col items-center text-center",children:[a.jsx("div",{className:"w-20 h-20 bg-slate-100 rounded-full flex items-center justify-center text-slate-300 mb-4",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-10 h-10",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 00.75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 00-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0112 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 01-.673-.38m0 0A2.18 2.18 0 013 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 013.413-.387m7.5 0V5.25A2.25 2.25 0 0013.5 3h-3a2.25 2.25 0 00-2.25 2.25v.894m7.5 0a48.667 48.667 0 00-7.5 0M12 12.75h.008v.008H12v-.008z"})})}),a.jsx("p",{className:"text-slate-400 font-bold text-lg",children:"No hay maletas creadas"}),F&&a.jsx("button",{onClick:()=>y(!0),className:"mt-6 px-6 py-3 bg-purple-500 text-white font-black rounded-xl hover:bg-purple-600 transition-colors",children:"Crear Primera Maleta"})]}):a.jsx("div",{className:"bg-white rounded-3xl border border-slate-100 shadow-sm overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsx("tr",{className:"bg-slate-50 border-b border-slate-100",children:["Nombre","Correra","# Refs","Creada por","Acciones"].map(le=>a.jsx("th",{className:`px-6 py-4 ${le==="Acciones"?"text-right":le==="# Refs"?"text-center":"text-left"}`,children:a.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:le})},le))})}),a.jsx("tbody",{className:"divide-y divide-slate-50",children:(d.maletas||[]).map(le=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsx("p",{className:"font-black text-slate-800",children:le.nombre})}),a.jsx("td",{className:"px-6 py-4",children:le.correriaNombre?a.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-blue-50 text-blue-700 rounded-lg",children:[a.jsx("span",{className:"font-bold text-sm",children:le.correriaNombre}),a.jsx("span",{className:"text-xs opacity-75",children:le.correriaYear})]}):a.jsx("span",{className:"text-slate-400 italic text-sm",children:"Sin correra"})}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("span",{className:"inline-flex items-center justify-center w-10 h-10 bg-purple-100 text-purple-700 rounded-full font-black",children:le.numReferencias})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"text-slate-600 font-bold text-sm",children:le.createdBy})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("button",{onClick:()=>o("maletas-asignar",{id:le.id}),className:"px-4 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors font-bold text-sm",children:"Ver / Editar"}),F&&a.jsx("button",{onClick:()=>{H(le.id),_(!0)},className:"px-4 py-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors font-bold text-sm",children:"Eliminar"})]})})]},le.id))})]})}),h&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/40 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-md w-full p-8",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-8 h-8 text-purple-600",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 00.75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 00-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0112 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 01-.673-.38m0 0A2.18 2.18 0 013 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 013.413-.387m7.5 0V5.25A2.25 2.25 0 0013.5 3h-3a2.25 2.25 0 00-2.25 2.25v.894m7.5 0a48.667 48.667 0 00-7.5 0M12 12.75h.008v.008H12v-.008z"})})}),a.jsx("h3",{className:"text-2xl font-black text-slate-800 mb-2",children:"Crear Nueva Maleta"}),a.jsx("p",{className:"text-sm text-slate-500 font-bold",children:"Nombre y correra (opcional)"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block mb-2",children:"Nombre de Maleta"}),a.jsx("input",{type:"text",value:p,onChange:le=>v(le.target.value),placeholder:"Ej: Maleta Madres 2026",autoFocus:!0,className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl font-bold focus:ring-4 focus:ring-purple-100 focus:border-purple-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest block mb-2",children:"Correra (Opcional)"}),a.jsxs("select",{value:C,onChange:le=>S(le.target.value),className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl font-bold focus:ring-4 focus:ring-purple-100 focus:border-purple-500",children:[a.jsx("option",{value:"",children:"Sin correra"}),(d.correrias||[]).map(le=>a.jsxs("option",{value:le.id,children:[le.name," ",le.year]},le.id))]})]})]}),a.jsxs("div",{className:"flex gap-3 mt-8",children:[a.jsx("button",{onClick:()=>{y(!1),v(""),S("")},className:"flex-1 px-6 py-3 bg-slate-100 text-slate-600 font-black rounded-xl hover:bg-slate-200 transition-colors uppercase tracking-wide text-sm",children:"Cancelar"}),a.jsx("button",{onClick:ae,disabled:m,className:"flex-1 px-6 py-3 bg-gradient-to-r from-purple-600 to-purple-500 text-white font-black rounded-xl hover:shadow-lg transition-all uppercase tracking-wide text-sm disabled:opacity-50",children:m?"CREANDO...":"CREAR"})]})]})}),B&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/40 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-md w-full p-8",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("h3",{className:"text-2xl font-black text-slate-800 mb-2",children:"Eliminar Maleta?"}),a.jsx("p",{className:"text-sm text-slate-500 font-bold",children:"Esta accin no se puede deshacer."})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>{_(!1),H(null)},className:"flex-1 px-6 py-3 bg-slate-100 text-slate-600 font-black rounded-xl hover:bg-slate-200 transition-colors uppercase tracking-wide text-sm",children:"Cancelar"}),a.jsx("button",{onClick:ne,disabled:m,className:"flex-1 px-6 py-3 bg-gradient-to-r from-red-600 to-red-500 text-white font-black rounded-xl hover:shadow-lg transition-all uppercase tracking-wide text-sm disabled:opacity-50",children:m?"ELIMINANDO...":"ELIMINAR"})]})]})})]})},Vp=({state:d,user:c,updateState:u,onNavigate:o,params:h})=>{const y=(h==null?void 0:h.id)||"",B=(c==null?void 0:c.role)==="admin"||(c==null?void 0:c.role)==="general",[_,p]=b.useState(null),[v,C]=b.useState([]),[S,J]=b.useState([]),[H,m]=b.useState(""),[z,F]=b.useState(!1);b.useEffect(()=>{y&&(async()=>{try{const[D,f]=await Promise.all([gt.getMaleta(y),gt.getReferenciasSinCorreria()]);p(D),C(f),D!=null&&D.referencias&&J(D.referencias.map(O=>O.referencia))}catch{alert("Error al cargar datos")}})()},[y]);const ae=H.trim().length>=2?(d.references||[]).filter(te=>te.id.toLowerCase().includes(H.toLowerCase())||(te.description||"").toLowerCase().includes(H.toLowerCase())).slice(0,10):[],ne=te=>J(D=>D.includes(te)?D.filter(f=>f!==te):[...D,te]),le=async()=>{if(!B){alert("Sin permisos");return}if(S.length===0){alert("Seleccione al menos una referencia");return}F(!0);try{const te=await gt.updateMaleta(y,_==null?void 0:_.nombre,_==null?void 0:_.correriaId,S);if(te.success){alert(" Maleta guardada");const D=await gt.getMaletas();u(f=>({...f,maletas:D})),o("maletas")}else alert(" "+te.message)}catch{alert(" Error de conexin")}finally{F(!1)}};if(!_)return a.jsx("div",{className:"flex items-center justify-center h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 border-4 border-purple-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-slate-500 font-bold",children:"Cargando maleta..."})]})});const ee=(d.correrias||[]).find(te=>te.id===_.correriaId);return a.jsxs("div",{className:"space-y-6 pb-20",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:()=>o("maletas"),className:"p-3 bg-slate-100 rounded-xl hover:bg-slate-200 transition-colors",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:"w-5 h-5",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-black text-slate-800 tracking-tighter",children:_.nombre}),a.jsxs("p",{className:"text-slate-500 font-bold text-xs mt-1",children:[ee?`${ee.name} ${ee.year}`:"Sin correra","  ",S.length," referencia",S.length!==1?"s":""," seleccionada",S.length!==1?"s":""]})]})]}),B&&a.jsx("button",{onClick:le,disabled:z,className:"px-8 py-4 bg-gradient-to-r from-purple-600 to-purple-500 text-white font-black rounded-2xl shadow-lg hover:shadow-xl hover:scale-105 transition-all disabled:opacity-50 uppercase tracking-wider text-sm",children:z?"GUARDANDO...":"GUARDAR MALETA"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("h3",{className:"text-lg font-black text-slate-800 mb-1",children:"Referencias Disponibles"}),a.jsxs("p",{className:"text-xs text-slate-500 font-bold",children:[v.length," sin correra asignada"]})]}),v.length===0?a.jsx("div",{className:"py-12 text-center",children:a.jsx("p",{className:"text-slate-400 font-bold",children:"No hay referencias disponibles"})}):a.jsx("div",{className:"space-y-2 max-h-[500px] overflow-y-auto pr-2",children:v.map(te=>a.jsxs("label",{className:`flex items-center gap-3 p-3 rounded-xl border-2 cursor-pointer transition-all ${S.includes(te.referencia)?"bg-purple-50 border-purple-300":"bg-slate-50 border-slate-200 hover:border-purple-200"}`,children:[a.jsx("input",{type:"checkbox",checked:S.includes(te.referencia),onChange:()=>ne(te.referencia),disabled:!B,className:"w-5 h-5 text-purple-600 rounded focus:ring-purple-500"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-black text-slate-800",children:te.referencia}),a.jsx("p",{className:"text-xs text-slate-500 font-bold truncate",children:te.descripcion||"Sin descripcin"})]})]},te.referencia))})]}),a.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("h3",{className:"text-lg font-black text-slate-800 mb-1",children:"Buscar Referencias Antiguas"}),a.jsx("p",{className:"text-xs text-slate-500 font-bold",children:"Referencias que ya tienen correra"})]}),a.jsx("div",{className:"mb-4 relative",children:a.jsx("input",{type:"text",value:H,onChange:te=>m(te.target.value),placeholder:"Mn. 2 caracteres...",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl font-bold focus:ring-4 focus:ring-purple-100 focus:border-purple-500"})}),H.trim().length<2?a.jsx("div",{className:"py-12 text-center",children:a.jsx("p",{className:"text-slate-400 font-bold text-sm",children:"Escribe al menos 2 caracteres"})}):ae.length===0?a.jsx("div",{className:"py-12 text-center",children:a.jsx("p",{className:"text-slate-400 font-bold",children:"Sin resultados"})}):a.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto pr-2",children:ae.map(te=>a.jsxs("label",{className:`flex items-center gap-3 p-3 rounded-xl border-2 cursor-pointer transition-all ${S.includes(te.id)?"bg-purple-50 border-purple-300":"bg-slate-50 border-slate-200 hover:border-purple-200"}`,children:[a.jsx("input",{type:"checkbox",checked:S.includes(te.id),onChange:()=>ne(te.id),disabled:!B,className:"w-5 h-5 text-purple-600 rounded focus:ring-purple-500"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-black text-slate-800",children:te.id}),a.jsx("p",{className:"text-xs text-slate-500 font-bold truncate",children:te.description||"Sin descripcin"})]})]},te.id))})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 p-6 rounded-3xl border-2 border-purple-200",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-black text-purple-700 uppercase tracking-widest mb-1",children:"Resumen de Seleccin"}),a.jsx("p",{className:"text-3xl font-black text-purple-800",children:S.length}),a.jsxs("p",{className:"text-xs text-purple-600 font-bold mt-1",children:["referencia",S.length!==1?"s":""," seleccionada",S.length!==1?"s":""]})]}),S.length>0&&a.jsx("button",{onClick:()=>J([]),className:"px-4 py-2 bg-white text-purple-600 rounded-xl font-bold text-sm hover:bg-purple-50 transition-colors",children:"Limpiar"})]}),S.length>0&&a.jsxs("div",{className:"mt-4 pt-4 border-t-2 border-purple-300",children:[a.jsx("p",{className:"text-xs font-black text-purple-600 uppercase tracking-widest mb-2",children:"Seleccionadas:"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[S.slice(0,20).map(te=>a.jsx("span",{className:"px-3 py-1 bg-white text-purple-700 rounded-lg text-xs font-bold",children:te},te)),S.length>20&&a.jsxs("span",{className:"px-3 py-1 bg-purple-200 text-purple-700 rounded-lg text-xs font-bold",children:["+",S.length-20," ms"]})]})]})]})]})},Hp=()=>{const[d,c]=b.useState({users:[],references:[],clients:[],confeccionistas:[],sellers:[],correrias:[],receptions:[],returnReceptions:[],dispatches:[],orders:[],productionTracking:[],deliveryDates:[],disenadoras:[],fichasDiseno:[],fichasCosto:[],maletas:[]}),[u,o]=b.useState(null),[h,y]=b.useState("home"),[B,_]=b.useState(!1),[p,v]=b.useState(!1),[C,S]=b.useState(!1),[J,H]=b.useState({}),[m,z]=b.useState(null);b.useEffect(()=>{(async()=>{if(u){v(!0),console.log(" Cargando datos del backend...");try{const[A,V,ue,ge,Ne,rt,Ye,Pe,Tt,ye,Oe,dt,At,kt,Ie,$t]=await Promise.all([De.listUsers(),De.getReferences(),De.getClients(),De.getConfeccionistas(),De.getSellers(),De.getCorrerias(),De.getReceptions(),De.getReturnReceptions(),De.getDispatches(),De.getOrders(),De.getProductionTracking(),De.getDeliveryDates(),(async()=>{try{return(await(await fetch(`${window.location.protocol}//${window.location.hostname}:3000/api/disenadoras`,{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}})).json()).data||[]}catch(pe){return console.warn(" Error cargando diseadoras:",pe),[]}})(),(async()=>{try{return(await(await fetch(`${window.location.protocol}//${window.location.hostname}:3000/api/fichas-diseno`,{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}})).json()).data||[]}catch(pe){return console.warn(" Error cargando fichas de diseo:",pe),[]}})(),(async()=>{try{return(await(await fetch(`${window.location.protocol}//${window.location.hostname}:3000/api/fichas-costo`,{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}})).json()).data||[]}catch(pe){return console.warn(" Error cargando fichas de costo:",pe),[]}})(),(async()=>{try{return(await(await fetch(`${window.location.protocol}//${window.location.hostname}:3000/api/maletas`,{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}})).json()).data||[]}catch(pe){return console.warn(" Error cargando maletas:",pe),[]}})()]);c({users:A,references:V,clients:ue,confeccionistas:ge,sellers:Ne,correrias:rt,receptions:Ye,returnReceptions:Pe,dispatches:Tt,orders:ye,productionTracking:Oe,deliveryDates:dt,disenadoras:At,fichasDiseno:kt,fichasCosto:Ie,maletas:$t}),console.log(" Datos cargados del backend exitosamente"),console.log(" Referencias:",V.length),console.log(" Clientes:",ue.length),console.log(" Vendedores:",Ne.length,Ne),console.log(" Diseadoras:",At.length),console.log(" Fichas de Diseo:",kt.length),console.log(" Fichas de Costo:",Ie.length),console.log(" Maletas:",$t.length)}catch(A){console.error(" Error cargando datos del backend:",A),alert("Error al cargar datos del servidor. Por favor, recarga la pgina.")}finally{v(!1)}}})()},[u]);const F=()=>{De.logout(),o(null),_(!1),c({users:[],references:[],clients:[],confeccionistas:[],sellers:[],correrias:[],receptions:[],returnReceptions:[],dispatches:[],orders:[],productionTracking:[],deliveryDates:[],disenadoras:[],fichasDiseno:[],fichasCosto:[],maletas:[]})},ae=w=>{c(A=>w(A))},ne=(w,A)=>{if(h==="orders"&&C){if(!window.confirm(` Tienes cambios sin guardar en Pedidos.

Ests seguro de que quieres salir sin guardar?

Los cambios se perdern.`))return;S(!1)}if(w==="reception"){z(null),y("receptionSelector"),_(!1);return}H(A||{}),y(w),_(!1)},le=w=>{z(w),y(w==="recepcion"?"reception":"returnReception")},ee=w=>{y(w),_(!1)},te=async w=>{try{const A=await De.createReference(w);return A.success&&A.data?(c(V=>({...V,references:[...V.references,A.data]})),console.log(" Referencia creada"),{success:!0}):(alert(A.message||"Error al crear referencia"),{success:!1,message:A.message})}catch(A){return console.error(" Error creando referencia:",A),alert("Error de conexin con el servidor"),{success:!1,message:"Error de conexin"}}},D=async(w,A)=>{try{const V=await De.updateReference(w,A);return V.success&&V.data?(c(ue=>({...ue,references:ue.references.map(ge=>ge.id===w?V.data:ge)})),console.log(" Referencia actualizada"),{success:!0}):(alert(V.message||"Error al actualizar referencia"),{success:!1})}catch(V){return console.error(" Error actualizando referencia:",V),alert("Error de conexin con el servidor"),{success:!1}}},f=async w=>{try{const A=await De.deleteReference(w);return A.success?(c(V=>({...V,references:V.references.filter(ue=>ue.id!==w)})),console.log(" Referencia eliminada"),{success:!0}):(alert(A.message||"Error al eliminar referencia"),{success:!1})}catch(A){return console.error(" Error eliminando referencia:",A),alert("Error de conexin con el servidor"),{success:!1}}},O=async w=>{try{const A=await De.createClient(w);return A.success&&A.data?(c(V=>({...V,clients:[...V.clients,A.data]})),console.log(" Cliente creado"),{success:!0}):(alert(A.message||"Error al crear cliente"),{success:!1})}catch(A){return console.error(" Error creando cliente:",A),alert("Error de conexin con el servidor"),{success:!1}}},re=async(w,A)=>{try{const V=await De.updateClient(w,A);return V.success&&V.data?(c(ue=>({...ue,clients:ue.clients.map(ge=>ge.id===w?V.data:ge)})),console.log(" Cliente actualizado"),{success:!0}):(alert(V.message||"Error al actualizar cliente"),{success:!1})}catch(V){return console.error(" Error actualizando cliente:",V),alert("Error de conexin con el servidor"),{success:!1}}},fe=async w=>{try{const A=await De.deleteClient(w);return A.success?(c(V=>({...V,clients:V.clients.filter(ue=>ue.id!==w)})),console.log(" Cliente eliminado"),{success:!0}):(alert(A.message||"Error al eliminar cliente"),{success:!1})}catch(A){return console.error(" Error eliminando cliente:",A),alert("Error de conexin con el servidor"),{success:!1}}},P=async w=>{try{const A=await De.createConfeccionista(w);return A.success&&A.data?(c(V=>({...V,confeccionistas:[...V.confeccionistas,A.data]})),console.log(" Confeccionista creado"),{success:!0}):(alert(A.message||"Error al crear confeccionista"),{success:!1})}catch(A){return console.error(" Error creando confeccionista:",A),alert("Error de conexin con el servidor"),{success:!1}}},j=async(w,A)=>{try{const V=await De.updateConfeccionista(w,A);return V.success&&V.data?(c(ue=>({...ue,confeccionistas:ue.confeccionistas.map(ge=>ge.id===w?V.data:ge)})),console.log(" Confeccionista actualizado"),{success:!0}):(alert(V.message||"Error al actualizar confeccionista"),{success:!1})}catch(V){return console.error(" Error actualizando confeccionista:",V),alert("Error de conexin con el servidor"),{success:!1}}},Z=async w=>{try{const A=await De.deleteConfeccionista(w);return A.success?(c(V=>({...V,confeccionistas:V.confeccionistas.filter(ue=>ue.id!==w)})),console.log(" Confeccionista eliminado"),{success:!0}):(alert(A.message||"Error al eliminar confeccionista"),{success:!1})}catch(A){return console.error(" Error eliminando confeccionista:",A),alert("Error de conexin con el servidor"),{success:!1}}},he=async w=>{try{const A=await De.createSeller(w);return A.success&&A.data?(c(V=>({...V,sellers:[...V.sellers,A.data]})),console.log(" Vendedor creado"),{success:!0}):(alert(A.message||"Error al crear vendedor"),{success:!1})}catch(A){return console.error(" Error creando vendedor:",A),alert("Error de conexin con el servidor"),{success:!1}}},Q=async(w,A)=>{try{const V=await De.updateSeller(w,A);return V.success&&V.data?(c(ue=>({...ue,sellers:ue.sellers.map(ge=>ge.id===w?V.data:ge)})),console.log(" Vendedor actualizado"),{success:!0}):(alert(V.message||"Error al actualizar vendedor"),{success:!1})}catch(V){return console.error(" Error actualizando vendedor:",V),alert("Error de conexin con el servidor"),{success:!1}}},E=async w=>{try{const A=await De.deleteSeller(w);return A.success?(c(V=>({...V,sellers:V.sellers.filter(ue=>ue.id!==w)})),console.log(" Vendedor eliminado"),{success:!0}):(alert(A.message||"Error al eliminar vendedor"),{success:!1})}catch(A){return console.error(" Error eliminando vendedor:",A),alert("Error de conexin con el servidor"),{success:!1}}},q=async w=>{try{const A=await De.createUser(w.name,w.loginCode,w.pin,w.role);return A.success&&A.data?(c(V=>({...V,users:[...V.users,A.data]})),console.log(" Usuario creado"),{success:!0}):(alert(A.message||"Error al crear usuario"),{success:!1})}catch(A){return console.error(" Error creando usuario:",A),alert("Error de conexin con el servidor"),{success:!1}}},N=async(w,A)=>{try{const V=await De.updateUser(w,A);return V.success&&V.data?(c(ue=>({...ue,users:ue.users.map(ge=>ge.id===w?V.data:ge)})),console.log(" Usuario actualizado"),{success:!0}):(alert(V.message||"Error al actualizar usuario"),{success:!1})}catch(V){return console.error(" Error actualizando usuario:",V),alert("Error de conexin con el servidor"),{success:!1}}},G=async w=>{try{const A=await De.deleteUser(w);return A.success?(c(V=>({...V,users:V.users.filter(ue=>ue.id!==w)})),console.log(" Usuario eliminado"),{success:!0}):(alert(A.message||"Error al eliminar usuario"),{success:!1})}catch(A){return console.error(" Error eliminando usuario:",A),alert("Error de conexin con el servidor"),{success:!1}}},I=async w=>{try{const A=await De.createCorreria(w);return A.success&&A.data?(c(V=>({...V,correrias:[...V.correrias,A.data]})),console.log(" Correra creada"),{success:!0}):(alert(A.message||"Error al crear correra"),{success:!1})}catch(A){return console.error(" Error creando correra:",A),alert("Error de conexin con el servidor"),{success:!1}}},g=async(w,A)=>{try{const V=await De.updateCorreria(w,A);return V.success&&V.data?(c(ue=>({...ue,correrias:ue.correrias.map(ge=>ge.id===w?V.data:ge)})),console.log(" Correra actualizada"),{success:!0}):(alert(V.message||"Error al actualizar correra"),{success:!1})}catch(V){return console.error(" Error actualizando correra:",V),alert("Error de conexin con el servidor"),{success:!1}}},L=async w=>{try{const A=await De.deleteCorreria(w);return A.success?(c(V=>({...V,correrias:V.correrias.filter(ue=>ue.id!==w)})),console.log(" Correra eliminada"),{success:!0}):(alert(A.message||"Error al eliminar correra"),{success:!1})}catch(A){return console.error(" Error eliminando correra:",A),alert("Error de conexin con el servidor"),{success:!1}}},T=async w=>{try{const A=await De.createReception(w);return A.success&&A.data?(c(V=>({...V,receptions:[...V.receptions,A.data]})),console.log(" Recepcin creada"),{success:!0}):(alert(A.message||"Error al crear recepcin"),{success:!1})}catch(A){return console.error(" Error creando recepcin:",A),alert("Error de conexin con el servidor"),{success:!1}}},K=async w=>{try{const A=await De.createReturnReception(w);return A.success&&A.data?(c(V=>({...V,returnReceptions:[...V.returnReceptions||[],A.data]})),console.log(" Devolucin creada"),{success:!0}):(alert(A.message||"Error al crear devolucin"),{success:!1})}catch(A){return console.error(" Error creando devolucin:",A),alert("Error de conexin con el servidor"),{success:!1}}},ie=async w=>{try{const A=await De.createDispatch(w);return A.success&&A.data?(c(V=>({...V,dispatches:[...V.dispatches,A.data]})),console.log(" Despacho creado"),{success:!0}):(alert(A.message||"Error al crear despacho"),{success:!1})}catch(A){return console.error(" Error creando despacho:",A),alert("Error de conexin con el servidor"),{success:!1}}},be=async(w,A)=>{try{const V=await De.updateDispatch(w,A);return V.success&&V.data?(c(ue=>({...ue,dispatches:ue.dispatches.map(ge=>ge.id===w?V.data:ge)})),console.log(" Despacho actualizado"),{success:!0}):(alert(V.message||"Error al actualizar despacho"),{success:!1})}catch(V){return console.error(" Error actualizando despacho:",V),alert("Error de conexin con el servidor"),{success:!1}}},oe=async w=>{try{const A=await De.deleteDispatch(w);return A.success?(c(V=>({...V,dispatches:V.dispatches.filter(ue=>ue.id!==w)})),console.log(" Despacho eliminado"),{success:!0}):(alert(A.message||"Error al eliminar despacho"),{success:!1})}catch(A){return console.error(" Error eliminando despacho:",A),alert("Error de conexin con el servidor"),{success:!1}}};if(!u)return a.jsx(_h,{users:d.users,onLogin:o,onRegister:w=>o(w)});if(p)return a.jsx("div",{className:"h-screen w-screen flex items-center justify-center bg-slate-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-slate-600 font-semibold",children:"Cargando datos..."})]})});const xe=()=>{switch(h){case"receptionSelector":return a.jsxs("div",{className:"space-y-8 pb-20",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-black text-slate-800 tracking-tighter",children:"Recepcin"}),a.jsx("p",{className:"text-slate-400 font-medium",children:"Selecciona el tipo de recepcin"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("button",{onClick:()=>le("recepcion"),className:"bg-white p-8 rounded-[32px] shadow-sm border border-slate-100 hover:shadow-md hover:border-blue-200 transition-all flex flex-col items-center justify-center gap-6 min-h-[300px]",children:[a.jsx("div",{className:"w-16 h-16 bg-blue-50 rounded-full flex items-center justify-center",children:a.jsx(ve.Reception,{})}),a.jsxs("div",{className:"text-center space-y-2",children:[a.jsx("h3",{className:"text-2xl font-black text-slate-800",children:"Recepcin de Lotes"}),a.jsx("p",{className:"text-slate-400 font-medium",children:"Ingreso de produccin de confeccionistas"})]})]}),a.jsxs("button",{onClick:()=>le("devolucion"),className:"bg-white p-8 rounded-[32px] shadow-sm border border-slate-100 hover:shadow-md hover:border-pink-200 transition-all flex flex-col items-center justify-center gap-6 min-h-[300px]",children:[a.jsx("div",{className:"w-16 h-16 bg-pink-50 rounded-full flex items-center justify-center text-pink-500",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-8 h-8",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 15L3 9m0 0l6-6M3 9h12a6 6 0 010 12h-3"})})}),a.jsxs("div",{className:"text-center space-y-2",children:[a.jsx("h3",{className:"text-2xl font-black text-slate-800",children:"Devolucin de Mercanca"}),a.jsx("p",{className:"text-slate-400 font-medium",children:"Registro de devoluciones y ajustes"})]})]})]})]});case"home":return a.jsx(cx,{user:u,onNavigate:ne,onDirectNavigate:ee,state:d,correrias:d.correrias,correriasLoading:p,correriasError:null});case"reception":return a.jsx(Qh,{user:u,receptions:d.receptions,confeccionistasMaster:d.confeccionistas,updateState:ae,referencesMaster:d.references,onAddReception:T,directToBatch:J.directToBatch});case"returnReception":return a.jsx(xx,{user:u,updateState:ae,clientsMaster:d.clients,referencesMaster:d.references,onAddReturnReception:K});case"dispatch":return a.jsx(Xh,{user:u,clients:d.clients,dispatches:d.dispatches,updateState:ae,referencesMaster:d.references,correrias:d.correrias,onAddDispatch:ie,onUpdateDispatch:be,onDeleteDispatch:oe});case"inventory":return a.jsx(Ih,{receptions:d.receptions,dispatches:d.dispatches,references:d.references});case"orders":return a.jsx(Ph,{state:d,updateState:ae,user:u,onUnsavedChanges:S});case"settle":return a.jsx(tp,{state:d,user:u,updateState:ae});case"salesReport":return a.jsx(np,{state:d});case"orderHistory":return a.jsx(ap,{state:d});case"dispatchControl":return a.jsx(sp,{state:d,user:u});case"masters":return a.jsx(Fh,{user:u,state:d,updateState:ae,onAddReference:te,onUpdateReference:D,onDeleteReference:f,onAddClient:O,onUpdateClient:re,onDeleteClient:fe,onAddConfeccionista:P,onUpdateConfeccionista:j,onDeleteConfeccionista:Z,onAddUser:q,onUpdateUser:N,onDeleteUser:G,onAddSeller:he,onUpdateSeller:Q,onDeleteSeller:E,onAddCorreria:I,onUpdateCorreria:g,onDeleteCorreria:L});case"reports":return a.jsx(Wh,{state:d,user:u});case"deliveryDates":return a.jsx(ip,{state:d,updateState:ae,user:u,onUnsavedChanges:S});case"backups":return u.role!==_e.ADMIN?(y("home"),alert("No tienes permiso para acceder a esta seccin"),a.jsx(cx,{user:u,onNavigate:ne,onDirectNavigate:ee,state:d,correrias:d.correrias,correriasLoading:p,correriasError:null})):a.jsx(op,{});case"fichas-diseno":return a.jsx(dp,{state:d,user:u,updateState:ae,onNavigate:ne});case"fichas-diseno-detalle":return a.jsx(zp,{state:d,user:u,updateState:ae,onNavigate:ne,params:J});case"fichas-costo":return a.jsx(Lp,{state:d,user:u,updateState:ae,onNavigate:ne});case"fichas-costo-detalle":return a.jsx(Up,{state:d,user:u,updateState:ae,onNavigate:ne,params:J});case"fichas-corte-detalle":return a.jsx(Bp,{state:d,user:u,updateState:ae,onNavigate:ne,params:J});case"maletas":return a.jsx(_p,{state:d,user:u,updateState:ae,onNavigate:ne});case"maletas-asignar":return a.jsx(Vp,{state:d,user:u,updateState:ae,onNavigate:ne,params:J});default:return null}};return a.jsxs("div",{className:"relative h-screen w-screen overflow-hidden text-slate-700 bg-slate-50 flex flex-col",children:[a.jsxs("header",{className:"h-20 bg-white border-b border-slate-200 px-6 flex items-center justify-between z-40 shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:()=>_(!0),className:"p-3 rounded-2xl bg-blue-50 text-blue-600 hover:bg-blue-100 transition-all shadow-sm flex items-center justify-center","aria-label":"Abrir Men",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:"w-6 h-6",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})})}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-20 h-10 bg-gradient-to-br from-blue-500 to-pink-500 rounded-xl flex items-center justify-center text-white font-black text-lg shadow-md",children:"Plow"}),a.jsxs("div",{className:"hidden sm:block",children:[a.jsx("h1",{className:"font-extrabold text-lg tracking-tighter leading-none",children:"Gestin de inventarios"}),a.jsx("span",{className:"text-[9px] text-slate-400 font-bold uppercase tracking-widest block mt-0.5",children:"Ventas y produccin"})]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:()=>ne("home"),className:"p-3 rounded-2xl bg-blue-50 text-blue-600 hover:bg-blue-100 transition-all shadow-sm flex items-center justify-center","aria-label":"Ir a Inicio",title:"Ir a Inicio",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:"w-6 h-6",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.954c.078-.078.16-.15.243-.22a.75.75 0 0 1 .976.072l8.954 8.954M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})})}),a.jsxs("div",{className:"hidden sm:flex flex-col items-end",children:[a.jsx("p",{className:"font-bold text-sm leading-none",children:u.name}),a.jsx("p",{className:"text-[10px] text-slate-400 capitalize font-bold mt-1",children:u.role})]}),a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white font-bold text-xs shadow-sm ${u.role===_e.ADMIN?"bg-pink-500":"bg-blue-500"}`,children:u.loginCode})]})]}),a.jsx("div",{className:`fixed inset-0 bg-slate-900/40 backdrop-blur-sm z-50 transition-opacity duration-300 ${B?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>_(!1),children:a.jsxs("div",{className:`absolute top-0 left-0 h-full w-full max-w-[320px] bg-white shadow-2xl transition-transform duration-300 transform ${B?"translate-x-0":"-translate-x-full"}`,onClick:w=>w.stopPropagation(),children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-40 h-10 bg-gradient-to-br from-blue-500 to-pink-500 rounded-xl flex items-center justify-center text-white font-black text-lg",children:"Men"}),a.jsx("h1",{className:"font-black text-xl tracking-tighter"})]}),a.jsx("button",{onClick:()=>_(!1),className:"p-2 text-slate-400 hover:text-slate-600",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:"w-6 h-6",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("div",{className:"p-6 space-y-0.5 overflow-y-auto max-h-[calc(100vh-200px)] custom-scrollbar",children:[a.jsx(wt,{active:h==="home",onClick:()=>ne("home"),icon:a.jsx(ve.Home,{}),label:"Inicio"}),u.role!==_e.DISEADORA&&a.jsxs("div",{className:"my-2 border-t border-slate-100 pt-2",children:[a.jsx("p",{className:"px-6 text-[10px] font-black text-slate-300 uppercase tracking-widest mb-1.5",children:"Sistema de Fichas"}),a.jsx(wt,{active:h==="fichas-diseno",onClick:()=>ne("fichas-diseno"),icon:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.53 16.122a3 3 0 00-5.78 1.128A2.25 2.25 0 002.25 18h15.75a2.25 2.25 0 002.247-2.16c.969-2.904-.946-5.514-3.979-5.514-.21 0-.414.014-.614.042a3 3 0 00-5.738-1.128M9.5 16.25v-1.002M15 16.25v-1.002"})}),label:"Fichas de Diseo"}),a.jsx(wt,{active:h==="fichas-costo",onClick:()=>ne("fichas-costo"),icon:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818l.879.659c1.171.879 3.07.879 4.242 0l.879-.659m-3.172-2.819a3 3 0 112.4 0m-5.007-7.003h0a3 3 0 016 0h0m-6 8.5h0a3 3 0 016 0h0"})}),label:"Fichas de Costo"})]}),u.role===_e.DISEADORA&&a.jsxs("div",{className:"my-2 border-t border-slate-100 pt-2",children:[a.jsx("p",{className:"px-6 text-[10px] font-black text-slate-300 uppercase tracking-widest mb-1.5",children:"Sistema de Fichas"}),a.jsx(wt,{active:h==="fichas-diseno",onClick:()=>ne("fichas-diseno"),icon:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.53 16.122a3 3 0 00-5.78 1.128A2.25 2.25 0 002.25 18h15.75a2.25 2.25 0 002.247-2.16c.969-2.904-.946-5.514-3.979-5.514-.21 0-.414.014-.614.042a3 3 0 00-5.738-1.128M9.5 16.25v-1.002M15 16.25v-1.002"})}),label:"Fichas de Diseo"})]}),u.role!==_e.DISEADORA&&a.jsxs("div",{className:"my-2 border-t border-slate-100 pt-2",children:[a.jsx("p",{className:"px-6 text-[10px] font-black text-slate-300 uppercase tracking-widest mb-1.5",children:"Manejo de Inventario"}),a.jsx(wt,{active:h==="reception",onClick:()=>ne("reception"),icon:a.jsx(ve.Reception,{}),label:"Recepcin"}),a.jsx(wt,{active:h==="dispatch",onClick:()=>ne("dispatch"),icon:a.jsx(ve.Dispatch,{}),label:"Despachos"}),a.jsx(wt,{active:h==="inventory",onClick:()=>ne("inventory"),icon:a.jsx(ve.Inventory,{}),label:"Inventario"})]}),u.role===_e.DISEADORA&&a.jsxs("div",{className:"my-2 border-t border-slate-100 pt-2",children:[a.jsx("p",{className:"px-6 text-[10px] font-black text-slate-300 uppercase tracking-widest mb-1.5",children:"Operaciones"}),a.jsx(wt,{active:h==="inventory",onClick:()=>ne("inventory"),icon:a.jsx(ve.Inventory,{}),label:"Inventario"}),a.jsx(wt,{active:h==="orders",onClick:()=>ne("orders"),icon:a.jsx(ve.Orders,{}),label:"Pedidos"}),a.jsx(wt,{active:h==="deliveryDates",onClick:()=>ne("deliveryDates"),icon:a.jsx(ve.Inventory,{}),label:"Fechas Entrega"})]}),u.role!==_e.DISEADORA&&a.jsxs("div",{className:"my-2 border-t border-slate-100 pt-2",children:[a.jsx("p",{className:"px-6 text-[10px] font-black text-slate-300 uppercase tracking-widest mb-1.5",children:"Comercial"}),a.jsx(wt,{active:h==="orders",onClick:()=>ne("orders"),icon:a.jsx(ve.Orders,{}),label:a.jsxs("span",{className:"flex items-center gap-2",children:["Pedidos",C&&a.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"})]})}),a.jsx(wt,{active:h==="dispatchControl",onClick:()=>ne("dispatchControl"),icon:a.jsx(ve.Inventory,{}),label:"Control de Despachos"}),a.jsx(wt,{active:h==="settle",onClick:()=>ne("settle"),icon:a.jsx(ve.Settle,{}),label:"Asentar Ventas"}),a.jsx(wt,{active:h==="salesReport",onClick:()=>ne("salesReport"),icon:a.jsx(ve.Reports,{}),label:"Informe de Ventas"}),a.jsx(wt,{active:h==="orderHistory",onClick:()=>ne("orderHistory"),icon:a.jsx(ve.History,{}),label:"Historial Pedidos"})]}),u.role!==_e.DISEADORA&&a.jsxs("div",{className:"my-2 border-t border-slate-100 pt-2",children:[a.jsx("p",{className:"px-6 text-[10px] font-black text-slate-300 uppercase tracking-widest mb-1.5",children:"Produccin"}),a.jsx(wt,{active:h==="maletas",onClick:()=>ne("maletas"),icon:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 7.5l-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5m6 4.5v2.25m3-6v6m3-6v2.25m-13.5-3h2.25a2.25 2.25 0 012.25 2.25v.894a2.25 2.25 0 01-2.25 2.25H5.25a2.25 2.25 0 01-2.25-2.25V8.25a2.25 2.25 0 012.25-2.25z"})}),label:"Maletas"}),a.jsx(wt,{active:h==="deliveryDates",onClick:()=>ne("deliveryDates"),icon:a.jsx(ve.Inventory,{}),label:"Fechas de Entrega"})]}),u.role!==_e.DISEADORA&&a.jsxs("div",{className:"my-2 border-t border-slate-100 pt-2",children:[a.jsx(wt,{active:h==="masters",onClick:()=>ne("masters"),icon:a.jsx(ve.Masters,{}),label:"Maestros"}),a.jsx(wt,{active:h==="reports",onClick:()=>ne("reports"),icon:a.jsx(ve.Reports,{}),label:"Reportes"}),u.role===_e.ADMIN&&a.jsx(wt,{active:h==="backups",onClick:()=>ne("backups"),icon:a.jsx(ve.Reports,{}),label:"Backups"})]})]}),a.jsx("div",{className:"absolute bottom-0 left-0 w-full p-8 border-t border-slate-100 bg-slate-50/50",children:a.jsxs("button",{onClick:F,className:"w-full py-4 flex items-center justify-center gap-3 rounded-2xl bg-white border border-slate-200 text-slate-400 font-bold hover:bg-red-50 hover:text-red-500 hover:border-red-100 transition-all shadow-sm",children:[a.jsx(ve.Logout,{}),a.jsx("span",{children:"Cerrar Sesin"})]})})]})}),a.jsx("main",{className:"flex-1 relative overflow-hidden bg-slate-50",children:a.jsx("div",{className:"h-full w-full overflow-y-auto custom-scrollbar p-6 md:p-10",children:a.jsx("div",{className:"max-w-full mx-auto",children:xe()})})})]})},wt=({active:d,onClick:c,icon:u,label:o})=>a.jsxs("button",{onClick:c,className:`w-full flex items-center gap-4 px-6 py-2.5 rounded-[22px] transition-all group ${d?"bg-gradient-to-r from-blue-600 to-blue-500 text-white font-bold shadow-lg shadow-blue-200":"text-slate-500 hover:bg-slate-100 hover:translate-x-1"}`,children:[a.jsx("span",{className:`${d?"text-white":"text-slate-400 group-hover:text-blue-500"}`,children:u}),a.jsx("span",{className:"text-[14px]",children:o})]}),px=document.getElementById("root");if(!px)throw new Error("No root element found");const qp=Uh.createRoot(px);qp.render(a.jsx(Et.StrictMode,{children:a.jsx(Hp,{})}));
